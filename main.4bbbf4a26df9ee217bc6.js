(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(u)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,c),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var s=Object(r.g)(this.onInitCallbacks),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(t,e)}catch(c){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.6.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return un}),n.d(e,"b",function(){return Ju}),n.d(e,"c",function(){return Gu}),n.d(e,"d",function(){return $u}),n.d(e,"e",function(){return Wu}),n.d(e,"f",function(){return $l}),n.d(e,"g",function(){return Ml}),n.d(e,"h",function(){return zc}),n.d(e,"i",function(){return ll}),n.d(e,"j",function(){return fc}),n.d(e,"k",function(){return nl}),n.d(e,"l",function(){return yc}),n.d(e,"m",function(){return Or}),n.d(e,"n",function(){return Ou}),n.d(e,"o",function(){return Ts}),n.d(e,"p",function(){return An}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return cn}),n.d(e,"s",function(){return qs}),n.d(e,"t",function(){return Mc}),n.d(e,"u",function(){return Fc}),n.d(e,"v",function(){return el}),n.d(e,"w",function(){return tu}),n.d(e,"x",function(){return Fl}),n.d(e,"y",function(){return Jc}),n.d(e,"z",function(){return jl}),n.d(e,"A",function(){return fl}),n.d(e,"B",function(){return jn}),n.d(e,"C",function(){return Zu}),n.d(e,"D",function(){return Xu}),n.d(e,"E",function(){return Iu}),n.d(e,"F",function(){return _c}),n.d(e,"G",function(){return vc}),n.d(e,"H",function(){return Rr}),n.d(e,"I",function(){return Sc}),n.d(e,"J",function(){return _r}),n.d(e,"K",function(){return Rn}),n.d(e,"L",function(){return Bl}),n.d(e,"M",function(){return Qc}),n.d(e,"N",function(){return _l}),n.d(e,"O",function(){return ln}),n.d(e,"P",function(){return Cc}),n.d(e,"Q",function(){return Ec}),n.d(e,"R",function(){return nu}),n.d(e,"S",function(){return M}),n.d(e,"T",function(){return Rl}),n.d(e,"U",function(){return kl}),n.d(e,"V",function(){return f}),n.d(e,"W",function(){return In}),n.d(e,"X",function(){return xl}),n.d(e,"Y",function(){return Hl}),n.d(e,"Z",function(){return El}),n.d(e,"ab",function(){return tl}),n.d(e,"bb",function(){return xs}),n.d(e,"cb",function(){return ua}),n.d(e,"db",function(){return br}),n.d(e,"eb",function(){return tr}),n.d(e,"fb",function(){return qn}),n.d(e,"gb",function(){return Hn}),n.d(e,"hb",function(){return Gn}),n.d(e,"ib",function(){return $n}),n.d(e,"jb",function(){return Kn}),n.d(e,"kb",function(){return Wn}),n.d(e,"lb",function(){return sa}),n.d(e,"mb",function(){return zl}),n.d(e,"nb",function(){return oa}),n.d(e,"ob",function(){return aa}),n.d(e,"pb",function(){return zn}),n.d(e,"qb",function(){return B}),n.d(e,"rb",function(){return Zs}),n.d(e,"sb",function(){return vo}),n.d(e,"tb",function(){return yo}),n.d(e,"ub",function(){return bo}),n.d(e,"vb",function(){return ia}),n.d(e,"wb",function(){return Tt}),n.d(e,"xb",function(){return l}),n.d(e,"yb",function(){return Bn}),n.d(e,"zb",function(){return Hs}),n.d(e,"Ab",function(){return _t}),n.d(e,"Bb",function(){return lc}),n.d(e,"Cb",function(){return xi}),n.d(e,"Db",function(){return ro}),n.d(e,"Eb",function(){return Lo}),n.d(e,"Fb",function(){return Jo}),n.d(e,"Gb",function(){return Mo}),n.d(e,"Hb",function(){return Vu}),n.d(e,"Ib",function(){return J}),n.d(e,"Jb",function(){return ot}),n.d(e,"Kb",function(){return w}),n.d(e,"Lb",function(){return S}),n.d(e,"Mb",function(){return rt}),n.d(e,"Nb",function(){return at}),n.d(e,"Ob",function(){return ao}),n.d(e,"Pb",function(){return fo}),n.d(e,"Qb",function(){return mo}),n.d(e,"Rb",function(){return po}),n.d(e,"Sb",function(){return ho}),n.d(e,"Tb",function(){return lo}),n.d(e,"Ub",function(){return go}),n.d(e,"Vb",function(){return nn}),n.d(e,"Wb",function(){return ta}),n.d(e,"Xb",function(){return tc}),n.d(e,"Yb",function(){return nc}),n.d(e,"Zb",function(){return ec}),n.d(e,"ac",function(){return Tn}),n.d(e,"bc",function(){return sn}),n.d(e,"cc",function(){return Ku}),n.d(e,"dc",function(){return _o}),n.d(e,"ec",function(){return Uu}),n.d(e,"fc",function(){return Eo}),n.d(e,"gc",function(){return Su}),n.d(e,"hc",function(){return Eu}),n.d(e,"ic",function(){return To}),n.d(e,"jc",function(){return Oo}),n.d(e,"kc",function(){return co}),n.d(e,"lc",function(){return Io}),n.d(e,"mc",function(){return xo}),n.d(e,"nc",function(){return yu}),n.d(e,"oc",function(){return bu}),n.d(e,"pc",function(){return vu}),n.d(e,"qc",function(){return Lu}),n.d(e,"rc",function(){return oo}),n.d(e,"sc",function(){return Ar}),n.d(e,"tc",function(){return $t}),n.d(e,"uc",function(){return wr}),n.d(e,"vc",function(){return it}),n.d(e,"wc",function(){return No}),n.d(e,"xc",function(){return so}),n.d(e,"yc",function(){return Hu}),n.d(e,"zc",function(){return Qo}),n.d(e,"Ac",function(){return Yo}),n.d(e,"Bc",function(){return Xo}),n.d(e,"Cc",function(){return Zo}),n.d(e,"Dc",function(){return Fu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return C(t,T)||C(t,x)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(k))?t[I]:null}const T=c({"\u0275prov":c}),I=c({"\u0275inj":c}),x=c({ngInjectableDef:c}),k=c({ngInjectorDef:c});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let j;function R(t){const e=j;return j=t,e}function D(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function P(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,B=L||U||F||V,q={},z=[],H=[],K=c({"\u0275cmp":c}),$=c({"\u0275dir":c}),W=c({"\u0275pipe":c}),G=c({"\u0275mod":c}),Q=c({"\u0275loc":c}),Y=c({"\u0275fac":c}),X=c({__NG_ELEMENT_ID__:c});let Z=0;function J(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function tt(t){return ct(t)||function(t){return t[$]||null}(t)}function et(t){return function(t){return t[W]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{nt[t.id]=t.type}),e}function it(t,e){return P(()=>{const n=ut(t,!0);n.declarations=e.declarations||H,n.imports=e.imports||H,n.exports=e.exports||H})}function st(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function ut(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),St}function St(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new vt(c&&c.currentValue,e,o===q),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let Ot;function Tt(t){Ot=t}function It(){return void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0}function xt(t){return!!t.listen}_t.ngInherit=!0;const kt={createRenderer:(t,e)=>It()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return At(e[t])}function Rt(t,e){return At(e[t.index])}function Dt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Nt(t,e){const n=e[t];return dt(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return qt.bindingsEnabled}function Ht(){return qt.lFrame.lView}function Kt(){return qt.lFrame.tView}function $t(t){qt.lFrame.contextLView=t}function Wt(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return qt.lFrame.currentTNode}function Qt(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Xt(){return qt.lFrame.isParent}function Zt(){qt.lFrame.isParent=!1}function Jt(){return qt.isInCheckNoChangesMode}function te(t){qt.isInCheckNoChangesMode=t}function ee(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ne(){return qt.lFrame.bindingIndex}function re(){return qt.lFrame.bindingIndex++}function ie(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function se(t){qt.lFrame.inI18n=t}function oe(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){qt.lFrame.currentDirectiveIndex=t}function ce(){return qt.lFrame.currentQueryIndex}function ue(t){qt.lFrame.currentQueryIndex=t}function le(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function he(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=le(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function de(t){const e=fe(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?pe(t):e}function pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function me(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=me;function ye(){const t=me();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function be(){return qt.lFrame.selectedIndex}function ve(t){qt.lFrame.selectedIndex=t}function _e(){const t=qt.lFrame;return Dt(t.tView,t.selectedIndex)}function we(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Se(t,e,n){Oe(t,e,3,n)}function Ee(t,e,n,r){(3&t[2])===n&&Oe(t,e,n,r)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Oe(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ie=-1;class xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];je(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function je(t){return 64===t.charCodeAt(0)}function Re(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||De(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function De(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Pe(t){return t!==Ie}function Ne(t){return 32767&t}function Me(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Fe(t){const e=Le;return Le=t,e}let Ve=0;function Ue(t,e){const n=qe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Be(r.data,t),Be(e,null),Be(r.blueprint,null));const i=ze(t,e),s=t.injectorIndex;if(Pe(i)){const t=Ne(i),n=Me(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Be(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ie;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ie}function He(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Ve++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ke(t,e,n){if(n&A.Optional)return t;v(e,"NodeInjector")}function $e(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],s=R(void 0);try{return i?i.get(e,r,n&A.Optional):D(e,r,n&A.Optional)}finally{R(s)}}return Ke(r,e,n)}function We(t,e,n,r=A.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Qe:e}(n);if("function"==typeof s){if(!he(e,t,r))return r&A.Host?Ke(i,n,r):$e(e,n,r,i);try{const t=s();if(null!=t||r&A.Optional)return t;v(n)}finally{ge()}}else if("number"==typeof s){let i=null,o=qe(t,e),a=Ie,c=r&A.Host?e[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?ze(t,e):e[o+8],a!==Ie&&tn(r,!1)?(i=e[1],o=Ne(a),e=Me(a,e)):o=-1);-1!==o;){const t=e[1];if(Je(s,o,t.data)){const t=Ye(o,e,n,i,r,c);if(t!==Ge)return t}a=e[o+8],a!==Ie&&tn(r,e[1].data[o+8]===c)&&Je(s,o,e)?(i=t,o=Ne(a),e=Me(a,e)):o=-1}}}return $e(e,n,r,i)}const Ge={};function Qe(){return new en(Wt(),Ht())}function Ye(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=Xe(a,o,n,null==r?mt(a)&&Le:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==c?Ze(e,o,c,a):Ge}function Xe(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&yt(t)&&t.type===n)return c}return null}function Ze(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof xe){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Fe(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?R(o.injectImpl):null;he(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&R(c),Fe(a),o.resolving=!1,ge()}}return i}function Je(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function tn(t,e){return!(t&A.Self||t&A.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return We(this._tNode,this._lView,t,void 0,e)}}function nn(t){return P(()=>{const e=t.prototype.constructor,n=e[Y]||rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return m(t)?()=>{const e=rn(p(t));return e&&e()}:bt(t)}function sn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Wt(),t)}const on="__parameters__";function an(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(on)?t[on]:Object.defineProperty(t,on,{value:[]})[on];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class cn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const un=new cn("AnalyzeForEntryComponents"),ln=Function;function hn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),hn(r,e)):e!==t&&e.push(r)}return e}function dn(t,e){t.forEach(t=>Array.isArray(t)?dn(t,e):e(t))}function fn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function gn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const vn={},_n=/\n/gm,wn="__source",Sn=c({provide:String,useValue:c});let En;function Cn(t){const e=En;return En=t,e}function On(t,e=A.Default){if(void 0===En)throw new Error("inject() must be called from an injection context");return null===En?D(t,void 0,e):En.get(t,e&A.Optional?null:void 0,e)}function Tn(t,e=A.Default){return(j||On)(p(t),e)}const In=Tn;function xn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(Tn(t,n))}else e.push(Tn(r))}return e}function kn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const An=kn(an("Inject",t=>({token:t})),-1),jn=kn(an("Optional"),8),Rn=kn(an("SkipSelf"),4);let Dn;function Pn(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,B.trustedTypes))try{Dn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mn extends Nn{getTypeName(){return"HTML"}}class Ln extends Nn{getTypeName(){return"Style"}}class Fn extends Nn{getTypeName(){return"Script"}}class Vn extends Nn{getTypeName(){return"URL"}}class Un extends Nn{getTypeName(){return"ResourceURL"}}function Bn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function qn(t,e){const n=zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function zn(t){return t instanceof Nn&&t.getTypeName()||null}function Hn(t){return new Mn(t)}function Kn(t){return new Ln(t)}function $n(t){return new Fn(t)}function Wn(t){return new Vn(t)}function Gn(t){return new Un(t)}function Qn(t){const e=new Xn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Yn(e):e}class Yn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Xn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(t){return(t=String(t)).match(Zn)||t.match(Jn)?t:"unsafe:"+t}function er(t){return(t=String(t)).split(",").map(t=>tr(t.trim())).join(", ")}function nr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function rr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ir=nr("area,br,col,hr,img,wbr"),sr=nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=nr("rp,rt"),ar=rr(or,sr),cr=rr(ir,rr(sr,nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rr(or,nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ar),ur=nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=nr("srcset"),hr=rr(ur,lr,nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dr=nr("script,style,template");class fr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!cr.hasOwnProperty(e))return this.sanitizedSomething=!0,!dr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!hr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;ur[i]&&(s=tr(s)),lr[i]&&(s=er(s)),this.buf.push(" ",e,'="',gr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();cr.hasOwnProperty(e)&&!ir.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(pr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(mr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yr;function br(t,e){let n=null;try{yr=yr||Qn(t);let r=e?String(e):"";n=yr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==s);return Pn((new fr).sanitizeChildren(vr(n)||n))}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var _r=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function wr(t){const e=function(){const t=Ht();return t&&t[12]}();return e?e.sanitize(_r.URL,t)||"":qn(t,"URL")?Bn(t):tr(y(t))}function Sr(t){return t.ngDebugContext}function Er(t){return t.ngOriginalError}function Cr(t,...e){t.error(...e)}class Or{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Sr(t)?Sr(t):this._findContext(Er(t)):null}_findOriginalError(t){let e=Er(t);for(;e&&Er(e);)e=Er(e);return e}}const Tr=/^>|^->|<!--|-->|--!>|<!-$/g,Ir=/(<|>)/;function xr(t,e){t.__ngContext__=e}const kr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Ar(t){return{name:"body",target:t.ownerDocument.body}}function jr(t){return t instanceof Function?t():t}var Rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Dr;function Pr(t,e){return Dr(t,e)}function Nr(t){const e=t[3];return ft(e)?e[3]:e}function Mr(t){return Fr(t[13])}function Lr(t){return Fr(t[4])}function Fr(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Vr(t,e,n,r,i){if(null!=r){let s,o=!1;ft(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Xr(e,n,a):Yr(e,n,a,i||null,!0):1===t&&null!==n?Yr(e,n,a,i||null,!0):2===t?ui(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==At(n)&&Vr(e,t,r,s,i);for(let o=ht;o<n.length;o++){const i=n[o];hi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ur(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}function Br(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}function qr(t,e){return t.createComment(function(t){return t.replace(Tr,t=>t.replace(Ir,"\u200b$1\u200b"))}(e))}function zr(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Kr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Hr(s,r),e>0&&(t[n-1][4]=r[4]);const o=pn(t,ht+e);hi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function $r(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&hi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Wr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Wr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Wr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Wr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof xe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):At(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Hr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Gr(t,e,n){return Qr(t,e.parent,n)}function Qr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Rt(r,n)}function Yr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Xr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Zr(t,e,n,r,i){null!==r?Yr(t,e,n,r,i):Xr(t,e,n)}function Jr(t,e){return xt(t)?t.parentNode(e):e.parentNode}function ti(t,e,n){return ri(t,e,n)}function ei(t,e,n){return 40&t.type?Rt(t,n):null}let ni,ri=ei;function ii(t,e){ri=t,ni=e}function si(t,e,n,r){const i=Gr(t,r,e),s=e[11],o=ti(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Zr(s,i,n[a],o,!1);else Zr(s,i,n,o,!1);void 0!==ni&&ni(s,r,e,n,i)}function oi(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return ci(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return oi(t,n);{const n=t[e.index];return ft(n)?ci(-1,n):At(n)}}if(32&n)return Pr(e,t)()||At(t[e.index]);{const n=ai(t,e);return null!==n?Array.isArray(n)?n[0]:oi(Nr(t[16]),n):oi(t,e.next)}}return null}function ai(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ci(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return oi(t,r)}return e[7]}function ui(t,e,n){const r=Jr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function li(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&xr(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)li(t,e,n.child,r,i,s,!1),Vr(e,t,i,a,s);else if(32&c){const o=Pr(n,r);let c;for(;c=o();)Vr(e,t,i,c,s);Vr(e,t,i,a,s)}else 16&c?di(t,e,r,n,i,s):Vr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function hi(t,e,n,r,i,s){li(n,r,t.firstChild,e,i,s,!1)}function di(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Vr(e,t,i,a[c],s);else li(t,e,a,o[3],i,s,!0)}function fi(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function pi(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function mi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const gi="ng-template";function yi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==mi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function bi(t){return 4===t.type&&t.value!==gi}function vi(t,e,n){return e===(4!==t.type||n?t.value:gi)}function _i(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!vi(t,c,n)||""===c&&1===e.length){if(wi(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!yi(t.attrs,u,n)){if(wi(r))return!1;o=!0}continue}const l=Si(8&r?"class":c,i,bi(t),n);if(-1===l){if(wi(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==mi(e,u,0)||2&r&&u!==t){if(wi(r))return!1;o=!0}}}}else{if(!o&&!wi(r)&&!wi(c))return!1;if(o&&wi(c))continue;o=!1,r=c|1&r}}return wi(r)||o}function wi(t){return 0==(1&t)}function Si(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ei(t,e,n=!1){for(let r=0;r<e.length;r++)if(_i(t,e[r],n))return!0;return!1}function Ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Oi(t,e){return t?":not("+e.trim()+")":e}function Ti(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||wi(o)||(e+=Oi(s,i),i=""),r=o,s=s||!wi(r);n++}return""!==i&&(e+=Oi(s,i)),e}const Ii={};function xi(t){ki(Kt(),Ht(),be()+t,Jt())}function ki(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Se(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ee(e,r,0,n)}ve(n)}function Ai(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function Ri(t){return 2|t}function Di(t){return(131068&t)>>2}function Pi(t,e){return-131069&t|e<<2}function Ni(t){return 1|t}function Mi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ue(i),n.contentQueries(2,e[s],s)}}}function Li(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Fi(t,e,n,r,i){let s=t.data[e];if(null===s)s=Vi(t,e,n,r,i),qt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Qt();s.injectorIndex=null===t?-1:t.injectorIndex}return Yt(s,!0),s}function Vi(t,e,n,r,i){const s=Gt(),o=Xt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Ui(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Bi(t,e,n){de(e);try{const r=t.viewQuery;null!==r&&bs(1,r,n);const i=t.template;null!==i&&Hi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mi(t,e),t.staticViewQueries&&bs(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)fs(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ye()}}function qi(t,e,n,r){const i=e[2];if(256==(256&i))return;de(e);const s=Jt();try{Ut(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Hi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Se(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ee(e,n,0,null),Ce(e,0)}if(function(t){for(let e=Mr(t);null!==e;e=Lr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Mr(t);null!==e;e=Lr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&qi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Mi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Se(e,n)}else{const n=t.contentHooks;null!==n&&Ee(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,s=n[++t],o=n[++t];oe(s,i),o(2,e[i])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)hs(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&bs(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Se(e,n)}else{const n=t.viewHooks;null!==n&&Ee(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{ye()}}function zi(t,e,n,r){const i=e[10],s=!Jt(),o=Lt(e);try{s&&!o&&i.begin&&i.begin(),o&&Bi(t,e,r),qi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Hi(t,e,n,r,i){const s=be(),o=2&r;try{ve(-1),o&&e.length>lt&&ki(t,e,lt,Jt()),n(r,i)}finally{ve(s)}}function Ki(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function $i(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ue(n,e),xr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=yt(r);s&&os(e,n,r);const c=Ze(e,t,a,n);xr(c,e),null!==o&&cs(0,a-i,c,r,0,o),s&&(Nt(n.index,e)[8]=c)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qt.lFrame.currentDirectiveIndex;try{ve(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ae(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||es(r,i)}}finally{ve(-1),ae(o)}}(t,e,n))}function Wi(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Gi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Qi(t,e,n,r,i,s,o,a,c,u){const l=lt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ii);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Yi(t,e,n,r){const i=_s(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ws(t).push(r,i.length-1))}function Xi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Zi(t,e,n,r,i,s,o,a){const c=Rt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(Es(t,n,u,r,i),mt(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,xt(s)?s.setProperty(c,r,i):je(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ji(t,e,n,r){let i=!1;if(zt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Ei(n,o.selectors,!1)&&(i||(i=[]),He(Ue(n,e),t,o.type),yt(o)?(ns(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,is(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Ui(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Re(n.mergedAttrs,u.hostAttrs),ss(t,n,e,c,u),rs(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||bi(e)?null:us(n,i);s.push(u),o=Xi(n,c,o),a=Xi(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Re(n.mergedAttrs,n.attrs),i}function ts(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function es(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ns(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function rs(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function is(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ss(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new xe(s,yt(i),null);t.blueprint[r]=o,n[r]=o,ts(t,e,0,r,Ui(t,n,i.hostVars,Ii),i)}function os(t,e,n){const r=Rt(e,t),i=Gi(n),s=t[10],o=ps(t,Li(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function as(t,e,n,r,i,s,o){if(null==s)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function cs(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function us(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ls(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function hs(t,e){const n=Nt(e,t);if(Ft(n)){const t=n[1];80&n[2]?qi(t,n,t.template,n[8]):n[5]>0&&ds(n)}}function ds(t){for(let n=Mr(t);null!==n;n=Lr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];qi(t,e,t.template,e[8])}else e[5]>0&&ds(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Ft(r)&&r[5]>0&&ds(r)}}function fs(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Bi(r,n,n[8])}function ps(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ms(t){for(;t;){t[2]|=64;const e=Nr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function gs(t,e,n){const r=e[10];r.begin&&r.begin();try{qi(t,e,t.template,n)}catch(i){throw Ss(e,i),i}finally{r.end&&r.end()}}function ys(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];zi(i,r,i.template,n)}}(t[8])}function bs(t,e,n){ue(0),e(t,n)}const vs=(()=>Promise.resolve(null))();function _s(t){return t[7]||(t[7]=[])}function ws(t){return t.cleanup||(t.cleanup=[])}function Ss(t,e){const n=t[9],r=n?n.get(Or,null):null;r&&r.handleError(e)}function Es(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Cs(t,e,n){const r=jt(e,t);Br(t[11],r,n)}function Os(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ts=new cn("INJECTOR",-1);class Is{get(t,e=vn){if(e===vn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const xs=new cn("Set Injector scope."),ks={},As={},js=[];let Rs;function Ds(){return void 0===Rs&&(Rs=new Is),Rs}function Ps(t,e=null,n=null,r){return new Ns(t,n,e||Ds(),r)}class Ns{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dn(e,n=>this.processProvider(n,t,e)),dn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ts,Fs(void 0,this));const s=this.records.get(xs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=vn,n=A.Default){this.assertNotDestroyed();const r=Cn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof cn)&&E(t);e=n&&this.injectableDefInScope(n)?Fs(Ms(t),ks):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?Ds():this.parent).get(t,e=n&A.Optional&&e===vn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[wn]&&i.unshift(e[wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Cn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{dn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dn(r,t=>this.processProvider(t,n,r||js))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,Fs(a,ks));const c=r.providers;if(null!=c&&!o){const e=t;dn(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Us(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Vs(t)?Fs(void 0,t.useValue):Fs(Ls(t),ks)}(t);if(Us(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Fs(void 0,ks,!0),e.factory=()=>xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ks&&(e.value=As,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ms(t){const e=E(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof cn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ls(t,e,n){let r;if(Us(t)){const e=p(t);return bt(e)||Ms(e)}if(Vs(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Tn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Ms(e);r=()=>new e(...xn(t.deps))}var i;return r}function Fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Vs(t){return null!==t&&"object"==typeof t&&Sn in t}function Us(t){return"function"==typeof t}const Bs=function(t,e,n){return function(t,e=null,n=null,r){const i=Ps(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let qs=(()=>{class t{static create(t,e){return Array.isArray(t)?Bs(t,e,""):Bs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=vn,t.NULL=new Is,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>Tn(Ts)}),t.__NG_ELEMENT_ID__=-1,t})();function zs(t,e){we(Mt(t)[1],Wt())}function Hs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ks(t.inputs),e.declaredInputs=Ks(t.declaredInputs),e.outputs=Ks(t.outputs);const n=i.hostBindings;n&&Gs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&$s(t,s),o&&Ws(t,o),u(t.inputs,i.inputs),u(t.declaredInputs,i.declaredInputs),u(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Hs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Re(i.hostAttrs,n=Re(n,i.hostAttrs))}}(r)}function Ks(t){return t===q?{}:t===H?[]:t}function $s(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ws(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Gs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Qs=null;function Ys(){if(!Qs){const t=B.Symbol;if(t&&t.iterator)Qs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Qs=n)}}}return Qs}class Xs{constructor(t){this.wrapped=t}static wrap(t){return new Xs(t)}static unwrap(t){return Xs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Xs}}function Zs(t){return!!Js(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ys()in t)}function Js(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function to(t,e,n){return t[e]=n}function eo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function no(t,e,n,r){const i=eo(t,e,n);return eo(t,e+1,r)||i}function ro(t,e,n,r){const i=Ht();return eo(i,re(),e)&&(Kt(),function(t,e,n,r,i,s){const o=Rt(t,e);as(e[11],o,s,t.value,n,r,i)}(_e(),i,t,e,n,r)),ro}function io(t,e,n,r){return eo(t,re(),n)?e+y(n)+r:Ii}function so(t,e,n,r,i,s,o,a){const c=Ht(),u=Kt(),l=t+lt,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Fi(e,t,4,o||null,Vt(u,a));Ji(e,n,l,Vt(u,c)),we(e,l);const h=l.tViews=Qi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Yt(h,!1);const d=c[11].createComment("");si(u,c,d,h),xr(d,c),ps(c,c[l]=ls(d,c,d,h)),gt(h)&&$i(u,c,h),null!=o&&Wi(c,h,a)}function oo(t){return Pt(qt.lFrame.contextLView,lt+t)}function ao(t,e=A.Default){const n=Ht();return null===n?Tn(t,e):We(Wt(),n,p(t),e)}function co(t,e,n){const r=Ht();return eo(r,re(),e)&&Zi(Kt(),_e(),r,t,e,r[11],n,!1),co}function uo(t,e,n,r,i){const s=i?"class":"style";Es(t,n,e.inputs[s],s,r)}function lo(t,e,n,r){const i=Ht(),s=Kt(),o=lt+t,a=i[11],c=i[o]=zr(a,e,qt.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Fi(e,t,2,i,Vt(a,s));return Ji(e,n,c,Vt(a,o)),null!==c.attrs&&Os(c,c.attrs,!1),null!==c.mergedAttrs&&Os(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Yt(u,!0);const l=u.mergedAttrs;null!==l&&ke(a,c,l);const h=u.classes;null!==h&&pi(a,c,h);const d=u.styles;null!==d&&fi(a,c,d),64!=(64&u.flags)&&si(s,i,c,u),0===qt.lFrame.elementDepthCount&&xr(c,i),qt.lFrame.elementDepthCount++,gt(u)&&($i(s,i,u),Ki(s,u,i)),null!==r&&Wi(i,u)}function ho(){let t=Wt();Xt()?Zt():(t=t.parent,Yt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=Kt();n.firstCreatePass&&(we(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&uo(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&uo(n,e,Ht(),e.stylesWithoutHost,!1)}function fo(t,e,n,r){lo(t,e,n,r),ho()}function po(t,e,n){const r=Ht(),i=Kt(),s=t+lt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Vt(s,r),a=Fi(e,t,8,"ng-container",o);return null!==o&&Os(a,o,!0),Ji(e,n,a,Vt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Yt(o,!0);const a=r[s]=r[11].createComment("");si(i,r,a,o),xr(a,r),gt(o)&&($i(i,r,o),Ki(i,o,r)),null!=n&&Wi(r,o)}function mo(){let t=Wt();const e=Kt();Xt()?Zt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(we(e,t),pt(t)&&e.queries.elementEnd(t))}function go(){return Ht()}function yo(t){return!!t&&"function"==typeof t.then}function bo(t){return!!t&&"function"==typeof t.subscribe}const vo=bo;function _o(t,e,n=!1,r){const i=Ht(),s=Kt(),o=Wt();return function(t,e,n,r,i,s,o=!1,a){const c=gt(r),u=t.firstCreatePass&&ws(t),l=_s(e);let h=!0;if(3&r.type){const d=Rt(r,e),f=a?a(d):q,p=f.target||d,m=l.length,g=a?t=>a(At(t[r.index])).target:r.index;if(xt(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=So(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,g,m,m+1)}}else s=So(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,g,m,o)}else s=So(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),_o}function wo(t,e,n,r){try{return!1!==n(r)}catch(i){return Ss(t,i),!1}}function So(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&ms(o);let a=wo(e,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=wo(e,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Eo(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function Co(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ei(t,s,!0):Ci(r,s))return i}else n=i}return n}function Oo(t){const e=Ht()[16][6];if(!e.projection){const n=e.projection=mn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Co(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function To(t,e=0,n){const r=Ht(),i=Kt(),s=Fi(i,lt+t,16,null,n||null);null===s.projection&&(s.projection=e),Zt(),64!=(64&s.flags)&&function(t,e,n){di(e[11],0,e,n,Gr(t,n,e),ti(n.parent||e[6],n,e))}(i,r,s)}function Io(t,e,n){return xo(t,"",e,"",n),Io}function xo(t,e,n,r,i){const s=Ht(),o=io(s,e,n,r);return o!==Ii&&Zi(Kt(),_e(),s,t,o,s[11],i,!1),xo}function ko(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ji(s):Di(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];Ao(t[a],e)&&(c=!0,t[a+1]=r?Ni(n):Ri(n)),a=r?ji(n):Di(n)}c&&(t[n+1]=r?Ri(s):Ni(s))}function Ao(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ro(t){return t.substring(jo.key,jo.keyEnd)}function Do(t,e){const n=jo.textEnd;return n===e?-1:(e=jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,jo.key=e,n),Po(t,e,n))}function Po(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function No(t,e,n){return Vo(t,e,n,!1),No}function Mo(t,e){return Vo(t,e,null,!0),Mo}function Lo(t){Uo(gn,Fo,t,!0)}function Fo(t,e){for(let n=function(t){return function(t){jo.key=0,jo.keyEnd=0,jo.value=0,jo.valueEnd=0,jo.textEnd=t.length}(t),Do(t,Po(t,0,jo.textEnd))}(e);n>=0;n=Do(e,n))gn(t,Ro(e),!0)}function Vo(t,e,n,r){const i=Ht(),s=Kt(),o=ie(2);s.firstUpdatePass&&qo(s,t,o,r),e!==Ii&&eo(i,o,e)&&Ko(s,s.data[be()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Bn(t)))),t}(e,n),r,o)}function Uo(t,e,n,r){const i=Kt(),s=ie(2);i.firstUpdatePass&&qo(i,null,s,r);const o=Ht();if(n!==Ii&&eo(o,s,n)){const a=i.data[be()];if(Go(a,r)&&!Bo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),uo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Ii&&(i=z);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let p,m=null;l===h?(c+=2,u+=2,d!==f&&(m=h,p=f)):null===h||null!==l&&l<h?(c+=2,m=l):(u+=2,m=h,p=f),null!==m&&Ko(t,e,n,r,m,p,o,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Bn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Bo(t,e){return e>=t.expandoStartIndex}function qo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[be()],o=Bo(t,n);Go(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ho(n=zo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=zo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Di(r))return t[ji(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=zo(null,t,e,n[1],r),n=Ho(n,e.attrs,r),function(t,e,n,r){t[ji(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ho(r,t[s].hostAttrs,n);return Ho(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ji(o),c=Di(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||bn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=ji(t[a+1]);t[r+1]=Ai(e,a),0!==e&&(t[e+1]=Pi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ai(a,0),0!==a&&(t[a+1]=Pi(t[a+1],r)),a=r;else t[r+1]=Ai(c,0),0===a?a=r:t[c+1]=Pi(t[c+1],r),c=r;l&&(t[r+1]=Ri(t[r+1])),ko(t,u,r,!0),ko(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&bn(s,e)>=0&&(n[r+1]=Ni(n[r+1]))}(e,u,t,r,s),o=Ai(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function zo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ho(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ho(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ko(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];Wo(1==(1&u)?$o(c,e,n,i,Di(u),o):void 0)||(Wo(s)||2==(2&u)&&(s=$o(c,null,n,i,a,o)),function(t,e,n,r,i){const s=xt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Rr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Rr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,jt(be(),n),i,s))}function $o(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===Ii&&(l=u?z:void 0);let h=u?yn(l,r):c===r?l:void 0;if(s&&!Wo(h)&&(h=yn(e,r)),Wo(h)&&(a=h,o))return a;const d=t[i+1];i=o?ji(d):Di(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=yn(t,r))}return a}function Wo(t){return void 0!==t}function Go(t,e){return 0!=(t.flags&(e?16:32))}function Qo(t,e=""){const n=Ht(),r=Kt(),i=t+lt,s=r.firstCreatePass?Fi(r,i,1,e,null):r.data[i],o=n[i]=Ur(n[11],e);si(r,n,o,s),Yt(s,!1)}function Yo(t){return Xo("",t,""),Yo}function Xo(t,e,n){const r=Ht(),i=io(r,t,e,n);return i!==Ii&&Cs(r,be(),i),Xo}function Zo(t,e,n,r,i){const s=Ht(),o=function(t,e,n,r,i,s){const o=no(t,ne(),n,i);return ie(2),o?e+y(n)+r+y(i)+s:Ii}(s,t,e,n,r,i);return o!==Ii&&Cs(s,be(),o),Zo}function Jo(t,e,n,r,i,s,o,a,c){Uo(gn,Fo,function(t,e,n,r,i,s,o,a,c,u){const l=function(t,e,n,r,i,s){const o=no(t,e,n,r);return no(t,e+2,i,s)||o}(t,ne(),n,i,o,c);return ie(4),l?e+y(n)+r+y(i)+s+y(o)+a+y(c)+u:Ii}(Ht(),t,e,n,r,i,s,o,a,c),!0)}function ta(t,e,n){const r=Ht();return eo(r,re(),e)&&Zi(Kt(),_e(),r,t,e,r[11],n,!0),ta}const ea=void 0;var na=["en",[["a","p"],["AM","PM"],ea],[["AM","PM"],ea,ea],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ea,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ea,"{1} 'at' {0}",ea],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ra={};function ia(t,e,n){"string"!=typeof e&&(n=e,e=t[ua.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ra[e]=t,n&&(ra[e][ua.ExtraData]=n)}function sa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ca(e);if(n)return n;const r=e.split("-")[0];if(n=ca(r),n)return n;if("en"===r)return na;throw new Error(`Missing locale data for the locale "${t}".`)}function oa(t){return sa(t)[ua.CurrencyCode]||null}function aa(t){return sa(t)[ua.PluralCase]}function ca(t){return t in ra||(ra[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),ra[t]}var ua=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const la=["zero","one","two","few","many"],ha="en-US",da={marker:"element"},fa={marker:"ICU"};var pa=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let ma=ha;function ga(t){var e;null==(e=t)&&_("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ma=t.toLowerCase().replace(/_/g,"-"))}function ya(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ei(t,0,n):At(n[i])}function ba(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Yr(t,o,n[s[e]],a,!1)}}function va(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];_a(r)||wa(r,e)&&null===Sa(r)&&Ea(r,e.index)}}function _a(t){return!(64&t.type)}function wa(t,e){return _a(e)||t.index>e.index}function Sa(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Ea(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ii(ya,ba),t.insertBeforeIndex=e)}function Ca(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Oa(t,e,n){const r=Vi(t,n,64,null,null);return va(e,r),r}function Ta(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Ia=0,xa=0;function ka(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const t=e[++a];null===n[t]&&(n[t]=Ur(i,c))}else if("number"==typeof c)switch(1&c){case 0:const u=c>>>17;let l,h;if(null===o&&(o=u,s=Jr(i,r)),u===o?(l=r,h=s):(l=null,h=At(n[u])),null!==h){const e=(131070&c)>>>1;Yr(i,h,n[e],l,!1);const r=Ca(t,e);if(null!==r&&"object"==typeof r){const e=Ta(r,n);null!==e&&ka(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],f=e[++a];as(i,jt(c>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case fa:const t=e[++a],r=e[++a];null===n[r]&&xr(n[r]=qr(i,t),n);break;case da:const s=e[++a],o=e[++a];null===n[o]&&xr(n[o]=zr(i,s,null),n)}}}function Aa(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],c=n[++o],u=t.data[a];"string"==typeof u?as(e[11],e[a],null,u,s,i,c):Zi(t,u,e,s,i,e[11],c,!1);break;case 0:const l=e[a];null!==l&&Br(e[11],l,i);break;case 2:Ra(t,Ca(t,a),e,i);break;case 3:ja(t,Ca(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Ca(t,i>>>2);e[n.currentCaseLViewIndex]<0&&ja(t,n,r,e)}}s+=a}}function ja(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Ia;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),Aa(t,r,e.update[i],n,s)}}function Ra(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=aa(e)(parseInt(t,10)),r=la[n];return void 0!==r?r:"other"}(e,ma);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Ta(e,n)!==i&&(Da(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&ka(t,e.create[i],n,r)}}function Da(t,e,n){let r=Ta(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=jt(r,n);null!==t&&ui(n[11],t)}else Da(t,Ca(t,~r),n)}}}const Pa=/\ufffd(\d+):?\d*\ufffd/gi,Na=/\ufffd(\d+)\ufffd/,Ma=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,La=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Fa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Va=/\uE500/g;function Ua(t,e,n,r,i,s,o){const a=Ui(t,r,1,null);let c=a<<pa.SHIFT,u=Qt();e===u&&(u=null),null===u&&(c|=pa.APPEND_EAGERLY),o&&(c|=pa.COMMENT,void 0===Dr&&(Dr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Ta(t,e);n=null!==i?t.remove[i]:H}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(c,null===s?"":s);const l=Vi(t,a,o?32:1,null===s?"":s,null);va(n,l);const h=l.index;return Yt(l,!1),null!==u&&e!==u&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ii(ya,ba),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&_("Expecting array here",r,true,"=="),n.push(e))}(u,h),l}function Ba(t,e,n,r,i,s,o){const a=o.match(Pa),c=Ua(t,e,n,s,r,a?null:o,!1);a&&qa(i,o,c.index,null,0,null)}function qa(t,e,n,r,i,s){const o=t.length,a=o+1;t.push(null,null);const c=o+2,u=e.split(Pa);let l=0;for(let h=0;h<u.length;h++){const e=u[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=za(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,s),t[o]=l,t[a]=t.length-c,l}function za(t){return 1<<Math.min(t,31)}function Ha(t){let e,n,r="",i=0,s=!1;for(;null!==(e=La.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Ka(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Ui(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(za(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const c=i.values;for(let u=0;u<c.length;u++){const s=c[u],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=Ga(t,a,e,n,r,i.cases[u],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function $a(t){const e=[],n=[];let r=1,i=0;const s=Wa(t=t.replace(Ma,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Wa(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Wa(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Ma.test(n)?r.push($a(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function Ga(t,e,n,r,i,s,o,a){const c=[],u=[],l=[];e.cases.push(s),e.create.push(c),e.remove.push(u),e.update.push(l);const h=Qn(It()).getInertBodyElement(o),d=vr(h)||h;return d?Qa(t,e,n,r,c,u,l,d,i,a,0):0}function Qa(t,e,n,r,i,s,o,a,c,u,l){let h=0,d=a.firstChild;for(;d;){const a=Ui(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(cr.hasOwnProperty(p)){Za(i,da,p,c,a),t.data[a]=p;const m=f.attributes;for(let t=0;t<m.length;t++){const e=m.item(t),n=e.name.toLowerCase();e.value.match(Pa)?hr.hasOwnProperty(n)&&qa(o,e.value,a,e.name,0,ur[n]?tr:lr[n]?er:null):Ja(i,a,e)}h=Qa(t,e,n,r,i,s,o,d,a,u,l+1)|h,Ya(s,a,l)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(Pa);Za(i,null,g?"":m,c,a),Ya(s,a,l),g&&(h=qa(o,m,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Na.exec(d.textContent||"");if(y){const e=u[parseInt(y[1],10)];Za(i,fa,"",c,a),Ka(t,n,r,c,e,a),Xa(s,a,l)}}d=d.nextSibling}return h}function Ya(t,e,n){0===n&&t.push(e)}function Xa(t,e,n){0===n&&(t.push(~e),t.push(e))}function Za(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Ja(t,e,n){t.push(e<<1|1,n.name,n.value)}function tc(t,e,n){(function(t,e,n=-1){const r=Kt(),i=Ht(),s=lt+t,o=Vt(r.consts,e),a=Qt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Qt(),a=[],c=[],u=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Ha(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ha(t.substring(n,r))}}(i,s),h.replace(Va," ")).split(Fa);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=Wa(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const e=l;""!==e&&Ba(t,o,u[0],a,c,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Ka(t,n,c,e,r,Ua(t,o,u[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),lt+Number.parseInt(r.substring(e?2:1)));if(e)u.shift(),Yt(Qt(),!1);else{const e=Oa(t,u[0],n);u.unshift([]),Yt(e,!0)}}}t.data[r]={create:a,update:c}}(r,null===a?0:a.index,i,s,o,n);const c=r.data[s],u=Qr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],c=(o&pa.COMMENT)===pa.COMMENT,u=(o&pa.APPEND_EAGERLY)===pa.APPEND_EAGERLY,l=o>>>pa.SHIFT;let h=t[l];null===h&&(h=t[l]=c?i.createComment(a):Ur(i,a)),u&&null!==n&&Yr(i,n,h,r,!1)}}(i,c.create,u,a&&8&a.type?i[a.index]:null),se(!0)})(t,e,n),se(!1)}function ec(t){return eo(Ht(),re(),t)&&(Ia|=1<<Math.min(xa,31)),xa++,ec}function nc(t){!function(t,e,n){if(xa>0){const r=t.data[n];Aa(t,e,Array.isArray(r)?r:r.update,ne()-xa-1,Ia)}Ia=0,xa=0}(Kt(),Ht(),t+lt)}function rc(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)rc(t[s],e,n,r,i);else{const s=Kt(),o=Ht();let a=Us(t)?t:p(t.provide),c=Ls(t);const u=Wt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(Us(t)||!t.multi){const r=new xe(c,i,ao),f=oc(a,e,i?l:l+d,h);-1===f?(He(Ue(u,o),s,a),ic(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=oc(a,e,l+d,h),p=oc(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){He(Ue(u,o),s,a);const l=function(t,e,n,r,i){const s=new xe(t,n,ao);return s.multi=[],s.index=e,s.componentProviders=0,sc(s,i,r&&!n),s}(i?cc:ac,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),ic(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else ic(s,t,f>-1?f:p,sc(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function ic(t,e,n,r){const i=Us(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function sc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function oc(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ac(t,e,n,r){return uc(this.multi,[])}function cc(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ze(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),uc(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],uc(i,s);return s}function uc(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function lc(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Kt();if(r.firstCreatePass){const i=yt(t);rc(n,r.data,r.blueprint,i,!0),rc(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class hc{}class dc{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let fc=(()=>{class t{}return t.NULL=new dc,t})();function pc(...t){}function mc(t,e){return new yc(Rt(t,e))}const gc=function(){return mc(Wt(),Ht())};let yc=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=gc,t})();function bc(t){return t instanceof yc?t.nativeElement:t}class vc{}let _c=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>wc(),t})();const wc=function(){const t=Ht(),e=Nt(Wt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Sc=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class Ec{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Cc=new Ec("11.2.13");class Oc{constructor(){}supports(t){return Zs(t)}create(t){return new Ic(t)}}const Tc=(t,e)=>e;class Ic{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Tc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<jc(n,r,i)?e:n,o=jc(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zs(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ys()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new xc(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ac),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ac),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ac{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new kc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jc(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Rc{constructor(){}supports(t){return t instanceof Map||Js(t)}create(){return new Dc}}class Dc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Js(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Pc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Pc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nc(){return new Mc([new Oc])}let Mc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Nc()),deps:[[t,new Rn,new jn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Nc}),t})();function Lc(){return new Fc([new Rc])}let Fc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Lc()),deps:[[t,new Rn,new jn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Lc}),t})();function Vc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(At(s)),ft(s))for(let t=ht;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Vc(e[1],e,n,r)}const o=n.type;if(8&o)Vc(t,e,n.child,r);else if(32&o){const t=Pr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=ai(e,n);if(Array.isArray(t))r.push(...t);else{const n=Nr(e[16]);Vc(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Uc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Vc(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Kr(t,n),pn(e,n))}this._attachedToViewContainer=!1}$r(this._lView[1],this._lView)}onDestroy(t){Yi(this._lView[1],this._lView,null,t)}markForCheck(){ms(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{gs(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,hi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Bc extends Uc{constructor(t){super(t),this._view=t}detectChanges(){ys(this._view)}checkNoChanges(){!function(t){te(!0);try{ys(t)}finally{te(!1)}}(this._view)}get context(){return null}}const qc=Hc;let zc=(()=>{class t{}return t.__NG_ELEMENT_ID__=qc,t.__ChangeDetectorRef__=!0,t})();function Hc(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Nt(t.index,e);return new Uc(n,n)}return 47&t.type?new Uc(e[16],e):null}(Wt(),Ht(),t)}const Kc=[new Rc],$c=new Mc([new Oc]),Wc=new Fc(Kc),Gc=function(){return Zc(Wt(),Ht())};let Qc=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gc,t})();const Yc=Qc,Xc=class extends Yc{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Li(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Bi(e,n,t),new Uc(n)}};function Zc(t,e){return 4&t.type?new Xc(e,t,mc(t,e)):null}class Jc{}class tu{}const eu=function(){return au(Wt(),Ht())};let nu=(()=>{class t{}return t.__NG_ELEMENT_ID__=eu,t})();const ru=nu,iu=class extends ru{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return mc(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=ze(this._hostTNode,this._hostLView);if(Pe(t)){const e=Me(t,this._hostLView),n=Ne(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=su(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Jc,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new iu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ht+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ht?(e[4]=n[i],fn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=ci(i,s),a=n[11],c=Jr(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,hi(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),fn(ou(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=su(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Kr(this._lContainer,e);n&&(pn(ou(this._lContainer),e),$r(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Kr(this._lContainer,e);return n&&null!=pn(ou(this._lContainer),e)?new Uc(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function su(t){return t[8]}function ou(t){return t[8]||(t[8]=[])}function au(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Yr(n,Jr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ls(r,e,i,t),ps(e,n)}return new iu(n,t,e)}const cu={};class uu extends fc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new du(e,this.ngModule)}}function lu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const hu=new cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kr});class du extends hc{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ti).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return lu(this.componentDef.inputs)}get outputs(){return lu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,cu,i);return s!==cu||r===cu?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(vc,kt),o=i.get(Sc,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):zr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:kr,clean:vs,playerHandler:null,flags:0},d=Qi(0,null,null,1,0,null,null,null,null,null),f=Li(null,d,h,l,null,null,s,a,o,i);let p,m;de(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Fi(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Os(a,c,!0),null!==t&&(ke(i,t,c),null!==a.classes&&pi(i,t,a.classes),null!==a.styles&&fi(i,t,a.styles)));const u=r.createRenderer(t,e),l=Li(n,Gi(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&(He(Ue(a,n),o,e.type),ns(o,a),is(a,n.length,1)),ps(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)ke(a,u,["ng-version",Cc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!wi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,u,t),e&&e.length>0&&pi(a,u,e.join(" "))}if(m=Dt(d,lt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ss(t,r,e,Ui(t,e,1,null),n));const i=Ze(e,t,r.directiveStart,r);xr(i,e);const s=Rt(r,e);return s&&xr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Wt();e.contentQueries(1,o,t.directiveStart)}const a=Wt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),ts(n[1],a,0,a.directiveStart,a.directiveEnd,e),es(e,o)),o}(t,this.componentDef,f,h,[zs]),Bi(d,f,null)}finally{ye()}return new fu(this.componentType,p,mc(m,f),f,m)}}class fu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Bc(r),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const pu=new Map;class mu extends Jc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uu(this);const n=ut(t),r=t[Q]||null;r&&ga(r),this._bootstrapComponents=jr(n.bootstrap),this._r3Injector=Ps(t,e,[{provide:Jc,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=qs.THROW_IF_NOT_FOUND,n=A.Default){return t===qs||t===Jc||t===Ts?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class gu extends tu{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,pu.get(i),n),pu.set(i,n));const s=jr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new mu(this.moduleType,t)}}function yu(t,e,n,r){return wu(Ht(),ee(),t,e,n,r)}function bu(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return no(t,a,i,s)?to(t,a+2,o?r.call(o,i,s):r(i,s)):_u(t,a+2)}(Ht(),ee(),t,e,n,r,i)}function vu(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const c=e+n;return function(t,e,n,r,i){const s=no(t,e,n,r);return eo(t,e+2,i)||s}(t,c,i,s,o)?to(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):_u(t,c+3)}(Ht(),ee(),t,e,n,r,i,s)}function _u(t,e){const n=t[e];return n===Ii?void 0:n}function wu(t,e,n,r,i,s){const o=e+n;return eo(t,o,i)?to(t,o+1,s?r.call(s,i):r(i)):_u(t,o+1)}function Su(t,e){const n=Kt();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=R(ao);try{const t=Fe(!1),e=s();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ht(),i,e),e}finally{R(o)}}function Eu(t,e,n){const r=t+lt,i=Ht(),s=Pt(i,r);return function(t,e){return Xs.isWrapped(e)&&(e=Xs.unwrap(e),t[ne()]=Ii),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?wu(i,ee(),e,s.transform,n,s):s.transform(n))}function Cu(t){return e=>{setTimeout(t,void 0,e)}}const Ou=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,c=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),c=null===(s=e.error)||void 0===s?void 0:s.bind(e),u=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(c=Cu(c),a&&(a=Cu(a)),u&&(u=Cu(u)));const l=super.subscribe({next:a,error:c,complete:u});return t instanceof i.a&&t.add(l),l}};function Tu(){return this._results[Ys()]()}class Iu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ys(),n=Iu.prototype;n[e]||(n[e]=Tu)}get changes(){return this._changes||(this._changes=new Ou)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=hn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class xu{constructor(t){this.queryList=t,this.matches=null}clone(){return new xu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ku{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ku(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==zu(t,e).matches&&this.queries[e].setDirty()}}class Au{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class ju{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ju(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ru{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ru(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Du(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===Qc?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===yc||r===nu||r===Qc&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Du(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Pu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?mc(t,e):4&t.type?Zc(t,e):null}(e,t):-2===n?function(t,e,n){return n===yc?mc(e,t):n===Qc?Zc(e,t):n===nu?au(e,t):void 0}(t,e,r):Ze(t,t[1],n,e)}function Nu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Pu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Mu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Nu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ht;t<o.length;t++){const e=o[t];e[17]===e[3]&&Mu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Mu(n[1],n,i,r)}}}}}return r}function Lu(t){const e=Ht(),n=Kt(),r=ce();ue(r+1);const i=zu(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Mu(n,e,r,[]):Nu(n,e,i,r);t.reset(s,bc),t.notifyOnChanges()}return!0}return!1}function Fu(t,e,n){const r=Kt();r.firstCreatePass&&(qu(r,new Au(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Bu(r,Ht(),e)}function Vu(t,e,n,r){const i=Kt();if(i.firstCreatePass){const s=Wt();qu(i,new Au(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Bu(i,Ht(),n)}function Uu(){return t=Ht(),e=ce(),t[19].queries[e].queryList;var t,e}function Bu(t,e,n){const r=new Iu(4==(4&n));Yi(t,e,r,r.destroy),null===e[19]&&(e[19]=new ku),e[19].queries.push(new xu(r))}function qu(t,e,n){null===t.queries&&(t.queries=new ju),t.queries.track(new Ru(e,n))}function zu(t,e){return t.queries.getByIndex(e)}function Hu(t,e){return Zc(t,e)}function Ku(t=A.Default){const e=Hc(!0);if(null!=e||t&A.Optional)return e;v("ChangeDetectorRef")}const $u=new cn("Application Initializer");let Wu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=pc,this.reject=pc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();yo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Tn($u,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Gu=new cn("AppId"),Qu={provide:Gu,useFactory:function(){return`${Yu()}${Yu()}${Yu()}`},deps:[]};function Yu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xu=new cn("Platform Initializer"),Zu=new cn("Platform ID"),Ju=new cn("appBootstrapListener");let tl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const el=new cn("LocaleId"),nl=new cn("DefaultCurrencyCode");class rl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const il=function(t){return new gu(t)},sl=il,ol=function(t){return Promise.resolve(il(t))},al=function(t){const e=il(t),n=jr(ut(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new du(n)),t},[]);return new rl(e,n)},cl=al,ul=function(t){return Promise.resolve(al(t))};let ll=(()=>{class t{constructor(){this.compileModuleSync=sl,this.compileModuleAsync=ol,this.compileModuleAndAllComponentsSync=cl,this.compileModuleAndAllComponentsAsync=ul}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const hl=(()=>Promise.resolve(0))();function dl(t){"undefined"==typeof Zone?hl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class fl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ou(!1),this.onMicrotaskEmpty=new Ou(!1),this.onStable=new Ou(!1),this.onError=new Ou(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gl(t),ml(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return yl(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),bl(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return yl(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),bl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,gl(t),ml(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,pl,pc,pc);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const pl={};function ml(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function yl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bl(t){t._nesting--,ml(t)}class vl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ou,this.onMicrotaskEmpty=new Ou,this.onStable=new Ou,this.onError=new Ou}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let _l=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fl.assertNotInAngularZone(),dl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Tn(fl))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),wl=(()=>{class t{constructor(){this._applications=new Map,Ol.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ol.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Sl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function El(t){Ol=t}let Cl,Ol=new Sl,Tl=!0,Il=!1;function xl(){return Il=!0,Tl}function kl(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");Tl=!1}const Al=new cn("AllowMultipleToken");class jl{constructor(t,e){this.name=t,this.token=e}}function Rl(t,e,n=[]){const r=`Platform: ${e}`,i=new cn(r);return(e=[])=>{let s=Dl();if(!s||s.injector.get(Al,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:xs,useValue:"platform"});!function(t){if(Cl&&!Cl.destroyed&&!Cl.injector.get(Al,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cl=t.get(Pl);const e=t.get(Xu,null);e&&e.forEach(t=>t())}(qs.create({providers:t,name:r}))}return function(t){const e=Dl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Dl(){return Cl&&!Cl.destroyed?Cl:null}let Pl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new vl:("zone.js"===t?void 0:t)||new fl({enableLongStackTrace:xl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:fl,useValue:n}];return n.run(()=>{const e=qs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Or,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Ll(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return yo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Wu);return t.runInitializers(),t.donePromise.then(()=>(ga(i.injector.get(el,ha)||ha),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Nl({},e);return function(t,e,n){const r=new gu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ml);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Tn(qs))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Nl(t,e){return Array.isArray(e)?e.reduce(Nl,t):Object.assign(Object.assign({},t),e)}let Ml=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{fl.assertNotInAngularZone(),dl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{fl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof hc?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Jc),i=n.create(qs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(_l,null),a=o&&i.injector.get(wl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Ll(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ll(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ju,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Tn(fl),Tn(qs),Tn(Or),Tn(fc),Tn(Wu))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ll(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Fl{}class Vl{}const Ul={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ul}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ql(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ql(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Tn(ll),Tn(Vl,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function ql(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const zl=function(t){return null},Hl=Rl(null,"core",[{provide:Zu,useValue:"unknown"},{provide:Pl,deps:[qs]},{provide:wl,deps:[]},{provide:tl,deps:[]}]),Kl=[{provide:Ml,useClass:Ml,deps:[fl,qs,Or,fc,Wu]},{provide:hu,deps:[fl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Wu,useClass:Wu,deps:[[new jn,$u]]},{provide:ll,useClass:ll,deps:[]},Qu,{provide:Mc,useFactory:function(){return $c},deps:[]},{provide:Fc,useFactory:function(){return Wc},deps:[]},{provide:el,useFactory:function(t){return ga(t=t||"undefined"!=typeof $localize&&$localize.locale||ha),t},deps:[[new An(el),new jn,new Rn]]},{provide:nl,useValue:"USD"}];let $l=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Tn(Ml))},t.\u0275mod=rt({type:t}),t.\u0275inj=S({providers:Kl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return S}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return E}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return T}),n.d(e,"i",function(){return u}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return m}),n.d(e,"m",function(){return g}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==c)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function c(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return u().indexOf("Electron/")>=0}function g(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return u().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,v.prototype.create),s}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new b(i,a,r);return c},t}();function _(t,e){return t.replace(w,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var w=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}function T(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.r("angularfire2.app.options"),v=new c.r("angularfire2.app.nameOrConfig"),_=new c.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,c.A,[new c.B,v]]};let T=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.ac(c.C))},t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.g)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.ac)(l)}const u=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o))},t.\u0275prov=Object(r.Kb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.ac)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.ac)(o).location;return new v(Object(r.ac)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(a),r.ac(b,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(a),r.ac(b,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(g),r.ac(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Kb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w(Object(r.ac)(g),Object(r.ac)(a))}function E(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const O=r.ob;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.v))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.xb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.t),r.Ob(r.u),r.Ob(r.l),r.Ob(r.F))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new j(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M),r.Ob(r.t))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function P(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}class N{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class M{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const L=new M,F=new N;let V=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.tb)(e))return L;if(Object(r.ub)(e))return F;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.xb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.cc())},t.\u0275pipe=r.Nb({name:"async",type:t,pure:!1}),t})(),U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[{provide:T,useClass:I}]}),t})();function B(t){return"server"===t}let q=(()=>{class t{}return t.\u0275prov=Object(r.Kb)({token:t,providedIn:"root",factory:()=>new z(Object(r.ac)(o),window)}),t})();class z{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=H(this.window.history)||H(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function H(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class K extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new K,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=W||(W=document.querySelector("base"),W)?W.getAttribute("href"):null;return null==e?null:(n=e,$||($=document.createElement("a")),$.setAttribute("href",n),"/"===$.pathname.charAt(0)?$.pathname:"/"+$.pathname);var n}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let $,W=null;const G=new r.r("TRANSITION_ID"),Q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[G,o,r.s],multi:!0}];class Y{static init(){Object(r.Z)(new Y)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const X=new r.r("EventManagerPlugins");let Z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(X),r.ac(r.A))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class J{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let tt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),et=(()=>{class t extends tt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rt=/%COMP%/g;function it(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?it(t,i,n):(i=i.replace(rt,t),n.push(i))}return n}function st(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ot=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new at(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ct(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=it(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Z),r.ac(et),r.ac(r.c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=nt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=nt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,st(n)):this.eventManager.addEventListener(t,e,st(n))}}class ct extends at{constructor(t,e,n,r){super(t),this.component=n;const i=it(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(rt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(rt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends at{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=it(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lt=(()=>{class t extends J{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const ht=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mt=(()=>{class t extends J{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(ht.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ft.hasOwnProperty(e)&&(e=ft[e]))}return dt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ht.forEach(r=>{r!=n&&(0,pt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return Object(r.ac)(yt)},token:t,providedIn:"root"}),t})(),yt=(()=>{class t extends gt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.J.NONE:return e;case r.J.HTML:return Object(r.fb)(e,"HTML")?Object(r.yb)(e):Object(r.db)(this._doc,String(e)).toString();case r.J.STYLE:return Object(r.fb)(e,"Style")?Object(r.yb)(e):e;case r.J.SCRIPT:if(Object(r.fb)(e,"Script"))return Object(r.yb)(e);throw new Error("unsafe value used in a script context");case r.J.URL:return Object(r.pb)(e),Object(r.fb)(e,"URL")?Object(r.yb)(e):Object(r.eb)(String(e));case r.J.RESOURCE_URL:if(Object(r.fb)(e,"ResourceURL"))return Object(r.yb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.gb)(t)}bypassSecurityTrustStyle(t){return Object(r.jb)(t)}bypassSecurityTrustScript(t){return Object(r.ib)(t)}bypassSecurityTrustUrl(t){return Object(r.kb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.hb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return t=Object(r.ac)(r.o),new yt(t.get(o));var t},token:t,providedIn:"root"}),t})();const bt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){K.makeCurrent(),Y.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],vt=Object(r.T)(r.Y,"browser",bt),_t=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:X,useClass:lt,multi:!0,deps:[o,r.A,r.C]},{provide:X,useClass:mt,multi:!0,deps:[o]},[],{provide:ot,useClass:ot,deps:[Z,et,r.c]},{provide:r.G,useExisting:ot},{provide:tt,useExisting:et},{provide:et,useClass:et,deps:[o]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:Z,useClass:Z,deps:[X,r.A]},[]];let wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:G,useExisting:r.c},Q]}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(t,12))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:_t,imports:[U,r.f]}),t})();"undefined"!=typeof window&&window;var St=n("Cfvw"),Et=n("LRne"),Ct=n("XNiG"),Ot=n("9ppp");class Tt extends Ct.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ot.a;return this._value}next(t){super.next(this._value=t)}}var It=n("z+Ro"),xt=n("DH7j"),kt=n("7o/Q");class At extends kt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class jt extends kt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Rt=n("SeVD"),Dt=n("HDdC");function Pt(t,e,n,r,i=new jt(t,n,r)){if(!i.closed)return e instanceof Dt.a?e.subscribe(i):Object(Rt.a)(e)(i)}var Nt=n("yCtX");const Mt={};function Lt(...t){let e,n;return Object(It.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(xt.a)(t[0])&&(t=t[0]),Object(Nt.a)(t,n).lift(new Ft(e))}class Ft{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Vt(t,this.resultSelector))}}class Vt extends At{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Mt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Pt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Mt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ut=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Bt=n("bHdf");function qt(...t){return Object(Bt.a)(1)(Object(Et.a)(...t))}var zt=n("EY2u");function Ht(t){return new Dt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(St.a)(n):Object(zt.b)()).subscribe(e)})}var Kt=n("EQ5u"),$t=n("lJxs"),Wt=n("zx2A");function Gt(t,e){return"function"==typeof e?n=>n.pipe(Gt((n,r)=>Object(St.a)(t(n,r)).pipe(Object($t.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Qt(t))}class Qt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Yt(t,this.project))}}class Yt extends Wt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Wt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Wt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Xt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Zt(t){return e=>0===t?Object(zt.b)():e.lift(new Jt(t))}class Jt{constructor(t){if(this.total=t,this.total<0)throw new Xt}call(t,e){return e.subscribe(new te(t,this.total))}}class te extends kt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ee(...t){const e=t[t.length-1];return Object(It.a)(e)?(t.pop(),n=>qt(t,n,e)):e=>qt(t,e)}function ne(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new re(t,e,n))}}class re{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ie(t,this.accumulator,this.seed,this.hasSeed))}}class ie extends kt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function se(t,e){return function(n){return n.lift(new oe(t,e))}}class oe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ae(t,this.predicate,this.thisArg))}}class ae extends kt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ce(t){return function(e){const n=new ue(t),r=e.lift(n);return n.caught=r}}class ue{constructor(t){this.selector=t}call(t,e){return e.subscribe(new le(t,this.selector,this.caught))}}class le extends Wt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Wt.a(this);this.add(r);const i=Object(Wt.c)(n,r);i!==r&&this.add(i)}}}var he=n("5+tZ");function de(t,e){return Object(he.a)(t,e,1)}function fe(t){return function(e){return 0===t?Object(zt.b)():e.lift(new pe(t))}}class pe{constructor(t){if(this.total=t,this.total<0)throw new Xt}call(t,e){return e.subscribe(new me(t,this.total))}}class me extends kt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ge(t=ve){return e=>e.lift(new ye(t))}class ye{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new be(t,this.errorFactory))}}class be extends kt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Hb){t=Hb}this.destination.error(t)}}}function ve(){return new Ut}function _e(t=null){return e=>e.lift(new we(t))}class we{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Se(t,this.defaultValue))}}class Se extends kt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ee=n("SpAZ");function Ce(t,e){const n=arguments.length>=2;return r=>r.pipe(t?se((e,n)=>t(e,n,r)):Ee.a,Zt(1),n?_e(e):ge(()=>new Ut))}var Oe=n("vkgz"),Te=n("x+ZX"),Ie=n("quSY");function xe(t){return e=>e.lift(new ke(t))}class ke{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ae(t,this.callback))}}class Ae extends kt.a{constructor(t,e){super(t),this.add(new Ie.a(e))}}class je{constructor(t,e){this.id=t,this.url=e}}class Re extends je{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class De extends je{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pe extends je{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ne extends je{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Me extends je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe extends je{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ve extends je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ze{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ge="primary";class Qe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ye(t){return new Qe(t)}function Xe(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ze(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Je(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!tn(t[i],e[i]))return!1;return!0}function tn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function en(t){return Array.prototype.concat.apply([],t)}function nn(t){return t.length>0?t[t.length-1]:null}function rn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function sn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(St.a)(Promise.resolve(t)):Object(Et.a)(t)}function on(t,e,n){return n?function(t,e){return Je(t,e)}(t.queryParams,e.queryParams)&&an(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tn(t[n],e[n]))}(t.queryParams,e.queryParams)&&cn(t.root,e.root)}function an(t,e){if(!fn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!an(t.children[n],e.children[n]))return!1}return!0}function cn(t,e){return un(t,e,e.segments)}function un(t,e,n){if(t.segments.length>n.length)return!!fn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!fn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!cn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!fn(t.segments,r)&&!!t.children.primary&&un(t.children.primary,e,i)}}class ln{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ye(this.queryParams)),this._queryParamMap}toString(){return gn.serialize(this)}}class hn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,rn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yn(this)}}class dn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ye(this.parameters)),this._parameterMap}toString(){return Cn(this)}}function fn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class pn{}class mn{parse(t){const e=new kn(t);return new ln(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${bn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${_n(e)}=${_n(t)}`).join("&"):`${_n(e)}=${_n(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const gn=new mn;function yn(t){return t.segments.map(t=>Cn(t)).join("/")}function bn(t,e){if(!t.hasChildren())return yn(t);if(e){const e=t.children.primary?bn(t.children.primary,!1):"",n=[];return rn(t.children,(t,e)=>{e!==Ge&&n.push(`${e}:${bn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return rn(t.children,(t,r)=>{r===Ge&&(n=n.concat(e(t,r)))}),rn(t.children,(t,r)=>{r!==Ge&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ge?[bn(t.children.primary,!1)]:[`${n}:${bn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${yn(t)}/${e[0]}`:`${yn(t)}/(${e.join("//")})`}}function vn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _n(t){return vn(t).replace(/%3B/gi,";")}function wn(t){return vn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sn(t){return decodeURIComponent(t)}function En(t){return Sn(t.replace(/\+/g,"%20"))}function Cn(t){return`${wn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${wn(t)}=${wn(e[t])}`).join("")}`;var e}const On=/^[^\/()?;=#]+/;function Tn(t){const e=t.match(On);return e?e[0]:""}const In=/^[^=?&#]+/,xn=/^[^?&#]+/;class kn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new hn(t,e)),n}parseSegment(){const t=Tn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new dn(Sn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Tn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Tn(this.remaining);t&&(n=t,this.capture(n))}t[Sn(e)]=Sn(n)}parseQueryParam(t){const e=function(t){const e=t.match(In);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(xn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=En(e),i=En(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Tn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ge);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new hn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class An{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=jn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=jn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Rn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Rn(t,this._root).map(t=>t.value)}}function jn(t,e){if(t===e.value)return e;for(const n of e.children){const e=jn(t,n);if(e)return e}return null}function Rn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Rn(t,n);if(r.length)return r.unshift(e),r}return[]}class Dn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Pn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Nn extends An{constructor(t,e){super(t),this.snapshot=e,Bn(this,t)}toString(){return this.snapshot.toString()}}function Mn(t,e){const n=function(t,e){const n=new Vn([],{},{},"",{},Ge,e,null,t.root,-1,{});return new Un("",new Dn(n,[]))}(t,e),r=new Tt([new dn("",{})]),i=new Tt({}),s=new Tt({}),o=new Tt({}),a=new Tt(""),c=new Ln(r,i,o,a,s,Ge,e,n.root);return c.snapshot=n.root,new Nn(new Dn(c,[]),n)}class Ln{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object($t.a)(t=>Ye(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object($t.a)(t=>Ye(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Vn{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Un extends An{constructor(t,e){super(e),this.url=t,Bn(this,e)}toString(){return qn(this._root)}}function Bn(t,e){e.value._routerState=t,e.children.forEach(e=>Bn(t,e))}function qn(t){const e=t.children.length>0?` { ${t.children.map(qn).join(", ")} } `:"";return`${t.value}${e}`}function zn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Je(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Je(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Je(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Je(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Hn(t,e){return Je(t.params,e.params)&&function(t,e){return fn(t,e)&&t.every((t,n)=>Je(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Hn(t.parent,e.parent))}function Kn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Kn(t,e,r);return Kn(t,e)})}(t,e,n);return new Dn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return $n(e,t),t}}const n=new Ln(new Tt((r=e.value).url),new Tt(r.params),new Tt(r.queryParams),new Tt(r.fragment),new Tt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Kn(t,e));return new Dn(n,i)}var r}function $n(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)$n(t.children[n],e.children[n])}function Wn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gn(t){return"object"==typeof t&&null!=t&&t.outlets}function Qn(t,e,n,r,i){let s={};return r&&rn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ln(n.root===t?e:Yn(n.root,t,e),s,i)}function Yn(t,e,n){const r={};return rn(t.children,(t,i)=>{r[i]=t===e?n:Yn(t,e,n)}),new hn(t.segments,r)}class Xn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Wn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Gn);if(r&&r!==nn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Jn(t,e,n){if(t||(t=new hn([],{})),0===t.segments.length&&t.hasChildren())return tr(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Gn(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!ir(a,c,e))return s;r+=2}else{if(!ir(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new hn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new hn(t.segments.slice(r.pathIndex),t.children),tr(e,0,i)}return r.match&&0===i.length?new hn(t.segments,{}):r.match&&!t.hasChildren()?er(t,e,n):r.match?tr(t,0,i):er(t,e,n)}function tr(t,e,n){if(0===n.length)return new hn(t.segments,{});{const r=function(t){return Gn(t[0])?t[0].outlets:{[Ge]:t}}(n),i={};return rn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Jn(t.children[r],e,n))}),rn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new hn(t.segments,i)}}function er(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Gn(s)){const t=nr(s.outlets);return new hn(r,t)}if(0===i&&Wn(n[0])){r.push(new dn(t.segments[e].path,rr(n[0]))),i++;continue}const o=Gn(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Wn(a)?(r.push(new dn(o,rr(a))),i+=2):(r.push(new dn(o,{})),i++)}return new hn(r,{})}function nr(t){const e={};return rn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=er(new hn([],{}),0,t))}),e}function rr(t){const e={};return rn(t,(t,n)=>e[n]=`${t}`),e}function ir(t,e,n){return t==n.path&&Je(e,n.parameters)}class sr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),zn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Pn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),rn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Pn(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Pn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new $e(t.value.snapshot))}),t.children.length&&this.forwardEvent(new He(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(zn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),or(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function or(t){zn(t.value),t.children.forEach(or)}class ar{constructor(t,e){this.routes=t,this.module=e}}function cr(t){return"function"==typeof t}function ur(t){return t instanceof ln}const lr=Symbol("INITIAL_VALUE");function hr(){return Gt(t=>Lt(t.map(t=>t.pipe(Zt(1),ee(lr)))).pipe(ne((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==lr)return t;if(r===lr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ur(r))return r}return t},t)},lr),se(t=>t!==lr),Object($t.a)(t=>ur(t)?t:!0===t),Zt(1)))}let dr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:function(){return[ii]},encapsulation:2}),t})();function fr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];pr(r,mr(e,r))}}function pr(t,e){t.children&&fr(t.children,e)}function mr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function gr(t){const e=t.children&&t.children.map(gr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ge&&(n.component=dr),n}function yr(t){return t.outlet||Ge}function br(t,e){const n=t.filter(t=>yr(t)===e);return n.push(...t.filter(t=>yr(t)!==e)),n}const vr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function _r(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},vr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ze)(n,t,e);if(!i)return Object.assign({},vr);const s={};rn(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function wr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Sr(t,e,n)&&yr(n)!==Ge)}(t,n,r)){const i=new hn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&yr(s)!==Ge){const n=new hn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[yr(s)]=n}return i}(t,e,r,new hn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Sr(t,e,n))}(t,n,r)){const s=new hn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Sr(t,n,a)&&!i[yr(a)]){const n=new hn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[yr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new hn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Sr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Er(t,e,n,r){return!!(yr(t)===r||r!==Ge&&Sr(e,n,t))&&("**"===t.path||_r(e,t,n).matched)}function Cr(t,e,n){return 0===e.length&&!t.children[n]}class Or{constructor(t){this.segmentGroup=t||null}}class Tr{constructor(t){this.urlTree=t}}function Ir(t){return new Dt.a(e=>e.error(new Or(t)))}function xr(t){return new Dt.a(e=>e.error(new Tr(t)))}function kr(t){return new Dt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ar{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=wr(this.urlTree.root,[],[],this.config).segmentGroup,e=new hn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ge).pipe(Object($t.a)(t=>this.createUrlTree(jr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ce(t=>{if(t instanceof Tr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Or)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ge).pipe(Object($t.a)(e=>this.createUrlTree(jr(e),t.queryParams,t.fragment))).pipe(ce(t=>{if(t instanceof Or)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new hn([],{[Ge]:t}):t;return new ln(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object($t.a)(t=>new hn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(St.a)(r).pipe(de(r=>{const i=n.children[r],s=br(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object($t.a)(t=>({segment:t,outlet:r})))}),ne((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?se((e,n)=>t(e,n,r)):Ee.a,fe(1),n?_e(e):ge(()=>new Ut))}())}expandSegment(t,e,n,r,i,s){return Object(St.a)(n).pipe(de(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ce(t=>{if(t instanceof Or)return Object(Et.a)(null);throw t}))),Ce(t=>!!t),ce((t,n)=>{if(t instanceof Ut||"EmptyError"===t.name){if(Cr(e,r,i))return Object(Et.a)(new hn([],{}));throw new Or(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Er(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Ir(e):Ir(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?xr(i):this.lineralizeSegments(n,i).pipe(Object(he.a)(n=>{const i=new hn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=_r(e,r,i);if(!o)return Ir(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?xr(l):this.lineralizeSegments(r,l).pipe(Object(he.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Et.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object($t.a)(t=>(n._loadedConfig=t,new hn(r,{})))):Object(Et.a)(new hn(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=_r(e,n,r);if(!s)return Ir(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(he.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:u}=wr(e,o,c,s),l=new hn(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object($t.a)(t=>new hn(o,t)));if(0===s.length&&0===u.length)return Object(Et.a)(new hn(o,{}));const h=yr(n)===i;return this.expandSegment(r,l,s,u,h?Ge:i,!0).pipe(Object($t.a)(t=>new hn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Et.a)(new ar(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Et.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(he.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object($t.a)(t=>(e._loadedConfig=t,t))):function(t){return new Dt.a(e=>e.error(Xe(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Et.a)(new ar([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&cr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!cr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return sn(s)});return Object(Et.a)(i).pipe(hr(),Object(Oe.a)(t=>{if(!ur(t))return;const e=Xe(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object($t.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Et.a)(n);if(r.numberOfChildren>1||!r.children.primary)return kr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ln(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return rn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return rn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new hn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function jr(t){const e={};for(const n of Object.keys(t.children)){const r=jr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new hn(t.segments.concat(e.segments),e.children)}return t}(new hn(t.segments,e))}class Rr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Dr{constructor(t,e){this.component=t,this.route=e}}function Pr(t,e,n){const r=t._root;return Mr(r,e?e._root:null,n,[r.value])}function Nr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Mr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Pn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fn(t.url,e.url)||!Je(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hn(t,e)||!Je(t.queryParams,e.queryParams);case"paramsChange":default:return!Hn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Rr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Mr(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Dr(a.outlet.component,o))}else o&&Lr(e,a,i),i.canActivateChecks.push(new Rr(r)),Mr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),rn(s,(t,e)=>Lr(t,n.getContext(e),i)),i}function Lr(t,e,n){const r=Pn(t),i=t.value;rn(r,(t,r)=>{Lr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Dr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Fr{}function Vr(t){return new Dt.a(e=>e.error(t))}class Ur{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=wr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ge);if(null===e)return null;const n=new Vn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Dn(n,e),i=new Un(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Fn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=br(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=qr(n);return r.sort((t,e)=>t.value.outlet===Ge?-1:e.value.outlet===Ge?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Cr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Er(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?nn(n).parameters:{};i=new Vn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Kr(t),yr(t),t.component,t,zr(e),Hr(e)+n.length,$r(t))}else{const r=_r(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Vn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Kr(t),yr(t),t.component,t,zr(e),Hr(e)+s.length,$r(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=wr(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Dn(i,t)]}if(0===a.length&&0===u.length)return[new Dn(i,[])];const l=yr(t)===r,h=this.processSegment(a,c,u,l?Ge:r);return null===h?null:[new Dn(i,h)]}}function Br(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qr(t){const e=[],n=new Set;for(const r of t){if(!Br(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=qr(r.children);e.push(new Dn(r.value,t))}return e.filter(t=>!n.has(t))}function zr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Kr(t){return t.data||{}}function $r(t){return t.resolve||{}}function Wr(t){return Gt(e=>{const n=t(e);return n?Object(St.a)(n).pipe(Object($t.a)(()=>e)):Object(Et.a)(e)})}class Gr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Qr=new r.r("ROUTES");class Yr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object($t.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new ar(en(i.injector.get(Qr,void 0,r.q.Self|r.q.Optional)).map(gr),i)}),ce(t=>{throw e._loader$=void 0,t}));return e._loader$=new Kt.a(n,()=>new Ct.a).pipe(Object(Te.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(St.a)(this.loader.load(t)):sn(t()).pipe(Object(he.a)(t=>t instanceof r.w?Object(Et.a)(t):Object(St.a)(this.compiler.compileModuleAsync(t))))}}class Xr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zr,this.attachRef=null}}class Zr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Xr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Jr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ti(t){throw t}function ei(t,e,n){return e.parse("/")}function ni(t,e){return Object(Et.a)(null)}let ri=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ct.a,this.errorHandler=ti,this.malformedUriErrorHandler=ei,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ni,afterPreactivation:ni},this.urlHandlingStrategy=new Jr,this.routeReuseStrategy=new Gr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const u=s.get(r.A);this.isNgZoneEnabled=u instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new ln(new hn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yr(o,a,t=>this.triggerEvent(new Be(t)),t=>this.triggerEvent(new qe(t))),this.routerState=Mn(this.currentUrlTree,this.rootComponentType),this.transitions=new Tt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(se(t=>0!==t.id),Object($t.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Gt(t=>{let n=!1,r=!1;return Object(Et.a)(t).pipe(Object(Oe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Et.a)(t).pipe(Gt(t=>{const n=this.transitions.getValue();return e.next(new Re(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?zt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Gt(t=>function(t,e,n,r,i){return new Ar(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object($t.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Oe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(he.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Ur(t,e,n,r,i,s).recognize();return null===o?Vr(new Fr):Object(Et.a)(o)}catch(Hb){return Vr(Hb)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object($t.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Oe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Re(n,this.serializeUrl(r),i,s);e.next(a);const c=Mn(r,this.rootComponentType).snapshot;return Object(Et.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),zt.a}),Wr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Oe.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object($t.a)(t=>Object.assign(Object.assign({},t),{guards:Pr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(he.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Et.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(St.a)(t).pipe(Object(he.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Et.a)(!0);const o=s.map(s=>{const o=Nr(s,e,i);let a;if(function(t){return t&&cr(t.canDeactivate)}(o))a=sn(o.canDeactivate(t,e,n,r));else{if(!cr(o))throw new Error("Invalid CanDeactivate guard");a=sn(o(t,e,n,r))}return a.pipe(Ce())});return Object(Et.a)(o).pipe(hr())}(t.component,t.route,n,e,r)),Ce(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(he.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(St.a)(e).pipe(de(e=>qt(function(t,e){return null!==t&&e&&e(new ze(t)),Object(Et.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Ke(t)),Object(Et.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ht(()=>{const i=e.guards.map(i=>{const s=Nr(i,e.node,n);let o;if(function(t){return t&&cr(t.canActivateChild)}(s))o=sn(s.canActivateChild(r,t));else{if(!cr(s))throw new Error("Invalid CanActivateChild guard");o=sn(s(r,t))}return o.pipe(Ce())});return Object(Et.a)(i).pipe(hr())}));return Object(Et.a)(i).pipe(hr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>Ht(()=>{const i=Nr(r,e,n);let s;if(function(t){return t&&cr(t.canActivate)}(i))s=sn(i.canActivate(e,t));else{if(!cr(i))throw new Error("Invalid CanActivate guard");s=sn(i(e,t))}return s.pipe(Ce())}));return Object(Et.a)(i).pipe(hr())}(t,e.route,n))),Ce(t=>!0!==t,!0))}(r,s,t,e):Object(Et.a)(n)),Object($t.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Oe.a)(t=>{if(ur(t.guardsResult)){const e=Xe(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),se(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Pe(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Wr(t=>{if(t.guards.canActivateChecks.length)return Object(Et.a)(t).pipe(Object(Oe.a)(t=>{const e=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Gt(t=>{let n=!1;return Object(Et.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(he.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Et.a)(t);let s=0;return Object(St.a)(n).pipe(de(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Et.a)({});const s={};return Object(St.a)(i).pipe(Object(he.a)(i=>function(t,e,n,r){const i=Nr(t,e,r);return sn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Oe.a)(t=>{s[i]=t}))),fe(1),Object(he.a)(()=>Object.keys(s).length===i.length?Object(Et.a)(s):zt.a))}(t._resolve,t,e,r).pipe(Object($t.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Fn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Oe.a)(()=>s++),fe(1),Object(he.a)(e=>s===n.length?Object(Et.a)(t):zt.a))})),Object(Oe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Pe(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Oe.a)(t=>{const e=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Wr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object($t.a)(t=>{const e=function(t,e,n){const r=Kn(t,e._root,n?n._root:void 0);return new Nn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Oe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object($t.a)(t=>(new sr(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(Oe.a)({next(){n=!0},complete(){n=!0}}),xe(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Pe(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),ce(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ur(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Pe(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ne(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(gl){t.reject(gl)}}var i;return zt.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){fr(t),this.config=t.map(gr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Qn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Xn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return rn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Xn(n,e,r)}(n);if(s.toRoot())return Qn(e.root,new hn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Zn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Zn(t,t===e.root,0)}const r=Wn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Zn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?tr(o.segmentGroup,o.index,s.commands):Jn(o.segmentGroup,o.index,s.commands);return Qn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ur(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Hb){e=this.malformedUriErrorHandler(Hb,this.urlSerializer,t)}return e}isActive(t,e){if(ur(t))return on(this.currentUrlTree,t,e);const n=this.parseUrl(t);return on(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.O),r.ac(pn),r.ac(Zr),r.ac(w),r.ac(r.s),r.ac(r.x),r.ac(r.i),r.ac(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ii=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Ge,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new si(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Zr),r.Ob(r.R),r.Ob(r.j),r.bc("name"),r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class si{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ln?this.route:t===Zr?this.childContexts:this.parent.get(t,e)}}class oi{}class ai{preload(t,e){return Object(Et.a)(null)}}let ci=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Yr(e,n,e=>t.triggerEvent(new Be(e)),e=>t.triggerEvent(new qe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(se(t=>t instanceof De),de(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(St.a)(n).pipe(Object(Bt.a)(),Object($t.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Et.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(he.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(ri),r.ac(r.x),r.ac(r.i),r.ac(r.s),r.ac(oi))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ui=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Re?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof De&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof We&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new We(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(ri),r.ac(q),r.ac(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const li=new r.r("ROUTER_CONFIGURATION"),hi=new r.r("ROUTER_FORROOT_GUARD"),di=[w,{provide:pn,useClass:mn},{provide:ri,useFactory:function(t,e,n,r,i,o,a,c={},u,l){const h=new ri(null,t,e,n,r,i,o,en(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[pn,Zr,w,r.s,r.x,r.i,Qr,li,[class{},new r.B],[class{},new r.B]]},Zr,{provide:Ln,useFactory:function(t){return t.routerState.root},deps:[ri]},{provide:r.x,useClass:r.L},ci,ai,class{preload(t,e){return e().pipe(ce(()=>Object(Et.a)(null)))}},{provide:li,useValue:{enableTracing:!1}}];function fi(){return new r.z("Router",ri)}let pi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[di,bi(e),{provide:hi,useFactory:yi,deps:[[ri,new r.B,new r.K]]},{provide:li,useValue:n||{}},{provide:g,useFactory:gi,deps:[a,[new r.p(b),new r.B],li]},{provide:ui,useFactory:mi,deps:[ri,q,li]},{provide:oi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ai},{provide:r.z,multi:!0,useFactory:fi},[vi,{provide:r.d,multi:!0,useFactory:_i,deps:[vi]},{provide:Si,useFactory:wi,deps:[vi]},{provide:r.b,multi:!0,useExisting:Si}]]}}static forChild(e){return{ngModule:t,providers:[bi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(hi,8),r.ac(ri,8))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();function mi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ui(t,e,n)}function gi(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function yi(t){return"guarded"}function bi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Qr,multi:!0,useValue:t}]}let vi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ct.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ri),r=this.injector.get(li);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Et.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(li),n=this.injector.get(ci),i=this.injector.get(ui),s=this.injector.get(ri),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.s))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function _i(t){return t.appInitializer.bind(t)}function wi(t){return t.bootstrapListener.bind(t)}const Si=new r.r("Router Initializer");var Ei=n("D0XW");function Ci(){return t=>t.lift(new Oi)}class Oi{call(t,e){return e.subscribe(new Ti(t))}}class Ti extends kt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Ii{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xi(t,this.compare,this.keySelector))}}class xi extends kt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ki=n("pxpQ"),Ai=n("spgP"),ji=n("Jgta"),Ri=n("zIRd"),Di=n("qOnz"),Pi=n("q/0M"),Ni=function(t,e){return(Ni=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Mi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Li,Fi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Vi=Vi||{},Ui=Fi||self;function Bi(){}function qi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function zi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Hi="closure_uid_"+(1e9*Math.random()>>>0),Ki=0;function $i(t,e,n){return t.call.apply(t.bind,arguments)}function Wi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Gi(t,e,n){return(Gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$i:Wi).apply(null,arguments)}function Qi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Yi(){return Date.now()}function Xi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Zi(){this.j=this.j,this.i=this.i}Zi.prototype.j=!1,Zi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Hi)&&t[Hi]||(t[Hi]=++Ki)}(this)},Zi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ji=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ts=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function es(t){return Array.prototype.concat.apply([],arguments)}function ns(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function rs(t){return/^[\s\xa0]*$/.test(t)}var is,ss=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function os(t,e){return-1!=t.indexOf(e)}function as(t,e){return t<e?-1:t>e?1:0}t:{var cs=Ui.navigator;if(cs){var us=cs.userAgent;if(us){is=us;break t}}is=""}function ls(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function hs(t){var e={};for(var n in t)e[n]=t[n];return e}var ds="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<ds.length;s++)n=ds[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ps(t){return ps[" "](t),t}ps[" "]=Bi;var ms,gs,ys=os(is,"Opera"),bs=os(is,"Trident")||os(is,"MSIE"),vs=os(is,"Edge"),_s=vs||bs,ws=os(is,"Gecko")&&!(os(is.toLowerCase(),"webkit")&&!os(is,"Edge"))&&!(os(is,"Trident")||os(is,"MSIE"))&&!os(is,"Edge"),Ss=os(is.toLowerCase(),"webkit")&&!os(is,"Edge");function Es(){var t=Ui.document;return t?t.documentMode:void 0}t:{var Cs="",Os=(gs=is,ws?/rv:([^\);]+)(\)|;)/.exec(gs):vs?/Edge\/([\d\.]+)/.exec(gs):bs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(gs):Ss?/WebKit\/(\S+)/.exec(gs):ys?/(?:Version)[ \/]?(\S+)/.exec(gs):void 0);if(Os&&(Cs=Os?Os[1]:""),bs){var Ts=Es();if(null!=Ts&&Ts>parseFloat(Cs)){ms=String(Ts);break t}}ms=Cs}var Is={};function xs(t){return function(t,e){var n=Is;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ss(String(ms)).split("."),r=ss(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=as(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||as(0==o[2].length,0==a[2].length)||as(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var ks=Ui.document&&bs&&(Es()||parseInt(ms,10))||void 0,As=!bs||9<=Number(ks),js=bs&&!xs("9"),Rs=function(){if(!Ui.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ui.addEventListener("test",Bi,e),Ui.removeEventListener("test",Bi,e)}catch(n){}return t}();function Ds(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ps(t,e){if(Ds.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ws){t:{try{ps(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ns[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ds.prototype.b=function(){this.defaultPrevented=!0},Xi(Ps,Ds);var Ns={2:"touch",3:"pen",4:"mouse"};Ps.prototype.b=function(){Ps.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,js)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ms="closure_listenable_"+(1e6*Math.random()|0),Ls=0;function Fs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ls,this.Y=this.Z=!1}function Vs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Us(t){this.src=t,this.a={},this.b=0}function Bs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Ji(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Vs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function qs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Us.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=qs(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Fs(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var zs="closure_lm_"+(1e6*Math.random()|0),Hs={};function Ks(t,e,n,r,i){if(r&&r.once)return Ws(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ks(t,e[s],n,r,i);return null}return n=eo(n),t&&t[Ms]?t.va(e,n,zi(r)?!!r.capture:!!r,i):$s(t,e,n,!1,r,i)}function $s(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zi(i)?!!i.capture:!!i;if(o&&!As)return null;var a=Js(t);if(a||(t[zs]=a=new Us(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Zs,e=As?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Rs||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ys(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ws(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ws(t,e[s],n,r,i);return null}return n=eo(n),t&&t[Ms]?t.wa(e,n,zi(r)?!!r.capture:!!r,i):$s(t,e,n,!0,r,i)}function Gs(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Gs(t,e[s],n,r,i);else r=zi(r)?!!r.capture:!!r,n=eo(n),t&&t[Ms]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=qs(s=t.a[e],n,r,i))&&(Vs(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Js(t))&&(e=t.a[e.toString()],t=-1,e&&(t=qs(e,n,r,i)),(n=-1<t?e[t]:null)&&Qs(n))}function Qs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ms])Bs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ys(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Js(e))?(Bs(n,t),0==n.b&&(n.src=null,e[zs]=null)):Vs(t)}}}function Ys(t){return t in Hs?Hs[t]:Hs[t]="on"+t}function Xs(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Qs(t),n.call(r,e)}function Zs(t,e){if(t.Y)return!0;if(!As){if(!e)t:{e=["window","event"];for(var n=Ui,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Xs(t,e=new Ps(e,this))}return Xs(t,new Ps(e,this))}function Js(t){return(t=t[zs])instanceof Us?t:null}var to="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(t){return"function"==typeof t?t:(t[to]||(t[to]=function(e){return t.handleEvent(e)}),t[to])}function no(){Zi.call(this),this.c=new Us(this),this.J=this,this.C=null}function ro(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ds(e,t);else if(e instanceof Ds)e.target=e.target||t;else{var i=e;fs(e=new Ds(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=io(o,r,!0,e)&&i}if(i=io(o=e.a=t,r,!0,e)&&i,i=io(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=io(o=e.a=n[s],r,!1,e)&&i}function io(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Bs(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Xi(no,Zi),no.prototype[Ms]=!0,(Li=no.prototype).addEventListener=function(t,e,n,r){Ks(this,t,e,n,r)},Li.removeEventListener=function(t,e,n,r){Gs(this,t,e,n,r)},Li.G=function(){if(no.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Vs(n[r]);delete e.a[t],e.b--}}this.C=null},Li.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Li.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var so=Ui.JSON.stringify;function oo(){this.b=this.a=null}var ao,co=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new lo},function(t){t.reset()});function uo(){var t=mo,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function lo(){this.next=this.b=this.a=null}function ho(t){Ui.setTimeout(function(){throw t},0)}function fo(t,e){ao||function(){var t=Ui.Promise.resolve(void 0);ao=function(){t.then(go)}}(),po||(ao(),po=!0),mo.add(t,e)}oo.prototype.add=function(t,e){var n=co.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},lo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},lo.prototype.reset=function(){this.next=this.b=this.a=null};var po=!1,mo=new oo;function go(){for(var t;t=uo();){try{t.a.call(t.b)}catch(n){ho(n)}var e=co;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}po=!1}function yo(t,e){no.call(this),this.b=t||1,this.a=e||Ui,this.f=Gi(this.Za,this),this.g=Yi()}function bo(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function vo(t,e,n){if("function"==typeof t)n&&(t=Gi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ui.setTimeout(t,e||0)}function _o(t){t.a=vo(function(){t.a=null,t.c&&(t.c=!1,_o(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Xi(yo,no),(Li=yo.prototype).aa=!1,Li.M=null,Li.Za=function(){if(this.aa){var t=Yi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ro(this,"tick"),this.aa&&(bo(this),this.start()))}},Li.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Yi())},Li.G=function(){yo.X.G.call(this),bo(this),delete this.a};var wo=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ni(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:_o(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ui.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Zi);function So(t){Zi.call(this),this.b=t,this.a={}}Xi(So,Zi);var Eo=[];function Co(t,e,n,r){Array.isArray(n)||(n&&(Eo[0]=n.toString()),n=Eo);for(var i=0;i<n.length;i++){var s=Ks(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Oo(t){ls(t.a,function(t,e){this.a.hasOwnProperty(e)&&Qs(t)},t),t.a={}}function To(){this.a=!0}function Io(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return so(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}So.prototype.G=function(){So.X.G.call(this),Oo(this)},So.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},To.prototype.info=function(){};var xo={},ko=null;function Ao(){return ko=ko||new no}function jo(t){Ds.call(this,xo.Fa,t)}function Ro(t){var e=Ao();ro(e,new jo(e,t))}function Do(t,e){Ds.call(this,xo.STAT_EVENT,t),this.stat=e}function Po(t){var e=Ao();ro(e,new Do(e,t))}function No(t){Ds.call(this,xo.Ga,t)}function Mo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ui.setTimeout(function(){t()},e)}xo.Fa="serverreachability",Xi(jo,Ds),xo.STAT_EVENT="statevent",Xi(Do,Ds),xo.Ga="timingevent",Xi(No,Ds);var Lo={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Fo={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Vo(){}function Uo(){}Vo.prototype.a=null;var Bo,qo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function zo(){Ds.call(this,"d")}function Ho(){Ds.call(this,"c")}function Ko(){}function $o(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new So(this),this.P=Wo,this.R=new yo(t=_s?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Xi(zo,Ds),Xi(Ho,Ds),Xi(Ko,Vo),Bo=new Ko;var Wo=45e3,Go={},Qo={};function Yo(t,e,n){t.H=1,t.i=ba(da(e)),t.j=n,t.I=!0,Xo(t,null)}function Xo(t,e){t.u=Yi(),ta(t),t.l=da(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ja(n.b,"t",r),t.D=0,t.a=Oc(t.g,t.g.C?e:null),0<t.O&&(t.F=new wo(Gi(t.Ca,t,t.a),t.O)),Co(t.J,t.a,"readystatechange",t.Xa),e=t.B?hs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ro(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Zo(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Jo(t,n);if(i==Qo){4==e&&(t.h=4,Po(14),r=!1),Io(t.c,t.f,null,"[Incomplete Response]");break}if(i==Go){t.h=4,Po(15),Io(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Io(t.c,t.f,i,null),sa(t,i)}4==e&&0==n.length&&(t.h=1,Po(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),yc(e),e.F=!0,Po(11))):(Io(t.c,t.f,n,"[Invalid Chunked Response]"),ia(t),ra(t))}function Jo(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Qo:(n=Number(e.substring(n,r)),isNaN(n)?Go:(r+=1)+n>e.length?Qo:(e=e.substr(r,n),t.D=r+n,e))}function ta(t){t.T=Yi()+t.P,ea(t,t.P)}function ea(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Mo(Gi(t.Va,t),e)}function na(t){t.o&&(Ui.clearTimeout(t.o),t.o=null)}function ra(t){0==t.g.v||t.A||_c(t.g,t)}function ia(t){na(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,bo(t.R),Oo(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function sa(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Fa(n.b,t)))if(n.I=t.N,!t.C&&Fa(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(ab){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;vc(n),cc(n)}gc(n),Po(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Mo(Gi(n.Sa,n),6e3));if(1>=La(n.b)&&n.ea){try{n.ea()}catch(ab){}n.ea=void 0}}else Sc(n,11)}else if((t.C||n.a==t)&&vc(n),!rs(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(os(l,"spdy")||os(l,"quic")||os(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Va(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,ya(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Yi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Cc(c,c.C?c.ga:null,c.fa),f.C){Ua(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(na(p),ta(p)),c.a=f}else mc(c);0<n.g.length&&hc(n)}else"stop"!=i[0]&&"close"!=i[0]||Sc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Sc(n,7):ac(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ro(4)}catch(ab){}}function oa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(qi(t)||"string"==typeof t)ts(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(qi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(qi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function aa(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof aa)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ca(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ua(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ua(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ua(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Li=$o.prototype).setTimeout=function(t){this.P=t},Li.Xa=function(t){t=t.target;var e=this.F;e&&3==rc(t)?e.f():this.Ca(t)},Li.Ca=function(t){try{if(t==this.a)t:{var e=rc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!_s&&!this.a.$())){this.A||4!=e||7==n||Ro(8==n||0>=r?3:2),na(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rs(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,Po(12),ia(this),ra(this);break t}Io(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,sa(this,c)}this.I?(Zo(this,e,s),_s&&this.b&&3==e&&(Co(this.J,this.R,"tick",this.Wa),this.R.start())):(Io(this.c,this.f,s,null),sa(this,s)),4==e&&ia(this),this.b&&!this.A&&(4==e?_c(this.g,this):(this.b=!1,ta(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Po(12)):(this.h=0,Po(13)),ia(this),ra(this)}}}catch(u){}},Li.Wa=function(){if(this.a){var t=rc(this.a),e=this.a.$();this.D<e.length&&(na(this),Zo(this,t,e),this.b&&4!=t&&ta(this))}},Li.cancel=function(){this.A=!0,ia(this)},Li.Va=function(){this.o=null;var t=Yi();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ro(3),Po(17)),ia(this),this.h=2,ra(this)):ea(this,this.T-t)},(Li=aa.prototype).K=function(){ca(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Li.L=function(){return ca(this),this.a.concat()},Li.get=function(t,e){return ua(this.b,t)?this.b[t]:e},Li.set=function(t,e){ua(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Li.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var la=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ha(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ha){this.a=void 0!==e?e:t.a,fa(this,t.f),this.j=t.j,pa(this,t.c),ma(this,t.h),this.g=t.g,e=t.b;var n=new Ia;n.c=e.c,e.a&&(n.a=new aa(e.a),n.b=e.b),ga(this,n),this.i=t.i}else t&&(n=String(t).match(la))?(this.a=!!e,fa(this,n[1]||"",!0),this.j=va(n[2]||""),pa(this,n[3]||"",!0),ma(this,n[4]),this.g=va(n[5]||"",!0),ga(this,n[6]||"",!0),this.i=va(n[7]||"")):(this.a=!!e,this.b=new Ia(null,this.a))}function da(t){return new ha(t)}function fa(t,e,n){t.f=n?va(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function pa(t,e,n){t.c=n?va(e,!0):e}function ma(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ga(t,e,n){e instanceof Ia?(t.b=e,function(t,e){e&&!t.f&&(xa(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ka(this,e),ja(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=_a(e,Oa)),t.b=new Ia(e,t.a))}function ya(t,e,n){t.b.set(e,n)}function ba(t){return ya(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Yi()).toString(36)),t}function va(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _a(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,wa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ha.prototype.toString=function(){var t=[],e=this.f;e&&t.push(_a(e,Sa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(_a(e,Sa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(_a(n,"/"==n.charAt(0)?Ca:Ea,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",_a(n,Ta)),t.join("")};var Sa=/[#\/\?@]/g,Ea=/[#\?:]/g,Ca=/[#\?]/g,Oa=/[#\?@]/g,Ta=/#/g;function Ia(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function xa(t){t.a||(t.a=new aa,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ka(t,e){xa(t),e=Ra(t,e),ua(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ua((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ca(t)))}function Aa(t,e){return xa(t),e=Ra(t,e),ua(t.a.b,e)}function ja(t,e,n){ka(t,e),0<n.length&&(t.c=null,t.a.set(Ra(t,e),ns(n)),t.b+=n.length)}function Ra(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Li=Ia.prototype).add=function(t,e){xa(this),this.c=null,t=Ra(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Li.forEach=function(t,e){xa(this),this.a.forEach(function(n,r){ts(n,function(n){t.call(e,n,r,this)},this)},this)},Li.L=function(){xa(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Li.K=function(t){xa(this);var e=[];if("string"==typeof t)Aa(this,t)&&(e=es(e,this.a.get(Ra(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=es(e,t[n])}return e},Li.set=function(t,e){return xa(this),this.c=null,Aa(this,t=Ra(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Li.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Li.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Da=function(){return function(t,e){this.b=t,this.a=e}}();function Pa(t){this.g=t||Na,t=Ui.PerformanceNavigationTiming?0<(t=Ui.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ui.ia&&Ui.ia.ya&&Ui.ia.ya()&&Ui.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Na=10;function Ma(t){return!!t.b||!!t.a&&t.a.size>=t.f}function La(t){return t.b?1:t.a?t.a.size:0}function Fa(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Va(t,e){t.a?t.a.add(e):t.b=e}function Ua(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ba(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Mi(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ns(t.c)}function qa(){}function za(){this.a=new qa}function Ha(t,e,n){var r=n||"";try{oa(t,function(t,n){var i=t;zi(t)&&(i=so(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Hb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Hb}}function Ka(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Pa.prototype.cancel=function(){var t,e;if(this.c=Ba(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Mi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},qa.prototype.stringify=function(t){return Ui.JSON.stringify(t,void 0)},qa.prototype.parse=function(t){return Ui.JSON.parse(t,void 0)};var $a=Ui.JSON.parse;function Wa(t){no.call(this),this.headers=new aa,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ga,this.D=this.F=!1}Xi(Wa,no);var Ga="",Qa=/^https?$/i,Ya=["POST","PUT"];function Xa(t){return"content-type"==t.toLowerCase()}function Za(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ja(t),ec(t)}function Ja(t){t.u||(t.u=!0,ro(t,"complete"),ro(t,"error"))}function tc(t){if(t.b&&void 0!==Vi&&(!t.s[1]||4!=rc(t)||2!=t.W()))if(t.l&&4==rc(t))vo(t.za,0,t);else if(ro(t,"readystatechange"),4==rc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(la)[1]||null;if(!s&&Ui.self&&Ui.self.location){var o=Ui.self.location.protocol;s=o.substr(0,o.length-1)}i=!Qa.test(s?s.toLowerCase():"")}e=i}if(e)ro(t,"complete"),ro(t,"success");else{t.h=6;try{var a=2<rc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ja(t)}}finally{ec(t)}}}function ec(t,e){if(t.a){nc(t);var n=t.a,r=t.s[0]?Bi:null;t.a=null,t.s=null,e||ro(t,"ready");try{n.onreadystatechange=r}catch(Hb){}}}function nc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ui.clearTimeout(t.m),t.m=null)}function rc(t){return t.a?t.a.readyState:0}function ic(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ls(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ya(t,e,n))}function sc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oc(t){this.pa=0,this.g=[],this.c=new To,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=sc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=sc("baseRetryDelayMs",5e3,t),this.Ra=sc("retryDelaySeedMs",1e4,t),this.Ma=sc("forwardChannelMaxRetries",2,t),this.ma=sc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Pa(t&&t.concurrentRequestLimit),this.ka=new za,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ac(t){if(uc(t),3==t.v){var e=t.R++,n=da(t.B);ya(n,"SID",t.J),ya(n,"RID",e),ya(n,"TYPE","terminate"),fc(t,n),(e=new $o(t,t.c,e,void 0)).H=2,e.i=ba(da(n)),n=!1,Ui.navigator&&Ui.navigator.sendBeacon&&(n=Ui.navigator.sendBeacon(e.i.toString(),"")),!n&&Ui.Image&&((new Image).src=e.i,n=!0),n||(e.a=Oc(e.g,null),e.a.ba(e.i)),e.u=Yi(),ta(e)}Ec(t)}function cc(t){t.a&&(yc(t),t.a.cancel(),t.a=null)}function uc(t){cc(t),t.j&&(Ui.clearTimeout(t.j),t.j=null),vc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ui.clearTimeout(t.h),t.h=null)}function lc(t,e){t.g.push(new Da(t.Oa++,e)),3==t.v&&hc(t)}function hc(t){Ma(t.b)||t.h||(t.h=!0,fo(t.Ba,t),t.u=0)}function dc(t,e){var n;n=e?e.f:t.R++;var r=da(t.B);ya(r,"SID",t.J),ya(r,"RID",n),ya(r,"AID",t.P),fc(t,r),t.i&&t.l&&ic(r,t.i,t.l),n=new $o(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=pc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Va(t.b,n),Yo(n,r,e)}function fc(t,e){t.f&&oa({},function(t,n){ya(e,n,t)})}function pc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Gi(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{Ha(l,o,"req"+u+"_")}catch(nu){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function mc(t){t.a||t.j||(t.T=1,fo(t.Aa,t),t.o=0)}function gc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Mo(Gi(t.Aa,t),wc(t,t.o)),t.o++,0))}function yc(t){null!=t.s&&(Ui.clearTimeout(t.s),t.s=null)}function bc(t){t.a=new $o(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=da(t.la);ya(e,"RID","rpc"),ya(e,"SID",t.J),ya(e,"CI",t.H?"0":"1"),ya(e,"AID",t.P),fc(t,e),ya(e,"TYPE","xmlhttp"),t.i&&t.l&&ic(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ba(da(e)),n.j=null,n.I=!0,Xo(n,t)}function vc(t){null!=t.m&&(Ui.clearTimeout(t.m),t.m=null)}function _c(t,e){var n=null;if(t.a==e){vc(t),yc(t),t.a=null;var r=2}else{if(!Fa(t.b,e))return;n=e.s,Ua(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Yi()-e.u;var i=t.u;ro(r=Ao(),new No(r,n,e,i)),hc(t)}else mc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(La(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Mo(Gi(t.Ba,t,e),wc(t,t.u)),t.u++,0)))}(t,e)||2==r&&gc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Sc(t,5);break;case 4:Sc(t,10);break;case 3:Sc(t,6);break;default:Sc(t,2)}}function wc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Sc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Gi(t.Ya,t);n||(n=new ha("//www.google.com/images/cleardot.gif"),Ui.location&&"http"==Ui.location.protocol||fa(n,"https"),ba(n)),function(t,e){var n=new To;if(Ui.Image){var r=new Image;r.onload=Qi(Ka,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qi(Ka,n,r,"TestLoadImage: error",!1,e),r.onabort=Qi(Ka,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qi(Ka,n,r,"TestLoadImage: timeout",!1,e),Ui.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Po(2);t.v=0,t.f&&t.f.ra(e),Ec(t),uc(t)}function Ec(t){t.v=0,t.I=-1,t.f&&(0==Ba(t.b).length&&0==t.g.length||(t.b.c.length=0,ns(t.g),t.g.length=0),t.f.qa())}function Cc(t,e,n){var r=function(t){return t instanceof ha?da(t):new ha(t,void 0)}(n);if(""!=r.c)e&&pa(r,e+"."+r.c),ma(r,r.h);else{var i=Ui.location;r=function(t,e,n,r){var i=new ha(null,void 0);return t&&fa(i,t),e&&pa(i,e),n&&ma(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ls(t.V,function(t,e){ya(r,e,t)}),n=t.na,(e=t.A)&&n&&ya(r,e,n),ya(r,"VER",t.ha),fc(t,r),r}function Oc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wa(t.Na)).F=t.C,e}function Tc(){}function Ic(){if(bs&&!(10<=Number(ks)))throw Error("Environmental error: no available transport.")}function xc(t,e){no.call(this),this.a=new oc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!rs(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new jc(this)}function kc(t){zo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ac(){Ho.call(this),this.status=1}function jc(t){this.a=t}(Li=Wa.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Bo),this.a.onreadystatechange=Gi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Za(this,s)}t=n||"";var i=new aa(this.headers);r&&oa(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Xa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ui.FormData&&t instanceof Ui.FormData,!(0<=Ji(Ya,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{nc(this),0<this.o&&((this.D=function(t){return bs&&xs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Gi(this.xa,this)):this.m=vo(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Za(this,s)}},Li.xa=function(){void 0!==Vi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ro(this,"timeout"),this.abort(8))},Li.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ro(this,"complete"),ro(this,"abort"),ec(this))},Li.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ec(this,!0)),Wa.X.G.call(this)},Li.za=function(){this.j||(this.A||this.l||this.g?tc(this):this.Ua())},Li.Ua=function(){tc(this)},Li.W=function(){try{return 2<rc(this)?this.a.status:-1}catch(gs){return-1}},Li.$=function(){try{return this.a?this.a.responseText:""}catch(gs){return""}},Li.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$a(e)}},Li.ua=function(){return this.h},Li.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Li=oc.prototype).ha=8,Li.v=1,Li.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new $o(this,this.c,t,void 0),r=this.l;if(this.O&&(r?fs(r=hs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=pc(this,n,e),ya(i=da(this.B),"RID",t),ya(i,"CVER",22),this.A&&ya(i,"X-HTTP-Session-Id",this.A),fc(this,i),this.i&&r&&ic(i,this.i,r),Va(this.b,n),this.Ia&&ya(i,"TYPE","init"),this.da?(ya(i,"$req",e),ya(i,"SID","null"),n.U=!0,Yo(n,i,null)):Yo(n,i,e),this.v=2}}else 3==this.v&&(t?dc(this,t):0==this.g.length||Ma(this.b)||dc(this))},Li.Aa=function(){if(this.j=null,bc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Mo(Gi(this.Ta,this),t)}},Li.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Po(10),cc(this),bc(this))},Li.Sa=function(){null!=this.m&&(this.m=null,cc(this),gc(this),Po(19))},Li.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Po(2)):(this.c.info("Failed to ping google.com"),Po(1))},(Li=Tc.prototype).ta=function(){},Li.sa=function(){},Li.ra=function(){},Li.qa=function(){},Li.Ja=function(){},Ic.prototype.a=function(t,e){return new xc(t,e)},Xi(xc,no),xc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Po(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Cc(t,null,t.fa),hc(t)},xc.prototype.close=function(){ac(this.a)},xc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,lc(this.a,e)}else this.l?((e={}).__data__=so(t),lc(this.a,e)):lc(this.a,t)},xc.prototype.G=function(){this.a.f=null,delete this.f,ac(this.a),delete this.a,xc.X.G.call(this)},Xi(kc,zo),Xi(Ac,Ho),Xi(jc,Tc),jc.prototype.ta=function(){ro(this.a,"a")},jc.prototype.sa=function(t){ro(this.a,new kc(t))},jc.prototype.ra=function(t){ro(this.a,new Ac(t))},jc.prototype.qa=function(){ro(this.a,"b")},Ic.prototype.createWebChannel=Ic.prototype.a,xc.prototype.send=xc.prototype.h,xc.prototype.open=xc.prototype.g,xc.prototype.close=xc.prototype.close,Lo.NO_ERROR=0,Lo.TIMEOUT=8,Lo.HTTP_ERROR=6,Fo.COMPLETE="complete",Uo.EventType=qo,qo.OPEN="a",qo.CLOSE="b",qo.ERROR="c",qo.MESSAGE="d",no.prototype.listen=no.prototype.va,Wa.prototype.listenOnce=Wa.prototype.wa,Wa.prototype.getLastError=Wa.prototype.Qa,Wa.prototype.getLastErrorCode=Wa.prototype.ua,Wa.prototype.getStatus=Wa.prototype.W,Wa.prototype.getResponseJson=Wa.prototype.Pa,Wa.prototype.getResponseText=Wa.prototype.$,Wa.prototype.send=Wa.prototype.ba;var Rc=Lo,Dc=Fo,Pc=xo,Nc=Uo,Mc=Wa,Lc=n("mrSG"),Fc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Fc.o=-1;var Vc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Lc.c)(e,t),e}(Error),Bc=new Pi.b("@firebase/firestore");function qc(){return Bc.logLevel}function zc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Bc.logLevel<=Pi.a.DEBUG){var r=e.map($c);Bc.debug.apply(Bc,Object(Lc.f)(["Firestore (8.5.0): "+t],r))}}function Hc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Bc.logLevel<=Pi.a.ERROR){var r=e.map($c);Bc.error.apply(Bc,Object(Lc.f)(["Firestore (8.5.0): "+t],r))}}function Kc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Bc.logLevel<=Pi.a.WARN){var r=e.map($c);Bc.warn.apply(Bc,Object(Lc.f)(["Firestore (8.5.0): "+t],r))}}function $c(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Hb){return t}}function Wc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw Hc(e),new Error(e)}function Gc(t,e){t||Wc()}function Qc(t,e){return t}function Yc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Xc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Yc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Zc(t,e){return t<e?-1:t>e?1:0}function Jc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function tu(t){return t+"\0"}var eu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Uc(Vc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Uc(Vc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Uc(Vc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Uc(Vc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Zc(this.nanoseconds,t.nanoseconds):Zc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),nu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new eu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function ru(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function iu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function su(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ou=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Wc(),void 0===n?n=t.length-e:n>t.length-e&&Wc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ou),cu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return cu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Uc(Vc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Uc(Vc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Uc(Vc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ou),lu=function(){function t(t){this.fields=t,t.sort(uu.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Jc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),hu=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Zc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();hu.EMPTY_BYTE_STRING=new hu("");var du=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fu(t){if(Gc(!!t),"string"==typeof t){var e=0,n=du.exec(t);if(Gc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pu(t.seconds),nanos:pu(t.nanos)}}function pu(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function mu(t){return"string"==typeof t?hu.fromBase64String(t):hu.fromUint8Array(t)}function gu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yu(t){var e=t.mapValue.fields.__previous_value__;return gu(e)?yu(e):e}function bu(t){var e=fu(t.mapValue.fields.__local_write_time__.timestampValue);return new eu(e.seconds,e.nanos)}function vu(t){return null==t}function _u(t){return 0===t&&1/t==-1/0}function wu(t){return"number"==typeof t&&Number.isInteger(t)&&!_u(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Su=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(au.fromString(e))},t.fromName=function(e){return new t(au.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===au.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return au.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new au(e.slice()))},t}();function Eu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gu(t)?4:10:Wc()}function Cu(t,e){var n=Eu(t);if(n!==Eu(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bu(t).isEqual(bu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=fu(t.timestampValue),r=fu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return mu(t.bytesValue).isEqual(mu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return pu(t.geoPointValue.latitude)===pu(e.geoPointValue.latitude)&&pu(t.geoPointValue.longitude)===pu(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return pu(t.integerValue)===pu(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=pu(t.doubleValue),r=pu(e.doubleValue);return n===r?_u(n)===_u(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Jc(t.arrayValue.values||[],e.arrayValue.values||[],Cu);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ru(n)!==ru(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cu(n[i],r[i])))return!1;return!0}(t,e);default:return Wc()}}function Ou(t,e){return void 0!==(t.values||[]).find(function(t){return Cu(t,e)})}function Tu(t,e){var n=Eu(t),r=Eu(e);if(n!==r)return Zc(n,r);switch(n){case 0:return 0;case 1:return Zc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=pu(t.integerValue||t.doubleValue),r=pu(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Iu(t.timestampValue,e.timestampValue);case 4:return Iu(bu(t),bu(e));case 5:return Zc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=mu(t),r=mu(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Zc(n[i],r[i]);if(0!==s)return s}return Zc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Zc(pu(t.latitude),pu(e.latitude));return 0!==n?n:Zc(pu(t.longitude),pu(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Tu(n[i],r[i]);if(s)return s}return Zc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Zc(r[o],s[o]);if(0!==a)return a;var c=Tu(n[r[o]],i[s[o]]);if(0!==c)return c}return Zc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Wc()}}function Iu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zc(t,e);var n=fu(t),r=fu(e),i=Zc(n.seconds,r.seconds);return 0!==i?i:Zc(n.nanos,r.nanos)}function xu(t){return ku(t)}function ku(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=fu(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?mu(t.bytesValue).toBase64():"referenceValue"in t?Su.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ku(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+ku(t.fields[s])}return e+"}"}(t.mapValue):Wc();var e}function Au(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ju(t){return!!t&&"integerValue"in t}function Ru(t){return!!t&&"arrayValue"in t}function Du(t){return!!t&&"nullValue"in t}function Pu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nu(t){return!!t&&"mapValue"in t}var Mu=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(uu.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Cu(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Eu(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=Nu(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(uu.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Nu(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Lu(t){var e=[];return iu(t.fields||{},function(t,n){var r=new uu([t]);if(Nu(n)){var i=Lu(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new lu(e)}var Fu=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,nu.min(),Mu.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Mu.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Mu.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Mu.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Mu.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Vu=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Uu(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Vu(t,e,n,r,i,s,o)}function Bu(t){var e=Qc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+xu(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),vu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=tl(e.startAt)),e.endAt&&(n+="|ub:",n+=tl(e.endAt)),e.h=n}return e.h}function qu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!nl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Cu(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!il(t.startAt,e.startAt)&&il(t.endAt,e.endAt)}function zu(t){return Su.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Hu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Lc.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ku(t,n,r):"array-contains"===n?new Qu(t,r):"in"===n?new Yu(t,r):"not-in"===n?new Xu(t,r):"array-contains-any"===n?new Zu(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new $u(t,n):new Wu(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Tu(e,this.value)):null!==e&&Eu(this.value)===Eu(e)&&this.m(Tu(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Wc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ku=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Su.fromName(r.referenceValue),i}return Object(Lc.c)(e,t),e.prototype.matches=function(t){var e=Su.comparator(t.key,this.key);return this.m(e)},e}(Hu),$u=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Gu(0,n),r}return Object(Lc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Hu),Wu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Gu(0,n),r}return Object(Lc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Hu);function Gu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Su.fromName(t.referenceValue)})}var Qu=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Lc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ru(e)&&Ou(e.arrayValue,this.value)},e}(Hu),Yu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Lc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ou(this.value.arrayValue,e)},e}(Hu),Xu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Lc.c)(e,t),e.prototype.matches=function(t){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ou(this.value.arrayValue,e)},e}(Hu),Zu=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Lc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ru(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ou(e.value.arrayValue,t)})},e}(Hu),Ju=function(t,e){this.position=t,this.before=e};function tl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return xu(t)}).join(",")}var el=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function nl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function rl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Su.comparator(Su.fromName(o.referenceValue),n.key):Tu(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function il(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Cu(t.position[n],e.position[n]))return!1;return!0}var sl=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function ol(t,e,n,r,i,s,o,a){return new sl(t,e,n,r,i,s,o,a)}function al(t){return new sl(t)}function cl(t){return!vu(t.limit)&&"F"===t.limitType}function ul(t){return!vu(t.limit)&&"L"===t.limitType}function ll(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function hl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function dl(t){return null!==t.collectionGroup}function fl(t){var e=Qc(t);if(null===e.p){e.p=[];var n=hl(e),r=ll(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new el(n)),e.p.push(new el(uu.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new el(uu.keyField(),c))}}}return e.p}function pl(t){var e=Qc(t);if(!e.T)if("F"===e.limitType)e.T=Uu(e.path,e.collectionGroup,fl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=fl(e);r<i.length;r++){var s=i[r];n.push(new el(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Ju(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ju(e.startAt.position,!e.startAt.before):null;e.T=Uu(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function ml(t,e,n){return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gl(t,e){return qu(pl(t),pl(e))&&t.limitType===e.limitType}function yl(t){return Bu(pl(t))+"|lt:"+t.limitType}function bl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+xu(e.value);var e}).join(", ")+"]"),vu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+tl(t.startAt)),t.endAt&&(e+=", endAt: "+tl(t.endAt)),"Target("+e+")"}(pl(t))+"; limitType="+t.limitType+")"}function vl(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Su.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!rl(t.startAt,fl(t),e)||t.endAt&&rl(t.endAt,fl(t),e))}(t,e)}function _l(t){return function(e,n){for(var r=!1,i=0,s=fl(t);i<s.length;i++){var o=s[i],a=wl(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function wl(t,e,n){var r=t.field.isKeyField()?Su.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Tu(r,i):Wc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Wc()}}function Sl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_u(e)?"-0":e}}function El(t){return{integerValue:""+t}}function Cl(t,e){return wu(e)?El(e):Sl(t,e)}var Ol=function(){this._=void 0};function Tl(t,e,n){return t instanceof kl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Al?jl(t,e):t instanceof Rl?Dl(t,e):function(t,e){var n=xl(t,e),r=Nl(n)+Nl(t.A);return ju(n)&&ju(t.A)?El(r):Sl(t.R,r)}(t,e)}function Il(t,e,n){return t instanceof Al?jl(t,e):t instanceof Rl?Dl(t,e):n}function xl(t,e){return t instanceof Pl?ju(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e}(Ol),Al=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Lc.c)(e,t),e}(Ol);function jl(t,e){for(var n=Ml(e),r=function(t){n.some(function(e){return Cu(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Rl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Lc.c)(e,t),e}(Ol);function Dl(t,e){for(var n=Ml(e),r=function(t){n=n.filter(function(e){return!Cu(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Pl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Lc.c)(e,t),e}(Ol);function Nl(t){return pu(t.integerValue||t.doubleValue)}function Ml(t){return Ru(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ll=function(t,e){this.field=t,this.transform=e},Fl=function(t,e){this.version=t,this.transformResults=e},Vl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ul(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Bl=function(){};function ql(t,e,n){t instanceof Wl?function(t,e,n){var r=t.value.clone(),i=Yl(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Gl?function(t,e,n){if(Ul(t.precondition,e)){var r=Yl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ql(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function zl(t,e,n){t instanceof Wl?function(t,e,n){if(Ul(t.precondition,e)){var r=t.value.clone(),i=Xl(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument($l(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Gl?function(t,e,n){if(Ul(t.precondition,e)){var r=Xl(t.fieldTransforms,n,e),i=e.data;i.setAll(Ql(t)),i.setAll(r),e.convertToFoundDocument($l(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ul(t.precondition,e)&&e.convertToNoDocument(nu.min())}(t,e)}function Hl(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=xl(s.transform,o||null);null!=a&&(null==n&&(n=Mu.empty()),n.set(s.field,a))}return n||null}function Kl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Jc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Al&&e instanceof Al||t instanceof Rl&&e instanceof Rl?Jc(t.elements,e.elements,Cu):t instanceof Pl&&e instanceof Pl?Cu(t.A,e.A):t instanceof kl&&e instanceof kl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function $l(t){return t.isFoundDocument()?t.version:nu.min()}var Wl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Lc.c)(e,t),e}(Bl),Gl=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Lc.c)(e,t),e}(Bl);function Ql(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Yl(t,e,n){var r=new Map;Gc(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Il(o,a,n[i]))}return r}function Xl(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=n.data.field(o.field);r.set(o.field,Tl(a,c,e))}return r}var Zl,Jl,th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Lc.c)(e,t),e}(Bl),eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Lc.c)(e,t),e}(Bl),nh=function(t){this.count=t};function rh(t){switch(t){case Vc.OK:return Wc();case Vc.CANCELLED:case Vc.UNKNOWN:case Vc.DEADLINE_EXCEEDED:case Vc.RESOURCE_EXHAUSTED:case Vc.INTERNAL:case Vc.UNAVAILABLE:case Vc.UNAUTHENTICATED:return!1;case Vc.INVALID_ARGUMENT:case Vc.NOT_FOUND:case Vc.ALREADY_EXISTS:case Vc.PERMISSION_DENIED:case Vc.FAILED_PRECONDITION:case Vc.ABORTED:case Vc.OUT_OF_RANGE:case Vc.UNIMPLEMENTED:case Vc.DATA_LOSS:return!0;default:return Wc()}}function ih(t){if(void 0===t)return Hc("GRPC error has no .code"),Vc.UNKNOWN;switch(t){case Zl.OK:return Vc.OK;case Zl.CANCELLED:return Vc.CANCELLED;case Zl.UNKNOWN:return Vc.UNKNOWN;case Zl.DEADLINE_EXCEEDED:return Vc.DEADLINE_EXCEEDED;case Zl.RESOURCE_EXHAUSTED:return Vc.RESOURCE_EXHAUSTED;case Zl.INTERNAL:return Vc.INTERNAL;case Zl.UNAVAILABLE:return Vc.UNAVAILABLE;case Zl.UNAUTHENTICATED:return Vc.UNAUTHENTICATED;case Zl.INVALID_ARGUMENT:return Vc.INVALID_ARGUMENT;case Zl.NOT_FOUND:return Vc.NOT_FOUND;case Zl.ALREADY_EXISTS:return Vc.ALREADY_EXISTS;case Zl.PERMISSION_DENIED:return Vc.PERMISSION_DENIED;case Zl.FAILED_PRECONDITION:return Vc.FAILED_PRECONDITION;case Zl.ABORTED:return Vc.ABORTED;case Zl.OUT_OF_RANGE:return Vc.OUT_OF_RANGE;case Zl.UNIMPLEMENTED:return Vc.UNIMPLEMENTED;case Zl.DATA_LOSS:return Vc.DATA_LOSS;default:return Wc()}}(Jl=Zl||(Zl={}))[Jl.OK=0]="OK",Jl[Jl.CANCELLED=1]="CANCELLED",Jl[Jl.UNKNOWN=2]="UNKNOWN",Jl[Jl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jl[Jl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jl[Jl.NOT_FOUND=5]="NOT_FOUND",Jl[Jl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jl[Jl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jl[Jl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jl[Jl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jl[Jl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jl[Jl.ABORTED=10]="ABORTED",Jl[Jl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jl[Jl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jl[Jl.INTERNAL=13]="INTERNAL",Jl[Jl.UNAVAILABLE=14]="UNAVAILABLE",Jl[Jl.DATA_LOSS=15]="DATA_LOSS";var sh=function(){function t(t,e){this.comparator=t,this.root=e||ah.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ah.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ah.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new oh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new oh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new oh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new oh(this.root,t,this.comparator,!0)},t}(),oh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ah=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wc();if(this.right.isRed())throw Wc();var t=this.left.check();if(t!==this.right.check())throw Wc();return t+(this.isRed()?0:1)},t}();ah.EMPTY=null,ah.RED=!0,ah.BLACK=!1,ah.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Wc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Wc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Wc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Wc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Wc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ah(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ch=function(){function t(t){this.comparator=t,this.data=new sh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new uh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new uh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),uh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),lh=new sh(Su.comparator);function hh(){return lh}var dh=new sh(Su.comparator);function fh(){return dh}var ph=new sh(Su.comparator);function mh(){return ph}var gh=new ch(Su.comparator);function yh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=gh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var bh=new ch(Zc);function vh(){return bh}var _h=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(nu.min(),r,vh(),hh(),yh())},t}(),wh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(hu.EMPTY_BYTE_STRING,n,yh(),yh(),yh())},t}(),Sh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Eh=function(t,e){this.targetId=t,this.V=e},Ch=function(t,e,n,r){void 0===n&&(n=hu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Oh=function(){function t(){this.S=0,this.D=xh(),this.C=hu.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=yh(),e=yh(),n=yh();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Wc()}}),new wh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=xh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Th=function(){function t(t){this.W=t,this.G=new Map,this.H=hh(),this.J=Ih(),this.Y=new ch(Zc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Wc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(zu(i))if(0===n){var s=new Su(i.path);this.tt(e,s,Fu.newNoDocument(s,nu.min()))}else Gc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&zu(s.target)){var o=new Su(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Fu.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=yh();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new _h(t,n,this.Y,this.H,r);return this.H=hh(),this.J=Ih(),this.Y=new ch(Zc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Oh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ch(Zc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||zc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Oh),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ih(){return new sh(Su.comparator)}function xh(){return new sh(Su.comparator)}var kh={asc:"ASCENDING",desc:"DESCENDING"},Ah={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jh=function(t,e){this.databaseId=t,this.I=e};function Rh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dh(t,e){return t.I?e.toBase64():e.toUint8Array()}function Ph(t,e){return Rh(t,e.toTimestamp())}function Nh(t){return Gc(!!t),nu.fromTimestamp(function(t){var e=fu(t);return new eu(e.seconds,e.nanos)}(t))}function Mh(t,e){return function(t){return new au(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Lh(t){var e=au.fromString(t);return Gc(ad(e)),e}function Fh(t,e){return Mh(t.databaseId,e.path)}function Vh(t,e){var n=Lh(e);if(n.get(1)!==t.databaseId.projectId)throw new Uc(Vc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Uc(Vc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Su(zh(n))}function Uh(t,e){return Mh(t.databaseId,e)}function Bh(t){var e=Lh(t);return 4===e.length?au.emptyPath():zh(e)}function qh(t){return new au(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zh(t){return Gc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Hh(t,e,n){return{name:Fh(t,e),fields:n.toProto().mapValue.fields}}function Kh(t,e,n){var r=Vh(t,e.name),i=Nh(e.updateTime),s=new Mu({mapValue:{fields:e.fields}}),o=Fu.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function $h(t,e){var n;if(e instanceof Wl)n={update:Hh(t,e.key,e.value)};else if(e instanceof th)n={delete:Fh(t,e.key)};else if(e instanceof Gl)n={update:Hh(t,e.key,e.data),updateMask:od(e.fieldMask)};else{if(!(e instanceof eh))return Wc();n={verify:Fh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof kl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Al)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Wc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ph(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Wc()}(t,e.precondition)),n}function Wh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Vl.updateTime(Nh(t.updateTime)):void 0!==t.exists?Vl.exists(t.exists):Vl.none()}(e.currentDocument):Vl.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Gc("REQUEST_TIME"===e.setToServerValue),n=new kl):"appendMissingElements"in e?n=new Al(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Rl(e.removeAllFromArray.values||[]):"increment"in e?n=new Pl(t,e.increment):Wc();var r=uu.fromServerFormat(e.fieldPath);return new Ll(r,n)}(t,e)}):[];if(e.update){var i=Vh(t,e.update.name),s=new Mu({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new lu((t.fieldPaths||[]).map(function(t){return uu.fromServerFormat(t)}))}(e.updateMask);return new Gl(i,s,o,n,r)}return new Wl(i,s,n,r)}if(e.delete){var a=Vh(t,e.delete);return new th(a,n)}if(e.verify){var c=Vh(t,e.verify);return new eh(c,n)}return Wc()}function Gh(t,e){return{documents:[Uh(t,e.path)]}}function Qh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Uh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Uh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Pu(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NAN"}};if(Du(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Pu(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NOT_NAN"}};if(Du(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(t.field),op:ed(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:nd(t.field),direction:td(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||vu(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Zh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Zh(e.endAt)),n}function Yh(t){var e=Bh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gc(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Xh(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new el(rd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return vu(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Jh(n.startAt));var l=null;return n.endAt&&(l=Jh(n.endAt)),ol(e,i,a,o,c,"F",u,l)}function Xh(t){return t?void 0!==t.unaryFilter?[sd(t)]:void 0!==t.fieldFilter?[id(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Xh(t)}).reduce(function(t,e){return t.concat(e)}):Wc():[]}function Zh(t){return{before:t.before,values:t.position}}function Jh(t){return new Ju(t.values||[],!!t.before)}function td(t){return kh[t]}function ed(t){return Ah[t]}function nd(t){return{fieldPath:t.canonicalString()}}function rd(t){return uu.fromServerFormat(t.fieldPath)}function id(t){return Hu.create(rd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Wc()}}(t.fieldFilter.op),t.fieldFilter.value)}function sd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=rd(t.unaryFilter.field);return Hu.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=rd(t.unaryFilter.field);return Hu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rd(t.unaryFilter.field);return Hu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rd(t.unaryFilter.field);return Hu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Wc()}}function od(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function ad(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function cd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ld(e)),e=ud(t.get(n),e);return ld(e)}function ud(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function ld(t){return t+"\x01\x01"}function hd(t){var e=t.length;if(Gc(e>=2),2===e)return Gc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),au.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Wc(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Wc()}s=o+2}return new au(r)}var dd=function(t,e){this.seconds=t,this.nanoseconds=e},fd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};fd.store="owner",fd.key="owner";var pd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};pd.store="mutationQueues",pd.keyPath="userId";var md=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};md.store="mutations",md.keyPath="batchId",md.userMutationsIndex="userMutationsIndex",md.userMutationsKeyPath=["userId","batchId"];var gd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,cd(e)]},t.key=function(t,e,n){return[t,cd(e),n]},t}();gd.store="documentMutations",gd.PLACEHOLDER=new gd;var yd=function(t,e){this.path=t,this.readTime=e},bd=function(t,e){this.path=t,this.version=e},vd=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};vd.store="remoteDocuments",vd.readTimeIndex="readTimeIndex",vd.readTimeIndexPath="readTime",vd.collectionReadTimeIndex="collectionReadTimeIndex",vd.collectionReadTimeIndexPath=["parentPath","readTime"];var _d=function(t){this.byteSize=t};_d.store="remoteDocumentGlobal",_d.key="remoteDocumentGlobalKey";var wd=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};wd.store="targets",wd.keyPath="targetId",wd.queryTargetsIndexName="queryTargetsIndex",wd.queryTargetsKeyPath=["canonicalId","targetId"];var Sd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Sd.store="targetDocuments",Sd.keyPath=["targetId","path"],Sd.documentTargetsIndex="documentTargetsIndex",Sd.documentTargetsKeyPath=["path","targetId"];var Ed=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ed.key="targetGlobalKey",Ed.store="targetGlobal";var Cd=function(t,e){this.collectionId=t,this.parent=e};Cd.store="collectionParents",Cd.keyPath=["collectionId","parent"];var Od=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Od.store="clientMetadata",Od.keyPath="clientId";var Td=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Td.store="bundles",Td.keyPath="bundleId";var Id=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Id.store="namedQueries",Id.keyPath="name";var xd=Object(Lc.f)(Object(Lc.f)([],Object(Lc.f)(Object(Lc.f)([],Object(Lc.f)(Object(Lc.f)([],Object(Lc.f)(Object(Lc.f)([],[pd.store,md.store,gd.store,vd.store,wd.store,fd.store,Ed.store,Sd.store]),[Od.store])),[_d.store])),[Cd.store])),[Td.store,Id.store]),kd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ad=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),jd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Rd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Wc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Dd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new jd,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Md(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Bd(e.target.error);n.ft.reject(new Md(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Md(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(zc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Fd(e)},t}(),Pd=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Di.i)())&&Hc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return zc("SimpleDb","Removing database:",t),Vd(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Di.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(zc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Md(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Uc(Vc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Md(t,n))},i.onupgradeneeded=function(t){zc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){zc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(Lc.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(Lc.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Dd.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Rd.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return zc("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Nd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Vd(this.Pt.delete())},t}(),Md=function(t){function e(e,n){var r=this;return(r=t.call(this,Vc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Lc.c)(e,t),e}(Uc);function Ld(t){return"IndexedDbTransactionError"===t.name}var Fd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(zc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(zc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Vd(n)},t.prototype.add=function(t){return zc("SimpleDb","ADD",this.store.name,t,t),Vd(this.store.add(t))},t.prototype.get=function(t){var e=this;return Vd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),zc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return zc("SimpleDb","DELETE",this.store.name,t),Vd(this.store.delete(t))},t.prototype.count=function(){return zc("SimpleDb","COUNT",this.store.name),Vd(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){zc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Rd(function(n,r){e.onerror=function(t){var e=Bd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Rd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Nd(i),o=e(i.primaryKey,i.value,s);if(o instanceof Rd){var a=o.catch(function(t){return s.done(),Rd.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Rd.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Vd(t){return new Rd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Bd(t.target.error);n(e)}})}var Ud=!1;function Bd(t){var e=Pd._t(Object(Di.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Uc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ud||(Ud=!0,setTimeout(function(){throw r},0)),r}}return t}var qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Lc.c)(e,t),e}(Ad);function zd(t,e){var n=Qc(t);return Pd.It(n.Mt,e)}var Hd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ql(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&zl(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&zl(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(nu.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},yh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Jc(this.mutations,t.mutations,function(t,e){return Kl(t,e)})&&Jc(this.baseMutations,t.baseMutations,function(t,e){return Kl(t,e)})},t}(),Kd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Gc(e.mutations.length===r.length);for(var i=mh(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),$d=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=nu.min()),void 0===s&&(s=nu.min()),void 0===o&&(o=hu.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Wd=function(t){this.Lt=t};function Gd(t,e){if(e.document)return Kh(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Su.fromSegments(e.noDocument.path),r=Jd(e.noDocument.readTime),i=Fu.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=Su.fromSegments(e.unknownDocument.path);return r=Jd(e.unknownDocument.version),Fu.newUnknownDocument(s,r)}return Wc()}function Qd(t,e,n){var r=Yd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Fh(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Rh(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new vd(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=Zd(e.version);return o=e.hasCommittedMutations,new vd(null,new yd(a,c),null,o,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=Zd(e.version);return new vd(new bd(u,l),null,null,!0,r,i)}return Wc()}function Yd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Xd(t){var e=new eu(t[0],t[1]);return nu.fromTimestamp(e)}function Zd(t){var e=t.toTimestamp();return new dd(e.seconds,e.nanoseconds)}function Jd(t){var e=new eu(t.seconds,t.nanoseconds);return nu.fromTimestamp(e)}function tf(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Wh(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Wh(t.Lt,e)}),s=eu.fromMillis(e.localWriteTimeMs);return new Hd(e.batchId,s,n,i)}function ef(t){var e,n,r=Jd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Jd(t.lastLimboFreeSnapshotVersion):nu.min();return void 0!==t.query.documents?(Gc(1===(n=t.query).documents.length),e=pl(al(Bh(n.documents[0])))):e=function(t){return pl(Yh(t))}(t.query),new $d(e,t.targetId,0,t.lastListenSequenceNumber,r,i,hu.fromBase64String(t.resumeToken))}function nf(t,e){var n,r=Zd(e.snapshotVersion),i=Zd(e.lastLimboFreeSnapshotVersion);n=zu(e.target)?Gh(t.Lt,e.target):Qh(t.Lt,e.target);var s=e.resumeToken.toBase64();return new wd(e.targetId,Bu(e.target),r,s,e.sequenceNumber,i,n)}function rf(t){var e=Yh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ml(e,e.limit,"L"):e}var sf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return of(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Jd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return of(t).put({bundleId:(n=e).id,createTime:Zd(Nh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return af(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:rf(e.bundledQuery),readTime:Jd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return af(t).put(function(t){return{name:t.name,readTime:Zd(Nh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function of(t){return zd(t,Td.store)}function af(t){return zd(t,Id.store)}var cf=function(){function t(){this.Bt=new uf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Rd.resolve()},t.prototype.getCollectionParents=function(t,e){return Rd.resolve(this.Bt.getEntries(e))},t}(),uf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ch(au.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ch(au.comparator)).toArray()},t}(),lf=function(){function t(){this.qt=new uf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:cd(i)};return hf(t).put(s)}return Rd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[tu(e),""],!1,!0);return hf(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(hd(s.parent))}return n})},t}();function hf(t){return zd(t,Cd.store)}var df={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ff=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function pf(t,e,n){var r=t.store(md.store),i=t.store(gd.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){Gc(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=gd.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return Rd.waitFor(s).next(function(){return u})}function mf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Wc();e=t.noDocument}return JSON.stringify(e).length}ff.DEFAULT_COLLECTION_PERCENTILE=10,ff.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ff.DEFAULT=new ff(41943040,ff.DEFAULT_COLLECTION_PERCENTILE,ff.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ff.DISABLED=new ff(-1,0,0);var gf=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Gc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bf(t).Ot({index:md.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=vf(t),o=bf(t);return o.add({}).next(function(a){Gc("number"==typeof a);for(var c=new Hd(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return $h(t.Lt,e)}),i=n.mutations.map(function(e){return $h(t.Lt,e)});return new md(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new ch(function(t,e){return Zc(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=gd.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(u)),l.push(s.put(m,gd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=c.keys()}),Rd.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return bf(t).get(e).next(function(t){return t?(Gc(t.userId===n.userId),tf(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Rd.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return bf(t).Ot({index:md.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Gc(e.batchId>=r),s=tf(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bf(t).Ot({index:md.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bf(t).Nt(md.userMutationsIndex,n).next(function(t){return t.map(function(t){return tf(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=gd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return vf(t).Ot({range:i},function(r,i,o){var a=r[0],c=r[2],u=hd(r[1]);if(a===n.userId&&e.path.isEqual(u))return bf(t).get(c).next(function(t){if(!t)throw Wc();Gc(t.userId===n.userId),s.push(tf(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ch(Zc),i=[];return e.forEach(function(e){var s=gd.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=vf(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],c=hd(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),Rd.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=gd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new ch(Zc);return vf(t).Ot({range:o},function(t,e,s){var o=t[0],c=t[2],u=hd(t[1]);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(bf(t).get(e).next(function(t){if(null===t)throw Wc();Gc(t.userId===n.userId),r.push(tf(n.R,t))}))}),Rd.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return pf(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Rd.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Rd.resolve();var r=IDBKeyRange.lowerBound(gd.prefixForUser(e.userId)),i=[];return vf(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=hd(t[1]);i.push(s)}else r.done()}).next(function(){Gc(0===i.length)})})},t.prototype.containsKey=function(t,e){return yf(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return _f(t).get(this.userId).next(function(t){return t||new pd(e.userId,-1,"")})},t}();function yf(t,e,n){var r=gd.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return vf(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function bf(t){return zd(t,md.store)}function vf(t){return zd(t,gd.store)}function _f(t){return zd(t,pd.store)}var wf=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Sf=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new wf(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return nu.fromTimestamp(new eu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Ef(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Gc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Ef(t).Ot(function(o,a){var c=ef(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.removeTargetData(t,c)))}).next(function(){return Rd.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Ef(t).Ot(function(t,n){var r=ef(n);e(r)})},t.prototype.Xt=function(t){return Cf(t).get(Ed.key).next(function(t){return Gc(null!==t),t})},t.prototype.Zt=function(t,e){return Cf(t).put(Ed.key,e)},t.prototype.te=function(t,e){return Ef(t).put(nf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Bu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ef(t).Ot({range:r,index:wd.queryTargetsIndexName},function(t,n,r){var s=ef(n);qu(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Of(t);return e.forEach(function(e){var o=cd(e.path);i.push(s.put(new Sd(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Rd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Of(t);return Rd.forEach(e,function(e){var s=cd(e.path);return Rd.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Of(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Of(t),i=yh();return r.Ot({range:n,kt:!0},function(t,e,n){var r=hd(t[1]),s=new Su(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=cd(e.path),r=IDBKeyRange.bound([n],[tu(n)],!1,!0),i=0;return Of(t).Ot({index:Sd.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Ef(t).get(e).next(function(t){return t?ef(t):null})},t}();function Ef(t){return zd(t,wd.store)}function Cf(t){return zd(t,Ed.store)}function Of(t){return zd(t,Sd.store)}function Tf(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){if(t.code!==Vc.FAILED_PRECONDITION||t.message!==kd)throw t;return zc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function If(t,e){var n=t[1],r=e[1],i=Zc(t[0],e[0]);return 0===i?Zc(n,r):i}var xf=function(){function t(t){this.ne=t,this.buffer=new ch(If),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();If(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),kf=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;zc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Lc.b)(e,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ld(e=n.sent())?(zc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Tf(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Af=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Rd.resolve(Fc.o);var r=new xf(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(zc("LruGarbageCollector","Garbage collection skipped; disabled"),Rd.resolve(df)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(zc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),df):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(zc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),qc()<=Pi.a.DEBUG&&zc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Rd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),jf=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Af(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Rf(t,n)},t.prototype.removeReference=function(t,e,n){return Rf(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Rf(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return _f(t).$t(function(r){return yf(t,r,e).next(function(t){return t&&(n=!0),Rd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Of(t).delete([0,cd(o.path)])})});i.push(c)}}).next(function(){return Rd.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Rf(t,e)},t.prototype.we=function(t,e){var n,r=Of(t),i=Fc.o;return r.Ot({index:Sd.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Fc.o&&e(new Su(hd(n)),i),i=o,n=s):i=Fc.o}).next(function(){i!==Fc.o&&e(new Su(hd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Rf(t,e){return Of(t).put(function(t,e){return new Sd(0,cd(t.path),e)}(e,t.currentSequenceNumber))}var Df=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){iu(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return su(this.inner)},t}(),Pf=function(){function t(){this.changes=new Df(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:nu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Fu.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Rd.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Nf=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Ff(t).put(Vf(e),n)},t.prototype.removeEntry=function(t,e){var n=Ff(t),r=Vf(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Ff(t).get(Vf(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Ff(t).get(Vf(e)).next(function(t){return{document:n.ye(e,t),size:mf(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=hh();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=hh(),i=new sh(Su.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,mf(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Rd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Ff(t).Ot({range:r},function(t,e,r){for(var o=Su.fromSegments(t);s&&Su.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=hh(),s=e.path.length+1,o={};if(n.isEqual(nu.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=Yd(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=vd.collectionReadTimeIndex}return Ff(t).Ot(o,function(t,n,o){if(t.length===s){var a=Gd(r.R,n);e.path.isPrefixOf(a.key.path)?vl(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Mf(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Lf(t).get(_d.key).next(function(t){return Gc(!!t),t})},t.prototype.me=function(t,e){return Lf(t).put(_d.key,e)},t.prototype.ye=function(t,e){if(e){var n=Gd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(nu.min()))return n}return Fu.newInvalidDocument(t)},t}(),Mf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Df(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Lc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ch(function(t,e){return Zc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=Qd(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var u=mf(c);r+=u-a,n.push(e.Ie.addEntry(t,s,c))}else if(r-=a,e.trackRemovals){var l=Qd(e.Ie.R,Fu.newNoDocument(s,nu.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Rd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Pf);function Lf(t){return zd(t,_d.store)}function Ff(t){return zd(t,vd.store)}function Vf(t){return t.path.toArray()}var Uf=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Gc(n<r&&n>=0&&r<=11);var s=new Dd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(fd.store)}(t),function(t){t.createObjectStore(pd.store,{keyPath:pd.keyPath}),t.createObjectStore(md.store,{keyPath:md.keyPath,autoIncrement:!0}).createIndex(md.userMutationsIndex,md.userMutationsKeyPath,{unique:!0}),t.createObjectStore(gd.store)}(t),Bf(t),function(t){t.createObjectStore(vd.store)}(t));var o=Rd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Sd.store),t.deleteObjectStore(wd.store),t.deleteObjectStore(Ed.store)}(t),Bf(t)),o=o.next(function(){return function(t){var e=t.store(Ed.store),n=new Ed(0,0,nu.min().toTimestamp(),0);return e.put(Ed.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(md.store).Nt().next(function(n){t.deleteObjectStore(md.store),t.createObjectStore(md.store,{keyPath:md.keyPath,autoIncrement:!0}).createIndex(md.userMutationsIndex,md.userMutationsKeyPath,{unique:!0});var r=e.store(md.store),i=n.map(function(t){return r.put(t)});return Rd.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Od.store,{keyPath:Od.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(_d.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(vd.store);e.createIndex(vd.readTimeIndex,vd.readTimeIndexPath,{unique:!1}),e.createIndex(vd.collectionReadTimeIndex,vd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Td.store,{keyPath:Td.keyPath})}(t),function(t){t.createObjectStore(Id.store,{keyPath:Id.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(vd.store).Ot(function(t,n){e+=mf(n)}).next(function(){var n=new _d(e);return t.store(_d.store).put(_d.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(pd.store),r=t.store(md.store);return n.Nt().next(function(n){return Rd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(md.userMutationsIndex,i).next(function(r){return Rd.forEach(r,function(r){Gc(r.userId===n.userId);var i=tf(e.R,r);return pf(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Sd.store),n=t.store(vd.store);return t.store(Ed.store).get(Ed.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new au(n),o=function(t){return[0,cd(t)]}(s);r.push(e.get(o).next(function(n){return n?Rd.resolve():function(n){return e.put(new Sd(0,cd(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Rd.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Cd.store,{keyPath:Cd.keyPath});var n=e.store(Cd.store),r=new uf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:cd(i)})}};return e.store(vd.store).Ot({kt:!0},function(t,e){var n=new au(t);return i(n.popLast())}).next(function(){return e.store(gd.store).Ot({kt:!0},function(t,e){var n=hd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(wd.store);return n.Ot(function(t,r){var i=ef(r),s=nf(e.R,i);return n.put(s)})},t}();function Bf(t){t.createObjectStore(Sd.store,{keyPath:Sd.keyPath}).createIndex(Sd.documentTargetsIndex,Sd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(wd.store,{keyPath:wd.keyPath}).createIndex(wd.queryTargetsIndexName,wd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ed.store)}var qf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zf=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Uc(Vc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jf(this,i),this.Le=n+"main",this.R=new Wd(c),this.Be=new Pd(this.Le,11,new Uf(this.R)),this.qe=new Sf(this.referenceDelegate,this.R),this.Ut=new lf,this.Ue=function(t,e){return new Nf(t,e)}(this.R,this.Ut),this.Qe=new sf,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Hc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Uc(Vc.FAILED_PRECONDITION,qf);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Fc(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Kf(e).put(new Od(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ld(e))return zc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return zc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Hf(t).get(fd.key).next(function(t){return Rd.resolve(e.tn(t))})},t.prototype.en=function(t){return Kf(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=zd(t,Od.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Rd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Rd.resolve(!0):Hf(t).get(fd.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Uc(Vc.FAILED_PRECONDITION,qf);return!1}}return!(!e.networkEnabled||!e.inForeground)||Kf(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&zc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t=this;return Object(Lc.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[fd.store,Od.store],function(e){var n=new qd(e,Fc.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Kf(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return gf.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return zc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",xd,function(s){return r=new qd(s,i.Ne?i.Ne.next():Fc.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Hc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Uc(Vc.FAILED_PRECONDITION,kd);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Hf(t).get(fd.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Uc(Vc.FAILED_PRECONDITION,qf)})},t.prototype.Ze=function(t){var e=new fd(this.clientId,this.allowTabSynchronization,Date.now());return Hf(t).put(fd.key,e)},t.yt=function(){return Pd.yt()},t.prototype.Xe=function(t){var e=this,n=Hf(t);return n.get(fd.key).next(function(t){return e.tn(t)?(zc("IndexedDbPersistence","Releasing primary lease."),n.delete(fd.key)):Rd.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Hc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return zc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Hc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Hc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Hf(t){return zd(t,fd.store)}function Kf(t){return zd(t,Od.store)}function $f(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Wf=function(t,e){this.progress=t,this.wn=e},Gf=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Su.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):dl(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Su(e)).next(function(t){var e=fh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=fh();return this.Ut.getCollectionParents(t,i).next(function(o){return Rd.forEach(o,function(o){var a=function(t,e){return new sl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u);null==l&&(l=Fu.newInvalidDocument(u),r=r.insert(u,l)),zl(c,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){vl(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=yh(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof Gl&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),Qf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=yh(),i=yh(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Yf=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(nu.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(cl(e)||ul(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(qc()<=Pi.a.DEBUG&&zc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bl(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new ch(_l(t));return e.forEach(function(e,r){vl(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return qc()<=Pi.a.DEBUG&&zc("QueryEngine","Using full collection scan to execute query:",bl(e)),this.Sn.getDocumentsMatchingQuery(t,e,nu.min())},t}(),Xf=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new sh(Zc),this.kn=new Df(function(t){return Bu(t)},qu),this.On=nu.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Gf(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Zf(t,e,n,r){return new Xf(t,e,n,r)}function Jf(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:return n=Qc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Gf(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=yh(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function tp(t,e){var n=Qc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Rd.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Gc(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function ep(t){var e=Qc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function np(t,e){var n=Qc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,u),function(t,e,n){return Gc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&o.push(n.qe.updateTargetData(t,u))}}});var a=hh();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(rp(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(nu.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(c)}return Rd.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function rp(t,e,n,r,i){var s=yh();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=hh();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(nu.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):zc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function ip(t,e){var n=Qc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function sp(t,e){var n=Qc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Rd.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new $d(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function op(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:r=Qc(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ld(o=a.sent()))throw o;return zc("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function ap(t,e,n){var r=Qc(t),i=nu.min(),s=yh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Qc(t),i=r.kn.get(n);return void 0!==i?Rd.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,pl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:nu.min(),n?s:yh())}).next(function(t){return{documents:t,Bn:s}})})}function cp(t,e){var n=Qc(t),r=Qc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function up(t){var e=Qc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Qc(t),i=hh(),s=Yd(n),o=Ff(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:vd.readTimeIndex,range:a},function(t,e){var n=Gd(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Xd(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function lp(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){return[2,(e=Qc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ff(t),n=nu.min();return e.Ot({index:vd.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Xd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function hp(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o,a,c,u,l,h,d,f;return Object(Lc.d)(this,function(p){switch(p.label){case 0:for(i=Qc(t),s=yh(),o=hh(),a=mh(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,sp(i,function(t){return pl(al(au.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return rp(t,d,o,nu.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function dp(t,e,n){return void 0===n&&(n=yh()),Object(Lc.b)(this,void 0,void 0,function(){var r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return[4,sp(t,pl(rf(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Qc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Nh(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(hu.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var fp=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Rd.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Nh(n.createTime)}),Rd.resolve()},t.prototype.getNamedQuery=function(t,e){return Rd.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:rf(t.bundledQuery),readTime:Nh(t.readTime)}}(e)),Rd.resolve()},t}(),pp=function(){function t(){this.Wn=new ch(mp.Gn),this.zn=new ch(mp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new mp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new mp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Su(new au([])),r=new mp(n,t),i=new mp(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Su(new au([])),n=new mp(e,t),r=new mp(e,t+1),i=yh();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new mp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),mp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Su.comparator(t.key,e.key)||Zc(t.ns,e.ns)},t.Hn=function(t,e){return Zc(t.ns,e.ns)||Su.comparator(t.key,e.key)},t}(),gp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ch(mp.Gn)}return t.prototype.checkEmpty=function(t){return Rd.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Hd(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new mp(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return Rd.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Rd.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Rd.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Rd.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Rd.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new mp(e,0),i=new mp(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Rd.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ch(Zc);return e.forEach(function(t){var e=new mp(t,0),i=new mp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Rd.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Su.isDocumentKey(i)||(i=i.child(""));var s=new mp(new Su(i),0),o=new ch(Zc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Rd.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Gc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Rd.forEach(e.mutations,function(i){var s=new mp(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new mp(e,0),r=this.rs.firstAfterOrEqual(n);return Rd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Rd.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),yp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new sh(Su.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Rd.resolve(n?n.document.clone():Fu.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=hh();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Fu.newInvalidDocument(t))}),Rd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=hh(),i=new Su(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;u.compareTo(n)<=0||vl(e,c)&&(r=r.insert(c.key,c.clone()))}return Rd.resolve(r)},t.prototype.fs=function(t,e){return Rd.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new bp(this)},t.prototype.getSize=function(t){return Rd.resolve(this.size)},t}(),bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Lc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Rd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Pf),vp=function(){function t(t){this.persistence=t,this.ds=new Df(function(t){return Bu(t)},qu),this.lastRemoteSnapshotVersion=nu.min(),this.highestTargetId=0,this.ws=0,this._s=new pp,this.targetCount=0,this.ys=wf.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Rd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Rd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Rd.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Rd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Rd.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new wf(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Rd.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Rd.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Rd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Rd.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Rd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Rd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Rd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Rd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Rd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Rd.resolve(n)},t.prototype.containsKey=function(t,e){return Rd.resolve(this._s.containsKey(e))},t}(),_p=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Fc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new vp(this),this.Ut=new cf,this.Ue=function(t,e){return new yp(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Wd(e),this.Qe=new fp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new gp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;zc("MemoryPersistence","Starting transaction:",t);var i=new wp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Rd.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),wp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Lc.c)(e,t),e}(Ad),Sp=function(){function t(t){this.persistence=t,this.As=new pp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Wc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Rd.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Rd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Rd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rd.forEach(this.vs,function(r){var i=Su.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Rd.or([function(){return Rd.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Ep=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Cp(t,e){return"firestore_clients_"+t+"_"+e}function Op(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Tp(t,e){return"firestore_targets_"+t+"_"+e}Ep.UNAUTHENTICATED=new Ep(null),Ep.GOOGLE_CREDENTIALS=new Ep("google-credentials-uid"),Ep.FIRST_PARTY=new Ep("first-party-uid");var Ip=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Uc(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Hc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Uc(i.error.code,i.error.message)),s?new t(e,i.state,r):(Hc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),kp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=vh(),o=0;i&&o<r.activeTargetIds.length;++o)i=wu(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Hc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ap=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Hc("SharedClientState","Failed to parse online state: "+e),null)},t}(),jp=function(){function t(){this.activeTargetIds=vh()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Rp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new sh(Zc),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Cp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new jp),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(Lc.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Cp(this.persistenceKey,r)))&&(s=kp.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,u=this.Os;c<u.length;c++)this.Fs(u[c]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Tp(this.persistenceKey,t));if(n){var r=xp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Tp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return zc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){zc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){zc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(zc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Hc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Lc.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Lc.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Fc.o;if(null!=t)try{var n=JSON.parse(t);Gc("number"==typeof n),e=n}catch(t){Hc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Fc.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Ip(this.currentUser,t,e,n),i=Op(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Op(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Tp(this.persistenceKey,t),i=new xp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return kp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Ip.Vs(new Ep(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return xp.Vs(r,e)},t.prototype.js=function(t){return Ap.Vs(t)},t.prototype.ii=function(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(zc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=vh();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Dp=function(){function t(){this.li=new jp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new jp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Pp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Np=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){zc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){zc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Mp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Fp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Lc.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Mc;o.listenOnce(Dc.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Rc.NO_ERROR:var e=o.getResponseJson();zc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Rc.TIMEOUT:zc("Connection",'RPC "'+t+'" timed out'),s(new Uc(Vc.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:var n=o.getStatus();if(zc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Vc).indexOf(e)>=0?e:Vc.UNKNOWN}(r.status);s(new Uc(a,r.message))}else s(new Uc(Vc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Uc(Vc.UNAVAILABLE,"Connection failed."));break;default:Wc()}}finally{zc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ic,i=Ao(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(Di.n)()||Object(Di.p)()||Object(Di.l)()||Object(Di.m)()||Object(Di.q)()||Object(Di.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");zc("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new Lp({Ei:function(t){u?zc("Connection","Not sending because WebChannel is closed:",t):(c||(zc("Connection","Opening WebChannel transport."),a.open(),c=!0),zc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Nc.EventType.OPEN,function(){u||zc("Connection","WebChannel transport opened.")}),h(a,Nc.EventType.CLOSE,function(){u||(u=!0,zc("Connection","WebChannel transport closed"),l.Vi())}),h(a,Nc.EventType.ERROR,function(t){u||(u=!0,Kc("Connection","WebChannel transport errored:",t),l.Vi(new Uc(Vc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Nc.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];Gc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){zc("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Zl[t];if(void 0!==e)return ih(e)}(i),o=r.message;void 0===s&&(s=Vc.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new Uc(s,o)),a.close()}else zc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Pc.STAT_EVENT,function(t){10===t.stat?zc("Connection","Detected buffering proxy"):11===t.stat&&zc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);zc("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return zc("RestConnection","Received: ",t),t},function(e){throw Kc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Mp[t]},t}());function Vp(){return"undefined"!=typeof window?window:null}function Up(){return"undefined"!=typeof document?document:null}function Bp(t){return new jh(t,!0)}var qp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&zc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),zp=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new qp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Vc.RESOURCE_EXHAUSTED?(Hc(e.toString()),Hc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Vc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Uc(Vc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Lc.b)(t,void 0,void 0,function(){return Object(Lc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return zc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(zc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Hp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Lc.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Wc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Gc(void 0===e||"string"==typeof e),hu.fromBase64String(e||"")):(Gc(void 0===e||e instanceof Uint8Array),hu.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Vc.UNKNOWN:ih(t.code);return new Uc(e,t.message||"")}(a);n=new Ch(r,i,s,o||null)}else if("documentChange"in e){i=Vh(t,(r=e.documentChange).document.name),s=Nh(r.document.updateTime);var a=new Mu({mapValue:{fields:r.document.fields}}),c=(o=Fu.newFoundDocument(i,s,a),r.targetIds||[]);n=new Sh(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Vh(t,(r=e.documentDelete).document),s=r.readTime?Nh(r.readTime):nu.min(),a=Fu.newNoDocument(i,s),n=new Sh([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Vh(t,(r=e.documentRemove).document),n=new Sh([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Wc();var u=e.filter;i=new nh(r=u.count||0),n=new Eh(s=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return nu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?nu.min():e.readTime?Nh(e.readTime):nu.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=qh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=zu(r)?{documents:Gh(t,r)}:{query:Qh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Dh(t,e.resumeToken):e.snapshotVersion.compareTo(nu.min())>0&&(n.readTime=Rh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=qh(this.R),e.removeTarget=t,this.cr(e)},e}(zp),Kp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Gc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Gc(void 0!==e),t.map(function(t){return function(t,e){var n=Nh(t.updateTime?t.updateTime:e);return n.isEqual(nu.min())&&(n=Nh(e)),new Fl(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Nh(t.commitTime);return this.listener.Tr(n,e)}return Gc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=qh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return $h(e.R,t)})};this.cr(n)},e}(zp),$p=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Lc.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Uc(Vc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Vc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Uc(Vc.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Vc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Uc(Vc.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Wp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Hc(e),this.Vr=!1):zc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Gp=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Lc.b)(s,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return rm(this)?(zc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return(e=Qc(t)).$r.add(4),[4,Yp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Qp(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Wp(n,r)};function Qp(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:if(!rm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Yp(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Xp(t,e){var n=Qc(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),nm(n)?em(n):bm(n).er()&&Jp(n,e))}function Zp(t,e){var n=Qc(t),r=bm(n);n.Or.delete(e),r.er()&&tm(n,e),0===n.Or.size&&(r.er()?r.ir():rm(n)&&n.Br.set("Unknown"))}function Jp(t,e){t.qr.U(e.targetId),bm(t).mr(e)}function tm(t,e){t.qr.U(e),bm(t).yr(e)}function em(t){t.qr=new Th({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),bm(t).start(),t.Br.Sr()}function nm(t){return rm(t)&&!bm(t).tr()&&t.Or.size>0}function rm(t){return 0===Qc(t).$r.size}function im(t){t.qr=void 0}function sm(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){return t.Or.forEach(function(e,n){Jp(t,e)}),[2]})})}function om(t,e){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(n){return im(t),nm(t)?(t.Br.Nr(e),em(t)):t.Br.set("Unknown"),[2]})})}function am(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Ch&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),zc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,cm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Sh?t.qr.X(e):e instanceof Eh?t.qr.rt(e):t.qr.et(e),n.isEqual(nu.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,ep(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(hu.EMPTY_BYTE_STRING,n.snapshotVersion)),tm(t,e);var r=new $d(n.target,e,1,n.sequenceNumber);Jp(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return zc("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,cm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function cm(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r=this;return Object(Lc.d)(this,function(i){switch(i.label){case 0:if(!Ld(e))throw e;return t.$r.add(1),[4,Yp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return ep(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Lc.b)(r,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return zc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Qp(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function um(t,e){return e().catch(function(n){return cm(t,n,e)})}function lm(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:e=Qc(t),n=vm(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return rm(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,ip(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=vm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,cm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return hm(e)&&dm(e),[2]}})})}function hm(t){return rm(t)&&!vm(t).tr()&&t.kr.length>0}function dm(t){vm(t).start()}function fm(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){return vm(t).Ar(),[2]})})}function pm(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n,r;return Object(Lc.d)(this,function(i){for(e=vm(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function mm(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=Kd.from(r,e,n),[4,um(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,lm(t)];case 2:return s.sent(),[2]}})})}function gm(t,e){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e&&vm(t).pr?[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return rh(r=e.code)&&r!==Vc.ABORTED?(n=t.kr.shift(),vm(t).sr(),[4,um(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,lm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return hm(t)&&dm(t),[2]}})})}function ym(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return n=Qc(t),e?(n.$r.delete(2),[4,Qp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Yp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function bm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Qc(t);return r.br(),new Hp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:sm.bind(null,t),Ri:om.bind(null,t),_r:am.bind(null,t)}),t.Mr.push(function(n){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),nm(t)?em(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),im(t),e.label=3;case 3:return[2]}})})})),t.Ur}function vm(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Qc(t);return r.br(),new Kp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:fm.bind(null,t),Ri:gm.bind(null,t),Ir:pm.bind(null,t),Tr:mm.bind(null,t)}),t.Mr.push(function(n){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,lm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(zc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var _m=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new jd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uc(Vc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function wm(t,e){if(Hc("AsyncQueue",e+": "+t),Ld(t))return new Uc(Vc.UNAVAILABLE,e+": "+t);throw t}var Sm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Su.comparator(e.key,n.key)}:function(t,e){return Su.comparator(t.key,e.key)},this.keyedMap=fh(),this.sortedSet=new sh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Em=function(){function t(){this.Kr=new sh(Su.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Wc():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Cm=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Sm.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Om=function(){this.Wr=void 0,this.listeners=[]},Tm=function(){this.queries=new Df(function(t){return yl(t)},gl),this.onlineState="Unknown",this.Gr=new Set};function Im(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Lc.d)(this,function(u){switch(u.label){case 0:if(n=Qc(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Om),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=wm(a,"Initialization of query '"+bl(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&jm(n),[2]}})})}function xm(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Lc.d)(this,function(a){return n=Qc(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function km(t,e){for(var n=Qc(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(o)&&(r=!0);a.Wr=o}}r&&jm(n)}function Am(t,e,n){var r=Qc(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function jm(t){t.Gr.forEach(function(t){t.next()})}var Rm=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Cm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Cm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Dm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Pm=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Vh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Kh(this.R,t.document,!1):Fu.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Nh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Pm(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||yh()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return[4,hp(this.localStore,new Pm(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,dp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Wf(Object.assign({},this.progress),t))]}})})}}();var Nm=function(t){this.key=t},Mm=function(t){this.key=t},Lm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=yh(),this.mutatedKeys=yh(),this.lo=_l(t),this.fo=new Sm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Em,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=cl(this.query)&&i.size===this.query.limit?i.last():null,u=ul(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=vl(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),cl(this.query)||ul(this.query))for(;o.size>this.query.limit;){var l=cl(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new Cm(this.query,t.fo,i,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Em,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=yh(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Mm(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Nm(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=yh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Cm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Fm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Vm=function(t){this.key=t,this.bo=!1},Um=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Df(function(t){return yl(t)},gl),this.Vo=new Map,this.So=new Set,this.Do=new sh(Su.comparator),this.Co=new Map,this.No=new pp,this.xo={},this.Fo=new Map,this.ko=wf.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Bm(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:return n=gg(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,sp(n.localStore,pl(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,qm(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&Xp(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function qm(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o,a,c,u;return Object(Lc.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,ap(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(eg(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,ap(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Lm(e,i.Bn),o=s._o(i.documents),a=wh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),eg(t,n,c.To),u=new Fm(e,n,s),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function zm(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return n=Qc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!gl(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,op(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Zp(n.remoteStore,r.targetId),Jm(n,r.targetId)}).catch(Tf)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Jm(n,r.targetId),[4,op(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Hm(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:r=yg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Qc(t),i=eu.now(),s=e.reduce(function(t,e){return t.add(e.key)},yh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=Hl(u,n.get(u.key));null!=l&&o.push(new Gl(u.key,l,Lu(l.toProto().mapValue),Vl.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new sh(Zc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,ig(r,i.changes)];case 3:return a.sent(),[4,lm(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=wm(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Km(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:n=Qc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,np(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Gc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Gc(r.bo):t.removedDocuments.size>0&&(Gc(r.bo),r.bo=!1))}),[4,ig(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Tf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function $m(t,e,n){var r=Qc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Qc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&jm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Wm(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(Lc.d)(this,function(u){switch(u.label){case 0:return(r=Qc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new sh(Su.comparator)).insert(s,Fu.newNoDocument(s,nu.min())),a=yh().add(s),c=new _h(nu.min(),new Map,new ch(Zc),o,a),[4,Km(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),rg(r),[3,4];case 2:return[4,op(r.localStore,e,!1).then(function(){return Jm(r,e,n)}).catch(Tf)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function Gm(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:n=Qc(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,tp(n.localStore,e)];case 2:return i=s.sent(),Zm(n,r,null),Xm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ig(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Tf(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Qm(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:r=Qc(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Qc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Gc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Zm(r,e,n),Xm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ig(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Tf(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ym(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:rm((n=Qc(t)).remoteStore)||zc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Qc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=wm(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Xm(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Zm(t,e,n){var r=Qc(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Jm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||tg(t,e)})}function tg(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Zp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),rg(t))}function eg(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Nm?(t.No.addReference(s.key,e),ng(t,s)):s instanceof Mm?(zc("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||tg(t,s.key)):Wc()}}function ng(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(zc("SyncEngine","New document in limbo: "+n),t.So.add(r),rg(t))}function rg(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Su(au.fromString(e)),r=t.ko.next();t.Co.set(r,new Vm(n)),t.Do=t.Do.insert(n,r),Xp(t.remoteStore,new $d(pl(al(n.path)),r,2,Fc.o))}}function ig(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:return r=Qc(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Qf.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return Object(Lc.d)(this,function(l){switch(l.label){case 0:n=Qc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Rd.forEach(e,function(e){return Rd.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Rd.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ld(r=l.sent()))throw r;return zc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function sg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return(n=Qc(t)).currentUser.isEqual(e)?[3,3]:(zc("SyncEngine","User change. New user:",e.toKey()),[4,Jf(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Uc(Vc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ig(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function og(t,e){var n=Qc(t),r=n.Co.get(e);if(r&&r.bo)return yh().add(r.key);var i=yh(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);i=i.unionWith(c.view.wo)}return i}function ag(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return[4,ap((n=Qc(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&eg(n,e.targetId,i.To),i)]}})})}function cg(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){return[2,up((e=Qc(t)).localStore).then(function(t){return ig(e,t)})]})})}function ug(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Qc(t),r=Qc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Rd.resolve(null)})})}((i=Qc(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,lm(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Zm(i,e,r||null),Xm(i,e),function(t,e){Qc(Qc(t)._n).Gt(e)}(i.localStore,e)):Wc(),o.label=4;case 4:return[4,ig(i,s)];case 5:return o.sent(),[3,7];case 6:zc("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function lg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Lc.d)(this,function(u){switch(u.label){case 0:return gg(n=Qc(t)),yg(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,hg(n,r.toArray())]);case 1:return i=u.sent(),n.Oo=!0,[4,ym(n.remoteStore,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)Xp(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return Jm(n,e),op(n.localStore,e,!0)}),Zp(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,hg(n,a)];case 5:return u.sent(),function(t){var e=Qc(t);e.Co.forEach(function(t,n){Zp(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new sh(Su.comparator)}(n),n.Oo=!1,[4,ym(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function hg(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(Lc.d)(this,function(m){switch(m.label){case 0:n=Qc(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Vo.get(a=o[s]))&&0!==u.length?[4,sp(n.localStore,pl(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,ag(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,cp(n.localStore,a)];case 8:return p=m.sent(),[4,sp(n.localStore,p)];case 9:return c=m.sent(),[4,qm(n,dg(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function dg(t){return ol(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function fg(t){var e=Qc(t);return Qc(Qc(e.localStore).persistence).fn()}function pg(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:return(i=Qc(t)).Oo?(zc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,up(i.localStore)];case 3:return s=a.sent(),o=_h.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,ig(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,op(i.localStore,e,!0)];case 6:return a.sent(),Jm(i,e,r),[3,8];case 7:Wc(),a.label=8;case 8:return[2]}})})}function mg(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,u,l,h;return Object(Lc.d)(this,function(d){switch(d.label){case 0:if(!(r=gg(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(zc("SyncEngine","Adding an already active target "+o),[3,5]):[4,cp(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,sp(r.localStore,a)];case 3:return c=d.sent(),[4,qm(r,dg(a),c.targetId,!1)];case 4:d.sent(),Xp(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,op(r.localStore,t,!1).then(function(){Zp(r.remoteStore,t),Jm(r,t)}).catch(Tf)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function gg(t){var e=Qc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Km.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=og.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wm.bind(null,e),e.vo._r=km.bind(null,e.eventManager),e.vo.Mo=Am.bind(null,e.eventManager),e}function yg(t){var e=Qc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qm.bind(null,e),e}var bg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return this.R=Bp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Zf(this.persistence,new Yf,t.initialUser,this.R)},t.prototype.qo=function(t){return new _p(Sp.bs,this.R)},t.prototype.Bo=function(t){return new Dp},t.prototype.terminate=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Lc.c)(e,t),e.prototype.initialize=function(e){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,lp(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,yg(this.Ko.syncEngine)];case 4:return n.sent(),[4,lm(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Zf(this.persistence,new Yf,t.initialUser,this.R)},e.prototype.Uo=function(t){return new kf(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=$f(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ff.withCacheSize(this.cacheSizeBytes):ff.DEFAULT;return new zf(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Vp(),Up(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Dp},e}(bg),_g=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Lc.c)(e,t),e.prototype.initialize=function(e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r=this;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Rp?(this.sharedClientState.syncEngine={ui:ug.bind(null,n),ai:pg.bind(null,n),hi:mg.bind(null,n),fn:fg.bind(null,n),ci:cg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Lc.b)(r,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return[4,lg(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Vp();if(!Rp.yt(e))throw new Uc(Vc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$f(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Rp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(vg),wg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n=this;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return $m(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sg.bind(null,this.syncEngine),[4,ym(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Tm},t.prototype.createDatastore=function(t){var e=Bp(t.databaseInfo.databaseId),n=new Fp(t.databaseInfo);return function(t,e,n){return new $p(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return $m(o.syncEngine,t,0)},s=Np.yt()?new Np:new Pp,new Gp(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Um(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=Qc(t),zc("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Yp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Sg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Eg=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new jd,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Dm(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Lc.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Uc(Vc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Lc.d)(this,function(c){switch(c.label){case 0:return n=Qc(t),r=qh(n.R)+"/documents",i={documents:e.map(function(t){return Fh(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Gc(!!e.found);var n=Vh(t,e.found.name),r=Nh(e.found.updateTime),i=new Mu({mapValue:{fields:e.found.fields}});return Fu.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Gc(!!e.missing),Gc(!!e.readTime);var n=Vh(t,e.missing),r=Nh(e.readTime);return Fu.newNoDocument(n,r)}(t,e):Wc()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Gc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new th(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Lc.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Su.fromPath(n);e.mutations.push(new eh(r,e.precondition(r)))}),[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return n=Qc(t),r=qh(n.R)+"/documents",i={writes:e.map(function(t){return $h(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Wc();e=nu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Uc(Vc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Vl.updateTime(e):Vl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(nu.min()))throw new Uc(Vc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vl.updateTime(e)}return Vl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Cg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new qp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Lc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Lc.d)(this,function(r){return t=new Eg(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!vu(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!rh(e)}return!1},t}(),Og=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Ep.UNAUTHENTICATED,this.clientId=Xc.u(),this.credentialListener=function(){},this.receivedInitialUser=new jd,this.credentials.setChangeListener(function(t){zc("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Uc(Vc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new jd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Lc.b)(t,void 0,void 0,function(){var t,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=wm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Tg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),zc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Lc.b)(i,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return[4,Jf(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ig(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,xg(t)];case 1:return n=i.sent(),zc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return(n=Qc(t)).asyncQueue.verifyOperationInProgress(),zc("RemoteStore","RemoteStore received new credentials"),r=rm(n),n.$r.add(3),[4,Yp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Qp(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function xg(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(zc("FirestoreClient","Using default OfflineComponentProvider"),[4,Tg(t,new bg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function kg(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(zc("FirestoreClient","Using default OnlineComponentProvider"),[4,Ig(t,new wg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Ag(t){return xg(t).then(function(t){return t.persistence})}function jg(t){return xg(t).then(function(t){return t.localStore})}function Rg(t){return kg(t).then(function(t){return t.remoteStore})}function Dg(t){return kg(t).then(function(t){return t.syncEngine})}function Pg(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return[4,kg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Bm.bind(null,e.syncEngine),n.onUnlisten=zm.bind(null,e.syncEngine),n)]}})})}function Ng(t,e,n){var r=this;void 0===n&&(n={});var i=new jd;return t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(r,void 0,void 0,function(){var r;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Sg({next:function(s){e.enqueueAndForget(function(){return xm(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Uc(Vc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Uc(Vc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Rm(al(n.path),s,{includeMetadataChanges:!0,so:!0});return Im(t,o)},[4,Pg(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Mg(t,e,n){var r=this;void 0===n&&(n={});var i=new jd;return t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(r,void 0,void 0,function(){var r;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Sg({next:function(n){e.enqueueAndForget(function(){return xm(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Uc(Vc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Rm(n,s,{includeMetadataChanges:!0,so:!0});return Im(t,o)},[4,Pg(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Lg=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},Fg=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Vg=new Map,Ug=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Bg=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Ep.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),qg=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),zg=function(){function t(t){var e=this;this.oc=null,this.currentUser=Ep.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(zc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Gc("string"==typeof n.accessToken),new Ug(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Gc(null===t||"string"==typeof t),new Ep(t)},t}(),Hg=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=Ep.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Kg=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Hg(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(Ep.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function $g(t,e,n){if(!n)throw new Uc(Vc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Wg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Gg(t,e,n,r){if(!0===e&&!0===r)throw new Uc(Vc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Qg(t){if(!Su.isDocumentKey(t))throw new Uc(Vc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Yg(t){if(Su.isDocumentKey(t))throw new Uc(Vc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Xg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Wc()}function Zg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Uc(Vc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Xg(t);throw new Uc(Vc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Jg(t,e){if(e<=0)throw new Uc(Vc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ty=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Uc(Vc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Uc(Vc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Gg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ey=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ty({}),this._settingsFrozen=!1,t instanceof Fg?(this._databaseId=t,this._credentials=new Bg):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Uc(Vc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fg(t.options.projectId)}(t),this._credentials=new zg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Uc(Vc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Uc(Vc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ty(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Bg;switch(t.type){case"gapi":var e=t.client;return Gc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Kg(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Uc(Vc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Vg.get(this))&&(zc("ComponentProvider","Removing Datastore"),Vg.delete(this),t.terminate()),Promise.resolve();var t},t}(),ny=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new iy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ry=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,al(r))||this)._path=r,i.type="collection",i}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new ny(this.firestore,null,new Su(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ry);function sy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Di.h)(t),$g("collection","path",e),t instanceof ey)return Yg(n=au.fromString.apply(au,Object(Lc.f)([e],r))),new iy(t,null,n);if(!(t instanceof ny||t instanceof iy))throw new Uc(Vc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yg(n=au.fromString.apply(au,Object(Lc.f)([t.path],r)).child(au.fromString(e))),new iy(t.firestore,null,n)}function oy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Di.h)(t),1===arguments.length&&(e=Xc.u()),$g("doc","path",e),t instanceof ey)return Qg(n=au.fromString.apply(au,Object(Lc.f)([e],r))),new ny(t,null,new Su(n));if(!(t instanceof ny||t instanceof iy))throw new Uc(Vc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Qg(n=t._path.child(au.fromString.apply(au,Object(Lc.f)([e],r)))),new ny(t.firestore,t instanceof iy?t.converter:null,new Su(n))}function ay(t,e){return t=Object(Di.h)(t),e=Object(Di.h)(e),(t instanceof ny||t instanceof iy)&&(e instanceof ny||e instanceof iy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function cy(t,e){return t=Object(Di.h)(t),e=Object(Di.h)(e),t instanceof ry&&e instanceof ry&&t.firestore===e.firestore&&gl(t._query,e._query)&&t.converter===e.converter}var uy=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new qp(this,"async_queue_retry"),this.Ec=function(){var e=Up();e&&zc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Lc.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ld(t=n.sent()))throw t;return zc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Hc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=_m.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Wc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t;return Object(Lc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function ly(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new jd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var hy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new uy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Lc.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||fy(this),this._firestoreClient.terminate()},e}(ey);function dy(t){return t._firestoreClient||fy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fy(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Lg(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Og(t._credentials,t._queue,r)}function py(t,e,n){var r=this,i=new jd;return t.asyncQueue.enqueue(function(){return Object(Lc.b)(r,void 0,void 0,function(){var r;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Tg(t,n)];case 1:return s.sent(),[4,Ig(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Vc.FAILED_PRECONDITION||t.code===Vc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function my(t){if(t._initialized||t._terminated)throw new Uc(Vc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new uu(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),yy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(hu.fromBase64String(e))}catch(e){throw new Uc(Vc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(hu.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),by=function(t){this._methodName=t},vy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Uc(Vc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Uc(Vc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Zc(this._lat,t._lat)||Zc(this._long,t._long)},t}(),_y=/^__.*__$/,wy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Gl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Wl(t,this.data,e,this.fieldTransforms)},t}(),Sy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Gl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Ey(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wc()}}var Cy=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Hy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Ey(this.Dc)&&_y.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),Oy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Bp(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Cy({Dc:t,methodName:e,Lc:n,path:uu.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Ty(t){var e=t._freezeSettings(),n=Bp(t._databaseId);return new Oy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Iy(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);Uy("Data must be an object, but it was:",o,r);var a,c,u=Fy(r,o);if(s.merge)a=new lu(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=By(e,d[h],n);if(!o.contains(f))throw new Uc(Vc.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Ky(l,f)||l.push(f)}a=new lu(l),c=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=o.fieldTransforms;return new wy(new Mu(u),a,c)}var xy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(by);function ky(t,e,n){return new Cy({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ay=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype._toFieldTransform=function(t){return new Ll(t.path,new kl)},e.prototype.isEqual=function(t){return t instanceof e},e}(by),jy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Lc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=ky(this,t,!0),n=this.qc.map(function(t){return Ly(t,e)}),r=new Al(n);return new Ll(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(by),Ry=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Lc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=ky(this,t,!0),n=this.qc.map(function(t){return Ly(t,e)}),r=new Rl(n);return new Ll(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(by),Dy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Lc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Pl(t.R,Cl(t.R,this.Uc));return new Ll(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(by);function Py(t,e,n,r){var i=t.Bc(1,e,n);Uy("Data must be an object, but it was:",i,r);var s=[],o=Mu.empty();iu(r,function(t,r){var a=zy(e,t,n);r=Object(Di.h)(r);var c=i.kc(a);if(r instanceof xy)s.push(a);else{var u=Ly(r,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new lu(s);return new Sy(o,a,i.fieldTransforms)}function Ny(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[By(e,r,n)],c=[i];if(s.length%2!=0)throw new Uc(Vc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(By(e,s[u])),c.push(s[u+1]);for(var l=[],h=Mu.empty(),d=a.length-1;d>=0;--d)if(!Ky(l,a[d])){var f=a[d],p=c[d];p=Object(Di.h)(p);var m=o.kc(f);if(p instanceof xy)l.push(f);else{var g=Ly(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new lu(l);return new Sy(h,y,o.fieldTransforms)}function My(t,e,n,r){return void 0===r&&(r=!1),Ly(n,t.Bc(r?4:3,e))}function Ly(t,e){if(Vy(t=Object(Di.h)(t)))return Uy("Unsupported field value:",e,t),Fy(t,e);if(t instanceof by)return function(t,e){if(!Ey(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Ly(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Di.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Cl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=eu.fromDate(t);return{timestampValue:Rh(e.R,n)}}if(t instanceof eu)return n=new eu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Rh(e.R,n)};if(t instanceof vy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yy)return{bytesValue:Dh(e.R,t._byteString)};if(t instanceof ny){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Mh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Xg(t))}(t,e)}function Fy(t,e){var n={};return su(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):iu(t,function(t,r){var i=Ly(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Vy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof eu||t instanceof vy||t instanceof yy||t instanceof ny||t instanceof by)}function Uy(t,e,n){if(!Vy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Xg(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function By(t,e,n){if((e=Object(Di.h)(e))instanceof gy)return e._internalPath;if("string"==typeof e)return zy(t,e);throw Hy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var qy=new RegExp("[~\\*/\\[\\]]");function zy(t,e,n){if(e.search(qy)>=0)throw Hy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(gy.bind.apply(gy,Object(Lc.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Hy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Hy(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Uc(Vc.INVALID_ARGUMENT,(a+=". ")+t+c)}function Ky(t,e){return t.some(function(t){return t.isEqual(e)})}var $y=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ny(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Wy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Gy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Wy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}($y);function Gy(t,e){return"string"==typeof e?zy(t,e):e instanceof gy?e._internalPath:e._delegate._internalPath}var Qy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Yy=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Lc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Xy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Gy("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}($y),Xy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Yy),Zy=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Qy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Xy(n._firestore,n._userDataWriter,r.key,r,new Qy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Uc(Vc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Xy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Qy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Xy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Qy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Jy(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Jy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wc()}}function tb(t,e){return t instanceof Yy&&e instanceof Yy?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Zy&&e instanceof Zy&&t._firestore===e._firestore&&cy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function eb(t){if(ul(t)&&0===t.explicitOrderBy.length)throw new Uc(Vc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nb=function(){};function rb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var ib=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(Lc.c)(e,t),e.prototype._apply=function(t){var e=Ty(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){hb(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(lb(r,t,l[u]));a={arrayValue:{values:c}}}else a=lb(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||hb(o,s),a=My(n,"where",o,"in"===s||"not-in"===s);var h=Hu.create(i,s,a);return function(t,e){if(e.g()){var n=hl(t);if(null!==n&&!n.isEqual(e.field))throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ll(t);null!==r&&db(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Uc(Vc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new ry(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(nb),sb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(Lc.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new el(e,n);return function(t,e){if(null===ll(t)){var n=hl(t);null!==n&&db(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new ry(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new sl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(nb),ob=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(Lc.c)(e,t),e.prototype._apply=function(t){return new ry(t.firestore,t.converter,ml(t._query,this.Gc,this.zc))},e}(nb),ab=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Lc.c)(e,t),e.prototype._apply=function(t){var e=ub(t,this.type,this.Hc,this.Jc);return new ry(t.firestore,t.converter,function(t,e){return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(nb),cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Lc.c)(e,t),e.prototype._apply=function(t){var e=ub(t,this.type,this.Hc,this.Jc);return new ry(t.firestore,t.converter,function(t,e){return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(nb);function ub(t,e,n,r){if(n[0]=Object(Di.h)(n[0]),n[0]instanceof $y)return function(t,e,n,r,i){if(!r)throw new Uc(Vc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=fl(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(Au(e,r.key));else{var u=r.data.field(c.field);if(gu(u))throw new Uc(Vc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new Ju(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ty(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Uc(Vc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.isKeyField()){if("string"!=typeof u)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!dl(t)&&-1!==u.indexOf("/"))throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(au.fromString(u));if(!Su.isDocumentKey(l))throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Su(l);a.push(Au(e,h))}else{var d=My(n,r,u);a.push(d)}}return new Ju(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function lb(t,e,n){if("string"==typeof(n=Object(Di.h)(n))){if(""===n)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dl(e)&&-1!==n.indexOf("/"))throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(au.fromString(n));if(!Su.isDocumentKey(r))throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Au(t,new Su(r))}if(n instanceof ny)return Au(t,n._key);throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xg(n)+".")}function hb(t,e){if(!Array.isArray(t)||0===t.length)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function db(t,e,n){if(!n.isEqual(e))throw new Uc(Vc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var fb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Eu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pu(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Wc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return iu(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new vy(pu(t.latitude),pu(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=yu(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(bu(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=fu(t);return new eu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=au.fromString(t);Gc(ad(n));var r=new Fg(n.get(1),n.get(3)),i=new Su(n.popFirst(5));return r.isEqual(e)||Hc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function pb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var mb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Lc.c)(e,t),e.prototype.convertBytes=function(t){return new yy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ny(this.firestore,null,e)},e}(fb),gb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ty(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=yb(t,this._firestore),i=pb(r.converter,e,n),s=Iy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Vl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=yb(t,this._firestore);return s="string"==typeof(e=Object(Di.h)(e))||e instanceof gy?Ny(this._dataReader,"WriteBatch.update",o._key,e,n,r):Py(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Vl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=yb(t,this._firestore);return this._mutations=this._mutations.concat(new th(e._key,Vl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Uc(Vc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function yb(t,e){if((t=Object(Di.h)(t)).firestore!==e)throw new Uc(Vc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var bb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Lc.c)(e,t),e.prototype.convertBytes=function(t){return new yy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ny(this.firestore,null,e)},e}(fb);function vb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Zg(t,ny);var s=Zg(t.firestore,hy),o=Ty(s);return wb(s,[("string"==typeof(e=Object(Di.h)(e))||e instanceof gy?Ny(o,"updateDoc",t._key,e,n,r):Py(o,"updateDoc",t._key,e)).toMutation(t._key,Vl.exists(!0))])}function _b(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(Di.h)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||ly(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(ly(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof ny)u=Zg(t.firestore,hy),l=al(t._key.path),c={next:function(e){i[a]&&i[a](Sb(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Zg(t,ry);u=Zg(f.firestore,hy),l=f._query;var p=new bb(u);c={next:function(t){i[a]&&i[a](new Zy(u,p,f,t))},error:i[a+1],complete:i[a+2]},eb(t._query)}return function(t,e,n,r){var i=this,s=new Sg(r),o=new Rm(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(i,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=Im,[4,Pg(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(i,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=xm,[4,Pg(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(dy(u),l,h,c)}function wb(t,e){return function(t,e){var n=this,r=new jd;return t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(n,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return n=Hm,[4,Dg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(dy(t),e)}function Sb(t,e,n){var r=n.docs.get(e._key),i=new bb(t);return new Yy(t,i,e._key,r,new Qy(n.hasPendingWrites,n.fromCache),e.converter)}var Eb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Lc.c)(e,t),e.prototype.get=function(e){var n=this,r=yb(e,this._firestore),i=new bb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Yy(n._firestore,i,r._key,t._document,new Qy(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ty(t)}return t.prototype.get=function(t){var e=this,n=yb(t,this._firestore),r=new mb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Wc();var i=t[0];if(i.isFoundDocument())return new $y(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new $y(e._firestore,r,n._key,null,n.converter);throw Wc()})},t.prototype.set=function(t,e,n){var r=yb(t,this._firestore),i=pb(r.converter,e,n),s=Iy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=yb(t,this._firestore);return s="string"==typeof(e=Object(Di.h)(e))||e instanceof gy?Ny(this._dataReader,"Transaction.update",o._key,e,n,r):Py(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=yb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Cb(){if("undefined"==typeof Uint8Array)throw new Uc(Vc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ob(){if("undefined"==typeof atob)throw new Uc(Vc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Tb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Ob(),new t(yy.fromBase64String(e))},t.fromUint8Array=function(e){return Cb(),new t(yy.fromUint8Array(e))},t.prototype.toBase64=function(){return Ob(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Cb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Ib=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){my(t=Zg(t,hy));var n=dy(t),r=t._freezeSettings(),i=new wg;return py(n,i,new vg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){my(t=Zg(t,hy));var e=dy(t),n=t._freezeSettings(),r=new wg;return py(e,r,new _g(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Uc(Vc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new jd;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Lc.b)(e,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return Pd.yt()?[4,Pd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}($f(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),xb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Fg||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Zg(t,ey))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Kc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=Object(Di.d)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Uc(Vc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new qg(new Ug(s,new Ep(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Lc.b)(e,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return[4,Ag(t)];case 1:return e=r.sent(),[4,Rg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Qc(t);return e.$r.delete(0),Qp(e)}(n))]}})})})}(dy(Zg(this._delegate,hy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Lc.b)(e,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return[4,Ag(t)];case 1:return e=r.sent(),[4,Rg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return(e=Qc(t)).$r.add(0),[4,Yp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(dy(Zg(this._delegate,hy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Gg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new jd;return t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(e,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return e=Ym,[4,Dg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(dy(Zg(this._delegate,hy)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Sg(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(n,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Qc(t).Gr.add(e),e.next()},[4,Pg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(n,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Qc(t).Gr.delete(e)},[4,Pg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(dy(t=Zg(t,hy)),ly(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Uc(Vc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new qb(this,sy(this._delegate,t))}catch(t){throw Pb(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Db(this,oy(this._delegate,t))}catch(t){throw Pb(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Vb(this,function(t,e){if(t=Zg(t,ey),$g("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ry(t,null,function(t){return new sl(au.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Pb(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new jd;return t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(n,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return kg(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Cg(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(dy(t),function(n){return e(new Eb(t,n))})}(this._delegate,function(n){return t(new Ab(e,n))})},t.prototype.batch=function(){var t=this;return dy(this._delegate),new jb(new gb(this._delegate,function(e){return wb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Uc(Vc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Uc(Vc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),kb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Lc.c)(e,t),e.prototype.convertBytes=function(t){return new Tb(new yy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Db.Zc(e,this.firestore,null)},e}(fb),Ab=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new kb(t)}return t.prototype.get=function(t){var e=this,n=zb(t);return this._delegate.get(n).then(function(t){return new Lb(e._firestore,new Yy(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=zb(t);return n?(Wg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=zb(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Lc.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=zb(t);return this._delegate.delete(e),this},t}(),jb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=zb(t);return n?(Wg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=zb(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Lc.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=zb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Rb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Xy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Fb(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new kb(e),n),i.set(n,s)),s},t}();Rb.eu=new WeakMap;var Db=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new kb(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Uc(Vc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new ny(n._delegate,r,new Su(e)))},t.Zc=function(e,n,r){return new t(n,new ny(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new qb(this.firestore,sy(this._delegate,t))}catch(t){throw Pb(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Di.h)(t))instanceof ny&&ay(this._delegate,t)},t.prototype.set=function(t,e){e=Wg("DocumentReference.set",e);try{return function(t,e,n){t=Zg(t,ny);var r=Zg(t.firestore,hy),i=pb(t.converter,e,n);return wb(r,[Iy(Ty(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Vl.none())])}(this._delegate,t,e)}catch(t){throw Pb(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?vb(this._delegate,t):vb.apply(void 0,Object(Lc.f)([this._delegate,t,e],n))}catch(t){throw Pb(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return wb(Zg((t=this._delegate).firestore,hy),[new th(t._key,Vl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Nb(e),i=Mb(e,function(e){return new Lb(t.firestore,new Yy(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return _b(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Zg(t,ny);var e=Zg(t.firestore,hy),n=dy(e),r=new bb(e);return function(t,e){var n=this,r=new jd;return t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(n,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Qc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Uc(Vc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=wm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,jg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Yy(e,r,t._key,n,new Qy(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Zg(t,ny);var e=Zg(t.firestore,hy);return Ng(dy(e),t._key,{source:"server"}).then(function(n){return Sb(e,t,n)})}(this._delegate):function(t){t=Zg(t,ny);var e=Zg(t.firestore,hy);return Ng(dy(e),t._key).then(function(n){return Sb(e,t,n)})}(this._delegate)).then(function(t){return new Lb(e.firestore,new Yy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Rb.tu(this.firestore,e):null))},t}();function Pb(t,e,n){return t.message=t.message.replace(e,n),t}function Nb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ly(r))return r}return{}}function Mb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ly(t[0])?t[0]:ly(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Lb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Db(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return tb(this._delegate,t._delegate)},t}(),Fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Lb),Vb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new kb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,rb(this._delegate,function(t,e,n){var r=e,i=Gy("where",t);return new ib(i,r,n)}(e,n,r)))}catch(e){throw Pb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,rb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Gy("orderBy",t);return new sb(r,n)}(e,n)))}catch(e){throw Pb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,rb(this._delegate,function(t){return Jg("limit",t),new ob("limit",t,"F")}(e)))}catch(e){throw Pb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,rb(this._delegate,function(t){return Jg("limitToLast",t),new ob("limitToLast",t,"L")}(e)))}catch(e){throw Pb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,rb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ab("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Pb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,rb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ab("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Pb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,rb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Pb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,rb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Pb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return cy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Zg(t,ry);var e=Zg(t.firestore,hy),n=dy(e),r=new bb(e);return function(t,e){var n=this,r=new jd;return t.asyncQueue.enqueueAndForget(function(){return Object(Lc.b)(n,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Lc.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,ap(t,e,!0)];case 1:return a=c.sent(),r=new Lm(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=wm(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,jg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Zy(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Zg(t,ry);var e=Zg(t.firestore,hy),n=dy(e),r=new bb(e);return Mg(n,t._query,{source:"server"}).then(function(n){return new Zy(e,r,t,n)})}(this._delegate):function(t){t=Zg(t,ry);var e=Zg(t.firestore,hy),n=dy(e),r=new bb(e);return eb(t._query),Mg(n,t._query).then(function(n){return new Zy(e,r,t,n)})}(this._delegate)).then(function(t){return new Bb(e.firestore,new Zy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Nb(e),i=Mb(e,function(e){return new Bb(t.firestore,new Zy(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return _b(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Rb.tu(this.firestore,e):null))},t}(),Ub=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Fb(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Bb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Vb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Fb(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Ub(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Fb(n._firestore,r))})},t.prototype.isEqual=function(t){return tb(this._delegate,t._delegate)},t}(),qb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Db(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Db(this.firestore,void 0===t?oy(this._delegate):oy(this._delegate,t))}catch(t){throw Pb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Zg(t.firestore,hy),r=oy(t),i=pb(t.converter,e);return wb(n,[Iy(Ty(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Vl.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Db(e.firestore,t)})},e.prototype.isEqual=function(t){return ay(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Rb.tu(this.firestore,t):null))},e}(Vb);function zb(t){return Zg(t,ny)}var Hb,Kb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(gy.bind.apply(gy,Object(Lc.f)([void 0],t)))}return t.documentId=function(){return new t(uu.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Di.h)(t))instanceof gy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),$b=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ay("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new xy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ry("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Dy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Wb=n("/6Yf"),Gb={Firestore:xb,GeoPoint:vy,Timestamp:eu,Blob:Tb,Transaction:Ab,WriteBatch:jb,DocumentReference:Db,DocumentSnapshot:Lb,Query:Vb,QueryDocumentSnapshot:Fb,QuerySnapshot:Bb,CollectionReference:qb,FieldPath:Kb,FieldValue:$b,setLogLevel:function(t){Bc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Wb.a("firestore",function(t){return function(t,e){return new xb(t,new hy(t,e),new Ib)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Gb)))})(Hb=Ri.a),Hb.registerVersion("@firebase/firestore","2.3.0");var Qb=n("VRyK"),Yb=n("qgXg"),Xb=n("Ylt2");class Zb extends Ct.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Jb(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Ot.a;if(this.isStopped||this.hasError?s=Ie.a.EMPTY:(this.observers.push(t),s=new Xb.a(this,t)),r&&t.add(t=new ki.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Yb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Jb{constructor(t,e){this.time=t,this.value=e}}function tv(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new Zb(t,e,r),l=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function ev(t,e){return e?Gt(()=>t,e):Gt(()=>t)}var nv=n("tf+s");const rv=new r.r("angularfire2.auth.use-emulator"),iv=new r.r("angularfire2.auth.settings"),sv=new r.r("angularfire2.auth.tenant-id"),ov=new r.r("angularfire2.auth.langugage-code"),av=new r.r("angularfire2.auth.use-device-language"),cv=new r.r("angularfire.auth.persistence");let uv=(()=>{class t{constructor(t,e,r,i,s,o,a,c,u,l){const h=new Ai.d(i),d=Object(Ai.h)(h),f=new Ct.a,p=Object(Et.a)(void 0).pipe(Object(ki.b)(h.outsideAngular),Gt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object($t.a)(()=>Object(Ai.g)(t,i,e)),Object($t.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Ai.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),tv({bufferSize:1,refCount:!1}));if(B(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Et.a)(null);else{p.pipe(Ce()).subscribe();const t=p.pipe(Gt(t=>t.getRedirectResult().then(t=>t,()=>null)),d,tv({bufferSize:1,refCount:!1})),e=t=>new Dt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Gt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Gt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(ev(n),Object(nv.a)(h.outsideAngular),Object(ki.b)(h.insideAngular)),this.user=t.pipe(ev(r),Object(nv.a)(h.outsideAngular),Object(ki.b)(h.insideAngular)),this.idToken=this.user.pipe(Gt(t=>t?Object(St.a)(t.getIdToken()):Object(Et.a)(null))),this.idTokenResult=this.user.pipe(Gt(t=>t?Object(St.a)(t.getIdTokenResult()):Object(Et.a)(null))),this.credential=Object(Qb.a)(t,f,this.authState.pipe(se(t=>!t))).pipe(Object($t.a)(t=>(null==t?void 0:t.user)?t:null),Object(nv.a)(h.outsideAngular),Object(ki.b)(h.insideAngular))}return Object(Ai.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Ai.c),r.ac(Ai.b,8),r.ac(r.C),r.ac(r.A),r.ac(rv,8),r.ac(iv,8),r.ac(sv,8),r.ac(ov,8),r.ac(av,8),r.ac(cv,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(Ai.c),Object(r.ac)(Ai.b,8),Object(r.ac)(r.C),Object(r.ac)(r.A),Object(r.ac)(rv,8),Object(r.ac)(iv,8),Object(r.ac)(sv,8),Object(r.ac)(ov,8),Object(r.ac)(av,8),Object(r.ac)(cv,8))},token:t,providedIn:"any"}),t})();Object(Ai.e)(uv,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let lv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[uv]}),t})();function hv(t,e){return function(t,e=Ei.b){return new Dt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function dv(t,e){return hv(t,e).pipe(Object($t.a)(t=>({payload:t,type:"query"})))}function fv(t,e){return dv(t,e).pipe(ee(void 0),Ci(),Object($t.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function pv(t,e,n){return fv(t,n).pipe(ne((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return mv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return mv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ii(void 0,void 0)),Object($t.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function mv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function gv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class yv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=fv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object($t.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ee(void 0),Ci(),se(([t,e])=>e.length>0||!t),Object($t.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ne((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=gv(t);return pv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dv(this.query,this.afs.schedulers.outsideAngular).pipe(Object($t.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(St.a)(this.query.get(t)).pipe(Object(ki.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new bv(this.ref.doc(t),this.afs)}}class bv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Cv(n,e);return new yv(r,i,this.afs)}snapshotChanges(){return hv(this.ref,this.afs.schedulers.outsideAngular).pipe(ee(void 0),Ci(),Object($t.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object($t.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(St.a)(this.ref.get(t)).pipe(Object(ki.b)(this.afs.schedulers.insideAngular))}}class vv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?fv(this.query,this.afs.schedulers.outsideAngular).pipe(Object($t.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),se(t=>t.length>0),this.afs.keepUnstableUntilFirst):fv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ne((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=gv(t);return pv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dv(this.query,this.afs.schedulers.outsideAngular).pipe(Object($t.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(St.a)(this.query.get(t)).pipe(Object(ki.b)(this.afs.schedulers.insideAngular))}}const _v=new r.r("angularfire2.enableFirestorePersistence"),wv=new r.r("angularfire2.firestore.persistenceSettings"),Sv=new r.r("angularfire2.firestore.settings"),Ev=new r.r("angularfire2.firestore.use-emulator");function Cv(t,e=(t=>t)){return{query:e(t),ref:t}}let Ov,Tv=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new Ai.d(s),this.keepUnstableUntilFirst=Object(Ai.h)(this.schedulers);const u=Object(Ai.g)(t,s,e);!ji.a.auth&&c&&Object(Ai.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ai.f)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!B(i)){const e=()=>{try{return Object(St.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Hb){return"undefined"!=typeof console&&console.warn(Hb),Object(Et.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Et.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Cv(n,e),s=this.schedulers.ngZone.run(()=>r);return new yv(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new vv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new bv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Ai.c),r.ac(Ai.b,8),r.ac(_v,8),r.ac(Sv,8),r.ac(r.C),r.ac(r.A),r.ac(wv,8),r.ac(Ev,8),r.ac(rv,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(Ai.c),Object(r.ac)(Ai.b,8),Object(r.ac)(_v,8),Object(r.ac)(Sv,8),Object(r.ac)(r.C),Object(r.ac)(r.A),Object(r.ac)(wv,8),Object(r.ac)(Ev,8),Object(r.ac)(rv,8))},token:t,providedIn:"any"}),t})(),Iv=(()=>{class t{constructor(t){this.fs=t,this.serversList=t.collection("servers")}getServers(){return this.servers=this.serversList.snapshotChanges().pipe(Object($t.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.key=t.payload.doc.id,e}))),this.servers}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Tv))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class xv{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new kv(t,this.dueTime,this.scheduler))}}class kv extends kt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Av,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Av(t){t.debouncedNext()}function jv(t){return null!=t&&"false"!=`${t}`}function Rv(t){return Array.isArray(t)?t:[t]}function Dv(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Pv(t){return t instanceof r.l?t.nativeElement:t}try{Ov="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(tx){Ov=!1}let Nv,Mv,Lv,Fv=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ov)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.C))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(r.C))},token:t,providedIn:"root"}),t})(),Vv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();function Uv(t){return function(){if(null==Nv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nv=!0}))}finally{Nv=Nv||!1}return Nv}()?t:!!t.capture}function Bv(){if(null==Mv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Mv=!1,Mv;if("scrollBehavior"in document.documentElement.style)Mv=!0;else{const t=Element.prototype.scrollTo;Mv=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Mv}let qv=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),zv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[qv]}),t})();function Hv(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const Kv="cdk-describedby-message-container",$v="cdk-describedby-host";let Wv=0;const Gv=new Map;let Qv=null,Yv=(()=>{class t{constructor(t){this._document=t}describe(t,e,n){if(!this._canBeDescribed(t,e))return;const r=Xv(e,n);"string"!=typeof e?(Zv(e),Gv.set(r,{messageElement:e,referenceCount:0})):Gv.has(r)||this._createMessageElement(e,n),this._isElementDescribedByMessage(t,r)||this._addMessageReference(t,r)}removeDescription(t,e,n){if(!e||!this._isElementNode(t))return;const r=Xv(e,n);if(this._isElementDescribedByMessage(t,r)&&this._removeMessageReference(t,r),"string"==typeof e){const t=Gv.get(r);t&&0===t.referenceCount&&this._deleteMessageElement(r)}Qv&&0===Qv.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute($v);Qv&&this._deleteMessagesContainer(),Gv.clear()}_createMessageElement(t,e){const n=this._document.createElement("div");Zv(n),n.textContent=t,e&&n.setAttribute("role",e),this._createMessagesContainer(),Qv.appendChild(n),Gv.set(Xv(t,e),{messageElement:n,referenceCount:0})}_deleteMessageElement(t){const e=Gv.get(t),n=e&&e.messageElement;Qv&&n&&Qv.removeChild(n),Gv.delete(t)}_createMessagesContainer(){if(!Qv){const t=this._document.getElementById(Kv);t&&t.parentNode&&t.parentNode.removeChild(t),Qv=this._document.createElement("div"),Qv.id=Kv,Qv.style.visibility="hidden",Qv.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Qv)}}_deleteMessagesContainer(){Qv&&Qv.parentNode&&(Qv.parentNode.removeChild(Qv),Qv=null)}_removeCdkDescribedByReferenceIds(t){const e=Hv(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=Gv.get(e);!function(t,e,n){const r=Hv(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute($v,""),n.referenceCount++}_removeMessageReference(t,e){const n=Gv.get(e);n.referenceCount--,function(t,e,n){const r=Hv(t,e).filter(t=>t!=n.trim());r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute($v)}_isElementDescribedByMessage(t,e){const n=Hv(t,"aria-describedby"),r=Gv.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(o))},token:t,providedIn:"root"}),t})();function Xv(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function Zv(t){t.id||(t.id="cdk-describedby-message-"+Wv++)}function Jv(t){return 0===t.buttons}function t_(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const e_=new r.r("cdk-focus-monitor-default-options"),n_=Uv({passive:!0,capture:!0});let r_=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Jv(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{t_(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=i_(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=i_(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Pv(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Et.a)(null);const r=function(t){if(function(){if(null==Lv){const t="undefined"!=typeof document?document.head:null;Lv=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Lv}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new Ct.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Pv(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Pv(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=i_(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===i_(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,n_),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,n_)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,n_),t.addEventListener("mousedown",this._documentMousedownListener,n_),t.addEventListener("touchstart",this._documentTouchstartListener,n_),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,n_),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,n_),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,n_),t.removeEventListener("mousedown",this._documentMousedownListener,n_),t.removeEventListener("touchstart",this._documentTouchstartListener,n_),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.A),r.ac(Fv),r.ac(o,8),r.ac(e_,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(r.A),Object(r.ac)(Fv),Object(r.ac)(o,8),Object(r.ac)(e_,8))},token:t,providedIn:"root"}),t})();function i_(t){return t.composedPath?t.composedPath()[0]:t.target}const s_="cdk-high-contrast-black-on-white",o_="cdk-high-contrast-white-on-black",a_="cdk-high-contrast-active";let c_=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(a_),t.remove(s_),t.remove(o_);const e=this.getHighContrastMode();1===e?(t.add(a_),t.add(s_)):2===e&&(t.add(a_),t.add(o_))}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Fv),r.ac(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(Fv),Object(r.ac)(o))},token:t,providedIn:"root"}),t})(),u_=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(c_))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Vv,zv]]}),t})();const l_=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(o)}});let h_=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(l_,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(l_,8))},token:t,providedIn:"root"}),t})(),d_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();const f_=new r.Q("11.2.12");class p_{}const m_="*";function g_(t,e){return{type:7,name:t,definitions:e,options:{}}}function y_(t,e=null){return{type:4,styles:e,timings:t}}function b_(t,e=null){return{type:2,steps:t,options:e}}function v_(t){return{type:6,styles:t,offset:null}}function __(t,e,n){return{type:0,name:t,styles:e,options:n}}function w_(t){return{type:5,steps:t}}function S_(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function E_(t){Promise.resolve(null).then(t)}class C_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){E_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class O_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?E_(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function T_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function I_(t){switch(t.length){case 0:return new C_;case 1:return t[0];default:return new O_(t)}}function x_(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case m_:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function k_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&A_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&A_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&A_(n,"destroy",t)))}}function A_(t,e,n){const r=n.totalTime,i=j_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function j_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function R_(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function D_(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let P_=(t,e)=>!1,N_=(t,e)=>!1,M_=(t,e,n)=>[];const L_=T_();(L_||"undefined"!=typeof Element)&&(P_=(t,e)=>t.contains(e),N_=(()=>{if(L_||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):N_}})(),M_=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let F_=null,V_=!1;function U_(t){F_||(F_=("undefined"!=typeof document?document.body:null)||{},V_=!!F_.style&&"WebkitAppearance"in F_.style);let e=!0;return F_.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in F_.style,!e&&V_)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in F_.style),e}const B_=N_,q_=P_,z_=M_;function H_(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let K_=(()=>{class t{validateStyleProperty(t){return U_(t)}matchesElement(t,e){return B_(t,e)}containsElement(t,e){return q_(t,e)}query(t,e,n){return z_(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new C_(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),$_=(()=>{class t{}return t.NOOP=new K_,t})();const W_="ng-enter",G_="ng-leave",Q_="ng-trigger",Y_=".ng-trigger",X_="ng-animating",Z_=".ng-animating";function J_(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tw(parseFloat(e[1]),e[2])}function tw(t,e){switch(e){case"s":return 1e3*t;default:return t}}function ew(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=tw(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=tw(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function nw(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function rw(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else nw(t,n);return n}function iw(t,e,n){return n?e+":"+n+";":""}function sw(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=iw(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=iw(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function ow(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=pw(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),T_()&&sw(t))}function aw(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=pw(e);t.style[n]=""}),T_()&&sw(t))}function cw(t){return Array.isArray(t)?1==t.length?t[0]:b_(t):t}const uw=new RegExp("{{\\s*(.+?)\\s*}}","g");function lw(t){let e=[];if("string"==typeof t){let n;for(;n=uw.exec(t);)e.push(n[1]);uw.lastIndex=0}return e}function hw(t,e,n){const r=t.toString(),i=r.replace(uw,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function dw(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const fw=/-+([a-z0-9])/g;function pw(t){return t.replace(fw,(...t)=>t[1].toUpperCase())}function mw(t,e){return 0===t||0===e}function gw(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=bw(t,e)})}}return e}function yw(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function bw(t,e){return window.getComputedStyle(t)[e]}const vw="*";function _w(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Ew(i,o)),"<"!=s[0]||i==vw&&o==vw||e.push(Ew(o,i))}(t,n,e)):n.push(t),n}const ww=new Set(["true","1"]),Sw=new Set(["false","0"]);function Ew(t,e){const n=ww.has(t)||Sw.has(t),r=ww.has(e)||Sw.has(e);return(i,s)=>{let o=t==vw||t==i,a=e==vw||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?ww.has(t):Sw.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?ww.has(e):Sw.has(e)),o&&a}}const Cw=new RegExp("s*:selfs*,?","g");function Ow(t,e,n){return new Tw(t).build(e,n)}class Tw{constructor(t){this._driver=t}build(t,e){const n=new Iw(e);return this._resetContextStyleTimingState(n),yw(this,cw(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(xw(t)){const e=t;Object.keys(e).forEach(t=>{lw(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=dw(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=yw(this,cw(t.animation),e);return{type:1,matchers:_w(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:kw(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>yw(this,t,e)),options:kw(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=yw(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:kw(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Aw(ew(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Aw(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||ew(r,e),Aw(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:v_({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=v_(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==m_?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(xw(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=lw(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(xw(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(xw(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:yw(this,cw(t.animation),e),options:kw(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:kw(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:kw(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Cw,"")),[t=t.replace(/@\*/g,Y_).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Z_),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,R_(e.collectedStyles,e.currentQuerySelector,{});const o=yw(this,cw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:kw(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ew(t.timings,e.errors,!0);return{type:12,animation:yw(this,cw(t.animation),e),timings:n,options:null}}}class Iw{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function xw(t){return!Array.isArray(t)&&"object"==typeof t}function kw(t){var e;return t?(t=nw(t)).params&&(t.params=(e=t.params)?nw(e):null):t={},t}function Aw(t,e,n){return{duration:t,delay:e,easing:n}}function jw(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Rw{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Dw=new RegExp(":enter","g"),Pw=new RegExp(":leave","g");function Nw(t,e,n,r,i,s={},o={},a,c,u=[]){return(new Mw).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class Mw{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new Rw;const l=new Fw(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),yw(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[jw(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?J_(n.duration):null,s=null!=n.delay?J_(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),yw(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Lw);const t=J_(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>yw(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?J_(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),yw(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return ew(e.params?hw(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?J_(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Lw);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),yw(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;yw(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Lw={};class Fw{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Vw(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=J_(n.duration)),null!=n.delay&&(r.delay=J_(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=hw(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Fw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Lw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Uw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Dw,"."+this._enterClassName)).replace(Pw,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Vw{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Vw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||m_,this._currentKeyframe[t]=m_}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=m_})):rw(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=hw(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:m_),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=rw(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==m_&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?dw(t.values()):[],s=e.size?dw(e.values()):[];if(n){const t=r[0],e=nw(t);t.offset=0,e.offset=1,r=[t,e]}return jw(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Uw extends Vw{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=rw(t[0],!1);a.offset=0,i.push(a);const c=rw(t[0],!1);c.offset=Bw(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=rw(t[r],!1);o.offset=Bw((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return jw(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Bw(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class qw{}class zw extends qw{normalizePropertyName(t,e){return pw(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Hw[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Hw=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Kw(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const $w={};class Ww{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||$w,d=this.buildStyles(n,o&&o.params||$w,l),f=a&&a.params||$w,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:Nw(t,e,this.ast.animation,i,s,d,p,v,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Kw(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=R_(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=R_(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=dw(m.values());return Kw(e,this._triggerName,n,r,b,d,p,_,S,g,y,w)}}class Gw{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=nw(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=hw(s,r,e)),n[t]=s})}}),n}}class Qw{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Gw(t.style,t.options&&t.options.params||{})}),Yw(this.states,"true","1"),Yw(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Ww(t,e,this.states))}),this.fallbackTransition=new Ww(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Yw(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Xw=new Rw;class Zw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ow(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=x_(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Nw(this._driver,e,i,W_,G_,{},{},n,Xw,r),s.forEach(t=>{const e=R_(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,m_)})});const a=I_(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=j_(e,"","","");return k_(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Jw="ng-animate-queued",tS="ng-animate-disabled",eS=".ng-animate-disabled",nS=[],rS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class sS{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=nw(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const oS="void",aS=new sS(oS);class cS{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,mS(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=R_(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=R_(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(mS(t,Q_),mS(t,"ng-trigger-"+e),a[e]=aS),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new lS(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(mS(t,Q_),mS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new sS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=aS),c.value!==oS&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{aw(t,n),ow(t,r)})}return}const u=R_(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(mS(t,Jw),s.onStart(()=>{gS(t,Jw)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Y_,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,oS,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&I_(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||aS,a=new sS(oS),c=new lS(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==rS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){mS(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=j_(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,k_(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class uS{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new cS(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(hS(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!hS(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),mS(t,tS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),gS(t,tS))}removeNode(t,e,n,r){if(hS(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return hS(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Y_,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Z_,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return I_(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=rS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,eS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,eS,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)mS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?I_(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Rw,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=pS(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=W_+p++;f.set(e,n),t.forEach(t=>mS(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=pS(h,Array.from(g));v.forEach((t,e)=>{const n=G_+p++;b.set(e,n),t.forEach(t=>mS(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>gS(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>gS(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>aw(i,p.fromStyles)),e.onDestroy(()=>ow(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>aw(i,p.fromStyles)),e.onDestroy(()=>ow(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>R_(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{R_(S,e,[]).push(t),t.destroy()})});const C=m.filter(t=>vS(t,a,c)),O=new Map;fS(O,this.driver,y,c,m_).forEach(t=>{vS(t,a,c)&&C.push(t)});const T=new Map;d.forEach((t,e)=>{fS(T,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=O.get(t),n=T.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>ow(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,T,O);if(s.setRealPlayer(n),t===k)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=I_(e)),r.push(s)}}else aw(e,o.fromStyles),s.onDestroy(()=>ow(e,o.toStyles)),x.push(s),u.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=I_(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(gS(t,G_),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Z_,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?yS(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==oS;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=R_(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}aw(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new C_(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return bS(t,e),e}((n.get(h)||nS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=x_(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new lS(t,o,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{R_(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>mS(t,X_));const d=I_(h);return d.onDestroy(()=>{u.forEach(t=>gS(t,X_)),ow(a,e.toStyles)}),l.forEach(t=>{R_(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new C_(t.duration,t.delay)}}class lS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new C_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>k_(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){R_(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function hS(t){return t&&1===t.nodeType}function dS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function fS(t,e,n,r,i){const s=[];n.forEach(t=>s.push(dS(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=iS,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>dS(t,s[a++])),o}function pS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function mS(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function gS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function yS(t,e,n){I_(n).onDone(()=>t.processLeaveNode(e))}function bS(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof O_?bS(r.players,e):e.push(r)}}function vS(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class _S{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new uS(t,e,n),this._timelineEngine=new Zw(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Ow(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Qw(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=D_(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=D_(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function wS(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ES(e[0]),e.length>1&&(r=ES(e[e.length-1]))):e&&(n=ES(e)),n||r?new SS(t,n,r):null}let SS=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ow(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ow(this._element,this._initialStyles),this._endStyles&&(ow(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(aw(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(aw(this._element,this._endStyles),this._endStyles=null),ow(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ES(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];CS(i)&&(e=e||{},e[i]=t[i])}return e}function CS(t){return"display"===t||"position"===t}const OS="animation",TS="animationend";class IS{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=DS(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),RS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),jS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){xS(this._element,this._name,"paused")}resume(){xS(this._element,this._name,"running")}setPosition(t){const e=kS(this._element,this._name);this._position=t*this._duration,RS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),jS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=DS(t,"").split(","),r=AS(n,e);r>=0&&(n.splice(r,1),RS(t,"",n.join(",")))}(this._element,this._name))}}function xS(t,e,n){RS(t,"PlayState",n,kS(t,e))}function kS(t,e){const n=DS(t,"");return n.indexOf(",")>0?AS(n.split(","),e):AS([n],e)}function AS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function jS(t,e,n){n?t.removeEventListener(TS,e):t.addEventListener(TS,e)}function RS(t,e,n,r){const i=OS+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function DS(t,e){return t.style[OS+e]||""}class PS{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new IS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:bw(this.element,n))})}this.currentSnapshot=t}}class NS extends C_{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=H_(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class MS{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return U_(t)}matchesElement(t,e){return B_(t,e)}containsElement(t,e){return q_(t,e)}query(t,e,n){return z_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>H_(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof PS),c={};mw(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=gw(t,e,c));if(0==n)return new NS(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=wS(t,e),f=new PS(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class LS{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:bw(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class FS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(VS().toString()),this._cssKeyframesDriver=new MS}validateStyleProperty(t){return U_(t)}matchesElement(t,e){return B_(t,e)}containsElement(t,e){return q_(t,e)}query(t,e,n){return z_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof LS);mw(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=wS(t,e=gw(t,e=e.map(t=>rw(t,!1)),c));return new LS(t,e,a,l)}}function VS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let US=(()=>{class t extends p_{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?b_(t):t;return zS(this._renderer,null,e,"register",[n]),new BS(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.G),r.ac(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class BS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new qS(this._id,t,e||{},this._renderer)}}class qS{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function zS(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const HS="@",KS="@.disabled";let $S=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new WS("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new GS(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.G),r.ac(_S),r.ac(r.A))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class WS{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==HS&&e==KS?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class GS extends WS{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==HS?"."==e.charAt(1)&&e==KS?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==HS){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=HS&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let QS=(()=>{class t extends _S{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o),r.ac($_),r.ac(qw))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const YS=new r.r("AnimationModuleType"),XS=[{provide:$_,useFactory:function(){return"function"==typeof VS()?new FS:new MS}},{provide:YS,useValue:"BrowserAnimations"},{provide:p_,useClass:US},{provide:qw,useFactory:function(){return new zw}},{provide:_S,useClass:QS},{provide:r.G,useFactory:function(t,e,n){return new $S(t,e,n)},deps:[ot,_S,r.A]}];let ZS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:XS,imports:[wt]}),t})();const JS=new r.Q("11.2.12"),tE=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let eE,nE=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&JS.full!==f_.full&&console.warn("The Angular Material version ("+JS.full+") does not match the Angular CDK version ("+f_.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.ac(c_),r.ac(tE,8),r.ac(o))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[d_],d_]}),t})();function rE(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=jv(t)}}}function iE(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function sE(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=jv(t)}}}try{eE="undefined"!=typeof Intl}catch(tx){eE=!1}class oE{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const aE={enterDuration:450,exitDuration:400},cE=Uv({passive:!0}),uE=["mousedown","touchstart"],lE=["mouseup","mouseleave","touchend","touchcancel"];class hE{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Pv(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},aE),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new oE(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},aE),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Pv(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(uE))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(lE),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Jv(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!t_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,cE)})})}_removeTriggerEvents(){this._triggerElement&&(uE.forEach(t=>{this._triggerElement.removeEventListener(t,this,cE)}),this._pointerUpEventsRegistered&&lE.forEach(t=>{this._triggerElement.removeEventListener(t,this,cE)}))}}const dE=new r.r("mat-ripple-global-options");let fE=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new hE(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A),r.Ob(Fv),r.Ob(dE,8),r.Ob(YS,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),pE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[nE,Vv],nE]}),t})();const mE=["mat-button",""],gE=["*"],yE=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",bE=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class vE{constructor(t){this._elementRef=t}}const _E=iE(rE(sE(vE)));let wE=(()=>{class t extends _E{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of bE)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r_),r.Ob(YS,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Dc(fE,1),2&t){let t;r.qc(t=r.ec())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Db("disabled",e.disabled||null),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:mE,ngContentSelectors:gE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.jc(),r.Tb(0,"span",0),r.ic(1),r.Sb(),r.Pb(2,"span",1),r.Pb(3,"span",2)),2&t&&(r.Cb(2),r.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.kc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[fE],styles:[yE],encapsulation:2,changeDetection:0}),t})(),SE=(()=>{class t extends wE{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r_),r.Ob(r.l),r.Ob(YS,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){1&t&&r.dc("click",function(t){return e._haltDisabledEvents(t)}),2&t&&(r.Db("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[r.zb],attrs:mE,ngContentSelectors:gE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.jc(),r.Tb(0,"span",0),r.ic(1),r.Sb(),r.Pb(2,"span",1),r.Pb(3,"span",2)),2&t&&(r.Cb(2),r.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.kc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[fE],styles:[yE],encapsulation:2,changeDetection:0}),t})(),EE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[pE,nE],nE]}),t})();function CE(t,e){if(1&t&&(r.Tb(0,"div",7),r.Tb(1,"div",8),r.Pb(2,"img",9),r.Tb(3,"div",10),r.Tb(4,"h1",11),r.zc(5),r.Sb(),r.Tb(6,"p",12),r.zc(7),r.Sb(),r.Sb(),r.Tb(8,"div",13),r.Tb(9,"small",14),r.zc(10,"Last updated 3 mins ago"),r.Sb(),r.Pb(11,"span",15),r.Tb(12,"a",16),r.zc(13,"Join here"),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){const t=e.$implicit;r.Cb(2),r.mc("src","/assets/imgs/",t.image,"",r.uc),r.lc("alt",t.image),r.Cb(3),r.Ac(t.title),r.Cb(2),r.Ac(t.description),r.Cb(5),r.mc("href","/chatroom/",t.idServer,"",r.uc)}}let OE=(()=>{class t{constructor(t){this.serverService=t,this.message="mensaje"}ngOnInit(){this.serverService.getServers().subscribe(t=>{this.servers=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Iv))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-home"]],decls:11,vars:1,consts:[[1,"parallax"],[1,"overImage"],[1,"textOver"],[1,"title"],[1,"servers"],[1,"row","row-cols-1","row-cols-md-3","mx-0"],["class","col mb-3",4,"ngFor","ngForOf"],[1,"col","mb-3"],[1,"card","text-white","bg-dark"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer","d-flex"],[1,"text-muted"],[1,"spacer"],["mat-flat-button","","color","primary",3,"href"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"span",2),r.zc(3," Find the best rooms to chat with people from over the world and talk about different topics "),r.Sb(),r.Tb(4,"h1",3),r.zc(5,"WhatsUp!!"),r.Sb(),r.Sb(),r.Sb(),r.Pb(6,"div",0),r.Pb(7,"div",0),r.Tb(8,"div",4),r.Tb(9,"div",5),r.xc(10,CE,14,5,"div",6),r.Sb(),r.Sb()),2&t&&(r.Cb(10),r.kc("ngForOf",e.servers))},directives:[A,SE],styles:[".parallax[_ngcontent-%COMP%]{background-image:url(/assets/imgs/undraw_researching_22gp.png);height:600px;background-attachment:fixed;background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative}.overImage[_ngcontent-%COMP%]{width:500px;height:150px;background-color:rgba(17,17,17,.32941176470588235);position:absolute;left:50%;translate:-50%;top:5%;padding:18px;text-align:center}.textOver[_ngcontent-%COMP%]{font-size:20px}.title[_ngcontent-%COMP%]{margin-top:20px;font-size:30px}.servers[_ngcontent-%COMP%]{position:absolute;top:50%;z-index:1}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]}),t})(),TE=(()=>{class t{constructor(t,e,n,r){this.afAuth=t,this.router=e,this.fs=n,this.ngZone=r,this.afAuth.authState.subscribe(t=>{t?(this.user=t,this.setCurrentUser(t),localStorage.setItem("user",this.user),localStorage.getItem("user")):(this.currentUser=null,localStorage.setItem("user",null),localStorage.getItem("user"))})}get isAuth(){return null!==localStorage.getItem("user")}getCurrentUser(){return this.currentUser}signUp(t,e,n){return this.afAuth.createUserWithEmailAndPassword(e.trim(),n).then(e=>{e.user.updateProfile({displayName:t})}).catch(t=>{console.log(t)})}signIn(t,e){return this.afAuth.signInWithEmailAndPassword(t.trim(),e).then(t=>{this.ngZone.run(()=>{this.router.navigate(["/home"])}),this.setCurrentUser(t.user),this.user=t}).catch(t=>{console.log(t)})}signInGoogle(){}signInFacebook(){}signInTwitter(){}authLogin(t){return this.afAuth.signInWithPopup(t).then(t=>{this.ngZone.run(()=>{this.router.navigate(["/chatroom"])}),this.setCurrentUser(t.user)}).catch(t=>{console.log(t)})}signOut(){this.currentUser=null,this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/home"])})}setCurrentUser(t){this.currentUser={idUser:t.uid,username:t.displayName,email:t.email}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(uv),r.ac(ri),r.ac(Tv),r.ac(r.A))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var IE=n("n6bG");function xE(t,e,n,r){return Object(IE.a)(n)&&(r=n,n=void 0),r?xE(t,e,n).pipe(Object($t.a)(t=>Object(xt.a)(t)?r(...t):r(t))):new Dt.a(r=>{kE(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function kE(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)kE(t[s],e,n,r,i)}r.add(s)}var AE=n("Y7HM");function jE(t=0,e,n){let r=-1;return Object(AE.a)(e)?r=Number(e)<1?1:Number(e):Object(It.a)(e)&&(n=e),Object(It.a)(n)||(n=Ei.a),new Dt.a(e=>{const i=Object(AE.a)(t)?t:+t-n.now();return n.schedule(RE,i,{index:0,period:r,subscriber:e})})}function RE(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class DE{call(t,e){return e.subscribe(new PE(t))}}class PE extends At{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Pt(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var NE=n("Lhse");function ME(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(Nt.a)(t,void 0).lift(new LE(e))}class LE{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new FE(t,this.resultSelector))}}class FE extends kt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(xt.a)(t)?e.push(new UE(t)):e.push("function"==typeof t[NE.a]?new VE(t[NE.a]()):new BE(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class VE{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class UE{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[NE.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class BE extends Wt.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[NE.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Wt.c)(this.observable,new Wt.a(this))}}function qE(t){return e=>e.lift(new zE(t))}class zE{constructor(t){this.notifier=t}call(t,e){const n=new HE(t),r=Object(Wt.c)(this.notifier,new Wt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class HE extends Wt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function KE(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new $E(t,n))}}class $E{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new WE(t,this.observables,this.project))}}class WE extends At{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Pt(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4");class GE{constructor(t){this.total=t}call(t,e){return e.subscribe(new QE(t,this.total))}}class QE extends kt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var YE=n("w1tV"),XE=n("XoHu");function ZE(...t){if(1===t.length){const e=t[0];if(Object(xt.a)(e))return JE(e,null);if(Object(XE.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return JE(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return JE(t=1===t.length&&Object(xt.a)(t[0])?t[0]:t,null).pipe(Object($t.a)(t=>e(...t)))}return JE(t,null)}function JE(t,e){return new Dt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(St.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const tC=new r.r("NgValueAccessor"),eC={provide:tC,useExisting:Object(r.V)(()=>rC),multi:!0},nC=new r.r("CompositionEventMode");let rC=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l),r.Ob(nC,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.dc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([eC])]}),t})();const iC=new r.r("NgValidators"),sC=new r.r("NgAsyncValidators");function oC(t){return null!=t}function aC(t){const e=Object(r.tb)(t)?Object(St.a)(t):t;return Object(r.sb)(e),e}function cC(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function uC(t,e){return e.map(e=>e(t))}function lC(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function hC(t){return null!=t?function(t){if(!t)return null;const e=t.filter(oC);return 0==e.length?null:function(t){return cC(uC(t,e))}}(lC(t)):null}function dC(t){return null!=t?function(t){if(!t)return null;const e=t.filter(oC);return 0==e.length?null:function(t){return ZE(uC(t,e).map(aC)).pipe(Object($t.a)(cC))}}(lC(t)):null}function fC(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let pC=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=hC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})(),mC=(()=>{class t extends pC{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return gC(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.zb]}),t})();const gC=r.Vb(mC);class yC extends pC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bC{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let vC=(()=>{class t extends bC{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(yC,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})(),_C=(()=>{class t extends bC{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(mC,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();function wC(t,e){EC(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&CC(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&CC(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function SC(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function EC(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(fC(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(fC(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();SC(e._rawValidators,n),SC(e._rawAsyncValidators,n)}}function CC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function OC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const TC="VALID",IC="INVALID",xC="PENDING",kC="DISABLED";function AC(t){return(PC(t)?t.validators:t)||null}function jC(t){return Array.isArray(t)?hC(t):t||null}function RC(t,e){return(PC(e)?e.asyncValidators:t)||null}function DC(t){return Array.isArray(t)?dC(t):t||null}function PC(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class NC{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=jC(this._rawValidators),this._composedAsyncValidatorFn=DC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===TC}get invalid(){return this.status===IC}get pending(){return this.status==xC}get disabled(){return this.status===kC}get enabled(){return this.status!==kC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=jC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=DC(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xC,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kC,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=TC,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==TC&&this.status!==xC||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kC:TC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xC,this._hasOwnPendingAsyncValidator=!0;const e=aC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof LC?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof FC&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?kC:this.errors?IC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xC)?xC:this._anyControlsHaveStatus(IC)?IC:TC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){PC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class MC extends NC{constructor(t=null,e,n){super(AC(e),RC(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){OC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){OC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class LC extends NC{constructor(t,e,n){super(AC(e),RC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof MC?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class FC extends NC{constructor(t,e,n){super(AC(e),RC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof MC?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const VC={provide:mC,useExisting:Object(r.V)(()=>BC)},UC=(()=>Promise.resolve(null))();let BC=(()=>{class t extends mC{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new LC({},hC(t),dC(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){UC.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),wC(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){UC.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),OC(this._directives,t)})}addFormGroup(t){UC.then(()=>{const e=this._findContainer(t.path),n=new LC({});(function(t,e){EC(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){UC.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){UC.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(iC,10),r.Ob(sC,10))},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.dc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([VC]),r.zb]}),t})();const qC={provide:yC,useExisting:Object(r.V)(()=>HC)},zC=(()=>Promise.resolve(null))();let HC=(()=>{class t extends yC{constructor(t,e,n,i){super(),this.control=new MC,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===rC?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){zC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;zC.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(mC,9),r.Ob(iC,10),r.Ob(sC,10),r.Ob(tC,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Bb([qC]),r.zb,r.Ab]}),t})(),KC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),$C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();const WC={provide:iC,useExisting:Object(r.V)(()=>GC),multi:!0};let GC=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return null==(e=t.value)||0===e.length?{required:!0}:null;var e}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("required",e.required?"":null)},inputs:{required:"required"},features:[r.Bb([WC])]}),t})(),QC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[$C]]}),t})(),YC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[QC]}),t})();const XC=["*"],ZC=["dialog"];function JC(t){return null!=t}function tO(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const eO={animation:!0,transitionTimerDelayMs:5};let nO=(()=>{class t{constructor(){this.animation=eO.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const rO=()=>{},{transitionTimerDelayMs:iO}=eO,sO=new Map,oO=(t,e,n,r)=>{let i=r.context||{};const s=sO.get(e);if(s)switch(r.runningTransition){case"continue":return zt.a;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),sO.delete(e)}const o=n(e,r.animation,i)||rO;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),Object(Et.a)(void 0).pipe(function(t){return e=>new Dt.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new Ct.a,c=new Ct.a,u=a.pipe(function(...t){return e=>qt(e,Object(Et.a)(...t))}(!0));sO.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=xE(e,"transitionend").pipe(qE(u),se(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(xt.a)(t[0]))return t[0];t=t[0]}return Object(Nt.a)(t,void 0).lift(new DE)})(jE(l+iO).pipe(qE(u)),n,c).pipe(qE(u)).subscribe(()=>{sO.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let aO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),cO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),uO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),lO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),hO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();var dO=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const fO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function pO(t){const e=Array.from(t.querySelectorAll(fO)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=o.top-(e.offsetHeight+c+u);break;case"bottom":d=o.top+o.height;break;case"left":f=o.left-(e.offsetWidth+l+h);break;case"right":f=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":f=o.left;break;case"right":f=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,y=window.innerWidth||m.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=g}},new Date(1882,10,12),new Date(2174,10,25);let mO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U,YC]]}),t})(),gO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),yO=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.ac(nO))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(nO))},token:t,providedIn:"root"}),t})();class bO{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const vO=()=>{};let _O=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):vO}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(o))},token:t,providedIn:"root"}),t})(),wO=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Zt(1)).subscribe(()=>{oO(this._zone,this._el.nativeElement,(t,e)=>{e&&tO(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return oO(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Eb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Gb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class SO{close(t){}dismiss(t){}}class EO{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Ct.a,this._dismissed=new Ct.a,this._hidden=new Ct.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(qE(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(qE(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Et.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ME(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var CO=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let OO=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Ct.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new Ct.a,this.hidden=new Ct.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Zt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=ME(oO(this._zone,t,()=>t.classList.remove("show"),e),oO(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};ME(oO(this._zone,this._elRef.nativeElement,(t,e)=>{e&&tO(t),t.classList.add("show")},t),oO(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{xE(t,"keydown").pipe(qE(this._closed$),se(t=>t.which===dO.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(CO.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;xE(this._dialogEl.nativeElement,"mousedown").pipe(qE(this._closed$),Object(Oe.a)(()=>e=!1),Gt(()=>xE(t,"mouseup").pipe(qE(this._closed$),Zt(1))),se(({target:e})=>t===e)).subscribe(()=>{e=!0}),xE(t,"click").pipe(qE(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(CO.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=pO(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&oO(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(o),r.Ob(r.l),r.Ob(r.A))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Dc(ZC,3),2&t){let t;r.qc(t=r.ec())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Db("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Eb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Gb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:XC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.jc(),r.Tb(0,"div",0,1),r.Tb(2,"div",2),r.ic(3),r.Sb(),r.Sb()),2&t&&r.Eb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),TO=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new Ct.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=xE(e,"focusin").pipe(qE(n),Object($t.a)(t=>t.target));xE(e,"keydown").pipe(qE(n),se(t=>t.which===dO.Tab),KE(t)).subscribe(([t,n])=>{const[r,i]=pO(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&xE(e,"click").pipe(qE(n),KE(t),Object($t.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:JC(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new SO,u=this._getContentRef(t,r.injector||e,n,c,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,u),d=new EO(h,u,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(wO).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(OO).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{JC(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{JC(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.M?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new bO([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new bO([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new bO([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:SO,useValue:i}],parent:e}),c=o.create(a),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new bO([[u]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.g),r.ac(r.s),r.ac(o),r.ac(_O),r.ac(r.G),r.ac(r.A))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(r.g),Object(r.ac)(r.o),Object(r.ac)(o),Object(r.ac)(_O),Object(r.ac)(r.G),Object(r.ac)(r.A))},token:t,providedIn:"root"}),t})(),IO=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.j),r.ac(r.s),r.ac(TO),r.ac(yO))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(r.j),Object(r.ac)(r.o),Object(r.ac)(TO),Object(r.ac)(yO))},token:t,providedIn:"root"}),t})(),xO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[IO]}),t})(),kO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),AO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),jO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),RO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),DO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),PO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),NO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})(),MO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();new r.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let LO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U]]}),t})();const FO=[aO,cO,uO,lO,hO,mO,gO,xO,kO,AO,jO,RO,DO,PO,NO,MO,LO];let VO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[FO,aO,cO,uO,lO,hO,mO,gO,xO,kO,AO,jO,RO,DO,PO,NO,MO,LO]}),t})();function UO(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",22),r.Tb(1,"h1",23),r.zc(2,"Sign Up"),r.Sb(),r.Tb(3,"button",24),r.dc("click",function(){return e.$implicit.dismiss()}),r.Tb(4,"span",25),r.zc(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",26),r.Tb(7,"form",10,27),r.dc("ngSubmit",function(){return r.tc(t),r.fc().onSignUp()}),r.Tb(9,"div",28),r.Tb(10,"div",29),r.Tb(11,"label",30),r.zc(12,"Username"),r.Sb(),r.Tb(13,"input",31),r.dc("ngModelChange",function(e){return r.tc(t),r.fc().username=e}),r.Sb(),r.Sb(),r.Tb(14,"div",29),r.Tb(15,"label",32),r.zc(16,"Email"),r.Sb(),r.Tb(17,"input",33),r.dc("ngModelChange",function(e){return r.tc(t),r.fc().email=e}),r.Sb(),r.Sb(),r.Sb(),r.Tb(18,"div",28),r.Tb(19,"div",29),r.Tb(20,"label",34),r.zc(21,"Password"),r.Sb(),r.Tb(22,"input",35),r.dc("ngModelChange",function(e){return r.tc(t),r.fc().password=e}),r.Sb(),r.Sb(),r.Tb(23,"div",29),r.Tb(24,"label",36),r.zc(25,"Repeat password"),r.Sb(),r.Pb(26,"input",37),r.Sb(),r.Sb(),r.Tb(27,"div",38),r.Pb(28,"input",39),r.Tb(29,"label",40),r.zc(30,"Agree to terms and conditions"),r.Sb(),r.Sb(),r.Tb(31,"div",41),r.Tb(32,"button",42),r.zc(33,"Sign up"),r.Sb(),r.Tb(34,"button",43),r.dc("click",function(){r.tc(t);const n=e.$implicit,i=r.fc();return n.close(),i.clearForm()}),r.zc(35,"Cancel"),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.rc(8),e=r.fc();r.Cb(13),r.kc("ngModel",e.username),r.Cb(4),r.kc("ngModel",e.email),r.Cb(5),r.kc("ngModel",e.password),r.Cb(10),r.kc("disabled",!t.form.valid)}}let BO=(()=>{class t{constructor(t,e,n){this.authService=t,this.router=e,this.modal=n,this.islogged=!1,this.email="daniel@hotmail.es",this.password="123456",this.username="Daniel"}ngOnInit(){}openModal(t){this.modal.open(t,{size:"lg",centered:!0})}onSignUp(){this.authService.signUp(this.username,this.email,this.password).then(t=>{this.modal.dismissAll()}).catch(t=>{console.log(t)})}onSignIn(){this.authService.signIn(this.email,this.password).then(t=>{}).catch(t=>{console.log(t)})}clearForm(){this.email="",this.username="",this.password=""}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(TE),r.Ob(ri),r.Ob(IO))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-login"]],decls:36,vars:2,consts:[[1,"containerLogin"],[1,"myrow"],[1,"text-center"],[1,"vl"],[1,"inner"],[1,"mycol"],["href","",1,"fb","btn"],["href","",1,"twitter","btn"],["href","",1,"google","btn"],[1,"hide-md-lg"],[3,"ngSubmit"],["signInForm","ngForm"],["type","email","id","email","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["type","password","id","password","name","password","placeholder","Password","required","",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success"],[1,"bottom-container"],[1,"row","mx-0"],[1,"col"],[1,"text-white"],[1,"text-white",3,"click"],["href","",1,"text-white"],["signUpModal",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["signUpForm","ngForm"],[1,"form-group","row"],[1,"col-md-6","col-12","mb-3"],["for","username"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password2"],["type","password","id","password2","name","password2","required","",1,"form-control"],[1,"form-group","form-check"],["type","checkbox","id","check","name","check","required","",1,"form-check-input"],["for","check",1,"form-check-label"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"h2",2),r.zc(3,"Login with Social Media or Manually"),r.Sb(),r.Tb(4,"div",3),r.Tb(5,"span",4),r.zc(6,"or"),r.Sb(),r.Sb(),r.Tb(7,"div",5),r.Tb(8,"a",6),r.zc(9," Login with Facebook "),r.Sb(),r.Tb(10,"a",7),r.zc(11," Login with Twitter "),r.Sb(),r.Tb(12,"a",8),r.zc(13," Login with Google+ "),r.Sb(),r.Sb(),r.Tb(14,"div",5),r.Tb(15,"div",9),r.Tb(16,"p"),r.zc(17,"Or sign in manually:"),r.Sb(),r.Sb(),r.Tb(18,"form",10,11),r.dc("ngSubmit",function(){return e.onSignIn()}),r.Tb(20,"input",12),r.dc("ngModelChange",function(t){return e.email=t}),r.Sb(),r.Tb(21,"input",13),r.dc("ngModelChange",function(t){return e.password=t}),r.Sb(),r.Tb(22,"button",14),r.zc(23,"Login"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(24,"div",15),r.Tb(25,"div",16),r.Tb(26,"div",17),r.Tb(27,"p",18),r.zc(28,"Don\u2019t you have an account? "),r.Tb(29,"a",19),r.dc("click",function(){r.tc(t);const n=r.rc(35);return e.openModal(n)}),r.zc(30,"Sign up"),r.Sb(),r.Sb(),r.Sb(),r.Tb(31,"div",17),r.Tb(32,"a",20),r.zc(33,"Forgot password?"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.xc(34,UO,36,4,"ng-template",null,21,r.yc)}2&t&&(r.Cb(20),r.kc("ngModel",e.email),r.Cb(1),r.kc("ngModel",e.password))},directives:[KC,_C,BC,rC,GC,vC,HC],styles:['.containerLogin[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;background-color:rgba(17,17,17,.06666666666666667);padding-top:20px;position:relative}.containerLogin[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .containerLogin[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;margin:5px 0;opacity:.85;display:inline-block;font-size:17px;line-height:20px;text-decoration:none}.containerLogin[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .containerLogin[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1}.containerLogin[_ngcontent-%COMP%]   .fb[_ngcontent-%COMP%]{background-color:#3b5998;color:#fff}.containerLogin[_ngcontent-%COMP%]   .twitter[_ngcontent-%COMP%]{background-color:#55acee;color:#fff}.containerLogin[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]{background-color:#dd4b39;color:#fff}.containerLogin[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;cursor:pointer}.containerLogin[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}.containerLogin[_ngcontent-%COMP%]   .mycol[_ngcontent-%COMP%]{float:left;width:50%;padding:0 50px;margin:6px auto auto}.containerLogin[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.containerLogin[_ngcontent-%COMP%]   .vl[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);border:2px solid #ddd;height:175px}.containerLogin[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translate(-50%,-50%);background-color:#f1f1f1;border:1px solid #ccc;border-radius:50%;padding:10px 14px}.containerLogin[_ngcontent-%COMP%]   .hide-md-lg[_ngcontent-%COMP%]{display:none}.containerLogin[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{text-align:center;background-color:#666;border-radius:0 0 5px 5px;padding-top:10px;font-size:16px;margin-top:20px}.containerSignUp[_ngcontent-%COMP%]{border-radius:5px;background-color:#f2f2f2;padding:20px}@media screen and (max-width:650px){.col[_ngcontent-%COMP%]{width:100%;margin-top:0}.vl[_ngcontent-%COMP%]{display:none}.hide-md-lg[_ngcontent-%COMP%]{display:block;text-align:center}}']}),t})(),qO=(()=>{class t{constructor(){this.users=[{idUser:"1",email:"dassdsad",username:"daniel"},{idUser:"2",email:"dassdsad",username:"maria"},{idUser:"3",email:"dassdsad",username:"sofia"},{idUser:"4",email:"dassdsad",username:"david"},{idUser:"5",email:"dassdsad",username:"juan"}],this.messages=[{user:"Daniel",content:"hola",date:"14.00"},{user:"David",content:"hola",date:"14.00"},{user:"Daniel",content:"como estas?",date:"14.00"},{user:"David",content:"bien, y tu?",date:"14.00"},{user:"Daniel",content:"bien, gracias",date:"14.00"}],this.sendMessagesSubject=new Ct.a,this.sendMessagesObservable=this.sendMessagesSubject.asObservable()}sendMessage(t){this.messages.push({user:"Daniel",content:t,date:"13.00"})}getMessages(){return this.messages}getUsers(){}loadAll(){this.messages.forEach(t=>{this.sendMessagesSubject.next()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zO=n("z6cu");class HO{}class KO{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof KO?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new KO;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof KO?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $O{encodeKey(t){return WO(t)}encodeValue(t){return WO(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function WO(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class GO{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $O,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new GO({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function QO(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function YO(t){return"undefined"!=typeof Blob&&t instanceof Blob}function XO(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ZO{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new KO),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new GO,this.urlWithParams=e}serializeBody(){return null===this.body?null:QO(this.body)||YO(this.body)||XO(this.body)||"string"==typeof this.body?this.body:this.body instanceof GO?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XO(this.body)?null:YO(this.body)?this.body.type||null:QO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof GO?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new ZO(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var JO=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class tT extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new KO,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=JO.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new tT({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function eT(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let nT=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof ZO)r=t;else{let i,s;i=n.headers instanceof KO?n.headers:new KO(n.headers),n.params&&(s=n.params instanceof GO?n.params:new GO({fromObject:n.params})),r=new ZO(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Et.a)(r).pipe(de(t=>this.handler.handle(t)));if(t instanceof ZO||"events"===n.observe)return i;const s=i.pipe(se(t=>t instanceof tT));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object($t.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object($t.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object($t.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object($t.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new GO).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,eT(n,e))}post(t,e,n={}){return this.request("POST",t,eT(n,e))}put(t,e,n={}){return this.request("PUT",t,eT(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(HO))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const rT=["*"];function iT(t){return Error(`Unable to find icon with the name "${t}"`)}function sT(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function oT(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class aT{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let cT=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new aT(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.J.HTML,n);if(!s)throw oT(n);return this._addSvgIconConfig(t,e,new aT("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new aT(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.J.HTML,e);if(!i)throw oT(e);return this._addSvgIconSetConfig(t,new aT("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.J.RESOURCE_URL,t);if(!e)throw sT(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Et.a)(uT(n)):this._loadSvgIconFromConfig(new aT(t,null)).pipe(Object(Oe.a)(t=>this._cachedIconsByUrl.set(e,t)),Object($t.a)(t=>uT(t)))}getNamedSvgIcon(t,e=""){const n=lT(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(zO.a)(iT(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Et.a)(uT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object($t.a)(t=>uT(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Et.a)(n):ZE(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(ce(e=>{const n=this._sanitizer.sanitize(r.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Et.a)(null)})))).pipe(Object($t.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw iT(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Oe.a)(e=>t.svgText=e),Object($t.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Et.a)(null):this._fetchIcon(t).pipe(Object(Oe.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.J.RESOURCE_URL,n);if(!o)throw sT(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(xe(()=>this._inProgressUrlFetches.delete(o)),Object(YE.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(lT(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new aT(i.url,null,i.options):new aT(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.ac(nT,8),r.ac(gt),r.ac(o,8),r.ac(r.m))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(nT,8),Object(r.ac)(gt),Object(r.ac)(o,8),Object(r.ac)(r.m))},token:t,providedIn:"root"}),t})();function uT(t){return t.cloneNode(!0)}function lT(t,e){return t+":"+e}class hT{constructor(t){this._elementRef=t}}const dT=iE(hT),fT=new r.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.W)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),pT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],mT=pT.map(t=>`[${t}]`).join(", "),gT=/^url\(['"]?#(.*?)['"]?\)$/;let yT=(()=>{class t extends dT{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Ie.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=jv(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(mT),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)pT.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(gT):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Zt(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(cT),r.bc("aria-hidden"),r.Ob(fT),r.Ob(r.m))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Db("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Gb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.zb],ngContentSelectors:rT,decls:1,vars:0,template:function(t,e){1&t&&(r.jc(),r.ic(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),bT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[nE],nE]}),t})();function vT(t,e){if(1&t&&(r.Tb(0,"ul"),r.zc(1),r.Tb(2,"li",6),r.zc(3),r.Sb(),r.Sb()),2&t){const t=e.$implicit,n=e.last,i=r.fc();r.Cb(1),r.Bc(" ",n?i.autoScroll():""," "),r.Cb(2),r.Ac(t.content)}}let _T=(()=>{class t{constructor(t){this.syncronizeData=t,this.messageDavid="david",this.updateMessages=new r.n,this.message=""}ngOnInit(){this.syncronizeData.sendMessagesObservable.subscribe(t=>{this.messages=t})}sendMessage(t){this.syncronizeData.sendMessage(t)}getMessages(){this.messages=this.syncronizeData.getMessages()}autoScroll(){document.getElementById("chat").scroll({left:0,top:document.getElementById("chat").scrollHeight,behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(qO))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-david"]],inputs:{messageDavid:"messageDavid"},outputs:{updateMessages:"updateMessages"},decls:12,vars:1,consts:[["id","chat",1,"chat"],[4,"ngFor","ngForOf"],["type","text","id","message","name","message"],["messageInput",""],["mat-icon-button","",3,"click"],[3,"click"],[1,"word-wrap"]],template:function(t,e){if(1&t){const t=r.Ub();r.Tb(0,"h3"),r.zc(1,"Soy david"),r.Sb(),r.Tb(2,"div",0),r.xc(3,vT,4,2,"ul",1),r.Sb(),r.Pb(4,"input",2,3),r.Tb(6,"button",4),r.dc("click",function(){r.tc(t);const n=r.rc(5);return e.sendMessage(n.value),n.value=""}),r.Tb(7,"mat-icon"),r.zc(8,"send"),r.Sb(),r.Sb(),r.Tb(9,"button",5),r.dc("click",function(){return e.getMessages()}),r.zc(10,"get"),r.Sb(),r.Pb(11,"hr")}2&t&&(r.Cb(3),r.kc("ngForOf",e.messages))},directives:[A,wE,yT],styles:[".chat[_ngcontent-%COMP%]{height:300px;position:relative;overflow:scroll;overflow-x:hidden}.word-grap[_ngcontent-%COMP%]{word-wrap:break-word}"]}),t})();function wT(t,e){if(1&t&&(r.Tb(0,"ul"),r.zc(1),r.Tb(2,"li",5),r.zc(3),r.Sb(),r.Sb()),2&t){const t=e.$implicit,n=e.last,i=r.fc();r.Cb(1),r.Bc(" ",n?i.autoScroll():""," "),r.Cb(2),r.Ac(t.content)}}let ST=(()=>{class t{constructor(t){this.syncronizeData=t,this.messageMaria="maria",this.updateMessages=new r.n}ngOnInit(){this.messages=this.syncronizeData.getMessages(),this.syncronizeData.sendMessagesObservable.subscribe(t=>{this.messages=t})}sendMessage(t){this.syncronizeData.sendMessage(t)}autoScroll(){document.getElementById("chat2").scroll({left:0,top:document.getElementById("chat2").scrollHeight,behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(qO))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-maria"]],inputs:{messageMaria:"messageMaria"},outputs:{updateMessages:"updateMessages"},decls:10,vars:1,consts:[["id","chat2",1,"chat"],[4,"ngFor","ngForOf"],["type","text","id","message","name","message"],["messageInput",""],["mat-icon-button","",3,"click"],[1,"word-wrap"]],template:function(t,e){if(1&t){const t=r.Ub();r.Tb(0,"h3"),r.zc(1,"Soy maria"),r.Sb(),r.Tb(2,"div",0),r.xc(3,wT,4,2,"ul",1),r.Sb(),r.Pb(4,"input",2,3),r.Tb(6,"button",4),r.dc("click",function(){r.tc(t);const n=r.rc(5);return e.sendMessage(n.value),n.value=""}),r.Tb(7,"mat-icon"),r.zc(8,"send"),r.Sb(),r.Sb(),r.Pb(9,"hr")}2&t&&(r.Cb(3),r.kc("ngForOf",e.messages))},directives:[A,wE,yT],styles:[".chat[_ngcontent-%COMP%]{height:300px;position:relative;overflow:scroll;overflow-x:hidden}.word-grap[_ngcontent-%COMP%]{word-wrap:break-word}"]}),t})(),ET=(()=>{class t{constructor(){this.message="mensaje"}ngOnInit(){}sendMessage(){this.message="desde servidor"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-server"]],decls:14,vars:1,consts:[[3,"click"],[1,"chatArea"],[1,"row","mx-0"],[1,"col-6"]],template:function(t,e){1&t&&(r.Tb(0,"h1"),r.zc(1,"Server Component"),r.Sb(),r.Pb(2,"hr"),r.Tb(3,"h3"),r.zc(4),r.Sb(),r.Tb(5,"button",0),r.dc("click",function(){return e.sendMessage()}),r.zc(6,"sendMessage"),r.Sb(),r.Pb(7,"hr"),r.Tb(8,"div",1),r.Tb(9,"div",2),r.Tb(10,"div",3),r.Pb(11,"app-david"),r.Sb(),r.Tb(12,"div",3),r.Pb(13,"app-maria"),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Cb(4),r.Ac(e.message))},directives:[_T,ST],styles:[""]}),t})(),CT=(()=>{class t{constructor(t){this.fs=t,this.roomsList=t.collection("chatroom")}getRooms(){return this.rooms=this.roomsList.snapshotChanges().pipe(Object($t.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.key=t.payload.doc.id,e}))),this.rooms}getRoom(t){return this.fs.collection("chatroom",e=>e.where("idRoom","==",t)).valueChanges()}newChatRoom(t){const e=this.fs.createId();var n={key:e,idRoom:t,users:[],messages:[]};this.setCurrentRoom(n),this.fs.doc(`chatroom/${e}`).set(n)}setCurrentRoom(t){this.currentRoom={key:t.key,idRoom:t.idRoom,users:t.users,messages:t.messages}}setNewUser(t){var e=!0;this.currentRoom.users.forEach(n=>{n.email==t.email&&(e=!1)}),e&&(this.currentRoom.users.push(t),this.roomsList.ref.doc(this.currentRoom.key).update(this.currentRoom))}removeUserChat(t){var e=[];this.currentRoom.users.forEach(n=>{n.email!==t.email&&e.push(n)}),this.currentRoom.users=e,this.roomsList.ref.doc(this.currentRoom.key).update(this.currentRoom)}sendMessage(t){this.currentRoom.messages.push(t),this.roomsList.ref.doc(this.currentRoom.key).update(this.currentRoom)}updateRoom(t){this.roomsList.ref.doc(t.key).update(t)}deleteRoom(t){this.roomsList.doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Tv))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const OT=["messageInput"];function TT(t,e){if(1&t&&(r.Tb(0,"div",10),r.Tb(1,"mat-icon"),r.zc(2,"person"),r.Sb(),r.Tb(3,"span",11),r.zc(4),r.Sb(),r.Sb()),2&t){const t=e.$implicit;r.Cb(4),r.Ac(t.username)}}function IT(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div"),r.Tb(1,"button",12),r.dc("click",function(){return r.tc(t),r.fc().exitChatRoom()}),r.zc(2,"Exit Chat"),r.Sb(),r.Sb()}}function xT(t,e){if(1&t){const t=r.Ub();r.Tb(0,"button",12),r.dc("click",function(){return r.tc(t),r.fc().joinChatRoom()}),r.zc(1,"Join Chat"),r.Sb()}}function kT(t,e){1&t&&(r.Tb(0,"span",19),r.zc(1,"Me"),r.Sb())}function AT(t,e){if(1&t&&(r.Tb(0,"span",19),r.zc(1),r.Sb()),2&t){const t=r.fc().$implicit;r.Cb(1),r.Ac(t.user)}}function jT(t,e){if(1&t&&(r.Tb(0,"div",13),r.zc(1),r.Tb(2,"div",14),r.Tb(3,"div",15),r.xc(4,kT,2,0,"span",16),r.xc(5,AT,2,1,"span",16),r.Tb(6,"span",17),r.zc(7),r.Sb(),r.Tb(8,"p",18),r.zc(9),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){const t=e.$implicit,n=e.last,i=r.fc();r.Cb(1),r.Bc(" ",n?i.autoScroll():""," "),r.Cb(2),r.kc("ngClass",t.user===i.username?"right-bubble":"left-bubble"),r.Cb(1),r.kc("ngIf",t.user===i.username),r.Cb(1),r.kc("ngIf",t.user!==i.username),r.Cb(2),r.Bc(" at ",t.date,""),r.Cb(2),r.Ac(t.content)}}function RT(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div"),r.Tb(1,"div",0),r.Tb(2,"div",20),r.Tb(3,"form",21,22),r.dc("ngSubmit",function(){r.tc(t);const e=r.rc(6);return r.fc().onSubmit(e.value)}),r.Tb(5,"input",23,24),r.dc("ngModelChange",function(e){return r.tc(t),r.fc().message=e}),r.Sb(),r.Tb(7,"button",25),r.Tb(8,"mat-icon"),r.zc(9,"send"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.rc(4),e=r.fc();r.Cb(5),r.kc("ngModel",e.message),r.Cb(2),r.kc("disabled",!t.form.valid)}}const DT=[{path:"home",component:OE},{path:"login",component:BO},{path:"david",component:_T},{path:"maria",component:ST},{path:"server",component:ET},{path:"chatroom/:id",component:(()=>{class t{constructor(t,e,n){this.route=t,this.roomService=e,this.authService=n,this.message="",this.username="",this.isJoinChat=!1}ngOnInit(){this.getChatRoom()}getChatRoom(){const t=parseInt(this.route.snapshot.paramMap.get("id"));this.roomService.getRoom(t).subscribe(e=>{0==e.length?this.roomService.newChatRoom(t):(this.users=e[0].users,this.messages=e[0].messages,this.room=e[0],this.roomService.setCurrentRoom(e[0])),this.username=this.authService.currentUser.username})}joinChatRoom(){this.roomService.setNewUser(this.authService.currentUser),this.isJoinChat=!0}onSubmit(t){var e=(new Date).toLocaleTimeString().split(":",2).join(":");this.roomService.sendMessage({user:this.authService.currentUser.username,content:t,date:e}),this.autoScroll(),this.messageInput.nativeElement.value=""}autoScroll(){document.getElementById("chat-pane").scroll({left:0,top:document.getElementById("chat-pane").scrollHeight,behavior:"smooth"})}exitChatRoom(){this.roomService.removeUserChat(this.authService.currentUser),this.isJoinChat=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Ln),r.Ob(CT),r.Ob(TE))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-chatroom"]],viewQuery:function(t,e){if(1&t&&r.Dc(OT,1),2&t){let t;r.qc(t=r.ec())&&(e.messageInput=t.first)}},decls:11,vars:5,consts:[[1,"row","mx-0"],[1,"col-2"],[1,"users-pane"],["class","users-card",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["noJoinChat",""],[1,"col-10"],["id","chat-pane",1,"chat-pane"],["class","message-box",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"users-card"],[1,"username"],["mat-button","",3,"click"],[1,"message-box"],[1,"chat-message"],[1,"rigth-bubble",3,"ngClass"],["class","msg-name",4,"ngIf"],[1,"msg-date"],[1,"word-grap"],[1,"msg-name"],[1,"d-flex","justify-content-end"],[2,"width","80%",3,"ngSubmit"],["messageForm","ngForm"],["placeholder","Write message here","name","message","required","",1,"messageInput",3,"ngModel","ngModelChange"],["messageInput",""],["type","submit","mat-icon-button","",3,"disabled"]],template:function(t,e){if(1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.xc(3,TT,5,1,"div",3),r.xc(4,IT,3,0,"div",4),r.xc(5,xT,2,0,"ng-template",null,5,r.yc),r.Sb(),r.Sb(),r.Tb(7,"div",6),r.Tb(8,"div",7),r.xc(9,jT,10,6,"div",8),r.Sb(),r.Sb(),r.Sb(),r.xc(10,RT,10,2,"div",9)),2&t){const t=r.rc(6);r.Cb(3),r.kc("ngForOf",e.users),r.Cb(1),r.kc("ngIf",e.isJoinChat)("ngIfElse",t),r.Cb(5),r.kc("ngForOf",e.messages),r.Cb(1),r.kc("ngIf",e.isJoinChat)}},directives:[A,R,yT,wE,x,KC,_C,BC,rC,GC,vC,HC],styles:['.chat-pane[_ngcontent-%COMP%], .users-pane[_ngcontent-%COMP%]{height:500px;position:relative;overflow:scroll;overflow-x:hidden}.users-card[_ngcontent-%COMP%]{margin:5px 20px}.username[_ngcontent-%COMP%]{position:absolute;margin-top:5px;margin-left:10px}.message-box[_ngcontent-%COMP%]{float:left;width:98%;margin:5px 0 0 2%}.chat-message[_ngcontent-%COMP%]{width:80%;min-height:40px}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]{position:relative;background:#dcf8c6;border-radius:.4em 0 .4em .4em;padding:5px 10px 10px;left:15%}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]   span.msg-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:green}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]   span.msg-date[_ngcontent-%COMP%]{font-size:10px}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:13px;width:0;height:0;border:27px solid transparent;border-left-color:#dcf8c6;border-right:0;border-top:0;margin-top:-13.5px;margin-right:-27px}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]{position:relative;background:#add8e6;border-top-right-radius:.4em;border-bottom-left-radius:.4em;border-bottom-right-radius:.4em;padding:5px 10px 10px;left:5%}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]   span.msg-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00f}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]   span.msg-date[_ngcontent-%COMP%]{font-size:10px}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:13px;width:0;height:0;border:27px solid transparent;border-right-color:#add8e6;border-left:0;border-top:0;margin-top:-13.5px;margin-left:-27px}.chat-message[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]{min-height:49px}.chat-message[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]   .chat-date[_ngcontent-%COMP%]{display:block;font-size:10px;font-style:italic;color:#fff;text-shadow:0 -1px 0 #222,0 1px 0 #aaa;height:15px;left:10%;right:10%}.chat-message[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]   .chat-content-center[_ngcontent-%COMP%]{padding:5px 10px;background-color:#e1e1f7;border-radius:6px;font-size:12px;color:#555;height:34px;left:10%;right:10%}.word-grap[_ngcontent-%COMP%]{word-wrap:break-word}.messageInput[_ngcontent-%COMP%]{width:80%;height:30px}']}),t})(),canActivate:[(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return console.log(this.authService.currentUser,"guard"),null==localStorage.getItem("user")&&(console.log("no logged"),this.router.navigate(["/login"])),!0}}return t.\u0275fac=function(e){return new(e||t)(r.ac(TE),r.ac(ri))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"**",component:OE}];let PT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[pi.forRoot(DT)],pi]}),t})(),NT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[U,bT,EE]]}),t})();const MT=["*",[["mat-toolbar-row"]]],LT=["*","mat-toolbar-row"];class FT{constructor(t){this._elementRef=t}}const VT=iE(FT);let UT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),BT=(()=>{class t extends VT{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(Fv),r.Ob(o))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Hb(n,UT,1),2&t){let t;r.qc(t=r.ec())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Gb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.zb],ngContentSelectors:LT,decls:2,vars:0,template:function(t,e){1&t&&(r.jc(MT),r.ic(0),r.ic(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),qT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[nE],nE]}),t})();n("3N8a"),n("IjjT"),n("7Hc7");class zT{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new HT(t,this.durationSelector))}}class HT extends Wt.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Wt.c)(n,new Wt.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function KT(t,e=Ei.a){return n=()=>jE(t,e),function(t){return t.lift(new zT(n))};var n}let $T=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Ct.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Dt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(KT(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Et.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(se(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Pv(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.A),r.ac(Fv),r.ac(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(r.A),Object(r.ac)(Fv),Object(r.ac)(o,8))},token:t,providedIn:"root"}),t})(),WT=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Ct.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(KT(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Fv),r.ac(r.A),r.ac(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(Fv),Object(r.ac)(r.A),Object(r.ac)(o,8))},token:t,providedIn:"root"}),t})(),GT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),QT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[d_,Vv,GT],d_,GT]}),t})();class YT{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class XT extends YT{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class ZT extends YT{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class JT extends YT{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class tI extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof XT?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ZT?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof JT?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let eI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();const nI=Bv();class rI{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Dv(-this._previousScrollPosition.left),t.style.top=Dv(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),nI&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),nI&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class iI{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class sI{enable(){}disable(){}attach(){}}function oI(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function aI(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class cI{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();oI(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let uI=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new sI,this.close=t=>new iI(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new rI(this._viewportRuler,this._document),this.reposition=t=>new cI(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.ac($T),r.ac(WT),r.ac(r.A),r.ac(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)($T),Object(r.ac)(WT),Object(r.ac)(r.A),Object(r.ac)(o))},token:t,providedIn:"root"}),t})();class lI{constructor(t){if(this.scrollStrategy=new sI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class hI{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class dI{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let fI=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(o))},token:t,providedIn:"root"}),t})(),pI=(()=>{class t extends fI{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(o))},token:t,providedIn:"root"}),t})(),mI=(()=>{class t extends fI{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o),r.ac(Fv))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(o),Object(r.ac)(Fv))},token:t,providedIn:"root"}),t})();const gI=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let yI=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||gI){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),gI?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.ac(o),r.ac(Fv))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(o),Object(r.ac)(Fv))},token:t,providedIn:"root"}),t})();class bI{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ct.a,this._attachments=new Ct.a,this._detachments=new Ct.a,this._locationChanges=Ie.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Ct.a,this._outsidePointerEvents=new Ct.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Zt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Dv(this._config.width),t.height=Dv(this._config.height),t.minWidth=Dv(this._config.minWidth),t.minHeight=Dv(this._config.minHeight),t.maxWidth=Dv(this._config.maxWidth),t.maxHeight=Dv(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Rv(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(qE(Object(Qb.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const vI="cdk-overlay-connected-position-bounding-box",_I=/([A-Za-z%]+)$/;class wI{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ct.a,this._resizeSubscription=Ie.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(vI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&SI(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=CI(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let u=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=EI(this._overlayRef.getConfig().minHeight),o=EI(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=CI(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new dI(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Dv(n.height),r.top=Dv(n.top),r.bottom=Dv(n.bottom),r.width=Dv(n.width),r.left=Dv(n.left),r.right=Dv(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Dv(t)),i&&(r.maxWidth=Dv(i))}this._lastBoundingBoxSize=n,SI(this._boundingBox.style,r)}_resetBoundingBoxStyles(){SI(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){SI(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();SI(n,this._getExactOverlayY(e,t,r)),SI(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Dv(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Dv(s.maxWidth):i&&(n.maxWidth="")),SI(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Dv(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Dv(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:aI(t,n),isOriginOutsideView:oI(t,n),isOverlayClipped:aI(e,n),isOverlayOutsideView:oI(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Rv(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function SI(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function EI(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(_I);return n&&"px"!==n?null:parseFloat(e)}return t||null}function CI(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class OI{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new wI(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new hI(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const TI="cdk-global-overlay-wrapper";class II{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(TI),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(TI),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let xI=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new II}connectedTo(t,e,n){return new OI(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new wI(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(WT),r.ac(o),r.ac(Fv),r.ac(yI))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(WT),Object(r.ac)(o),Object(r.ac)(Fv),Object(r.ac)(yI))},token:t,providedIn:"root"}),t})(),kI=0,AI=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new lI(t);return i.direction=i.direction||this._directionality.value,new bI(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+kI++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new tI(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(uI),r.ac(yI),r.ac(r.j),r.ac(xI),r.ac(pI),r.ac(r.s),r.ac(r.A),r.ac(o),r.ac(h_),r.ac(w),r.ac(mI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const jI={provide:new r.r("cdk-connected-overlay-scroll-strategy"),deps:[AI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let RI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[AI,jI],imports:[[d_,eI,QT],QT]}),t})();const DI=new Set;let PI,NI=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):MI}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!DI.has(t))try{PI||(PI=document.createElement("style"),PI.setAttribute("type","text/css"),document.head.appendChild(PI)),PI.sheet&&(PI.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),DI.add(t))}catch(Hb){console.error(Hb)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Fv))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(Fv))},token:t,providedIn:"root"}),t})();function MI(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let LI=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new Ct.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return FI(Rv(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Lt(FI(Rv(t)).map(t=>this._registerQuery(t).observable));return e=qt(e.pipe(Zt(1)),e.pipe((1,t=>t.lift(new GE(1))),function(t,e=Ei.a){return n=>n.lift(new xv(t,e))}(0))),e.pipe(Object($t.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new Dt.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(ee(e),Object($t.a)(({matches:e})=>({query:t,matches:e})),qE(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.ac(NI),r.ac(r.A))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(NI),Object(r.ac)(r.A))},token:t,providedIn:"root"}),t})();function FI(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const VI={tooltipState:g_("state",[__("initial, void, hidden",v_({opacity:0,transform:"scale(0)"})),__("visible",v_({transform:"scale(1)"})),S_("* => visible",y_("200ms cubic-bezier(0, 0, 0.2, 1)",w_([v_({opacity:0,transform:"scale(0)",offset:0}),v_({opacity:.5,transform:"scale(0.99)",offset:.5}),v_({opacity:1,transform:"scale(1)",offset:1})]))),S_("* => hidden",y_("100ms cubic-bezier(0, 0, 0.2, 1)",v_({opacity:0})))])},UI=Uv({passive:!0}),BI=new r.r("mat-tooltip-scroll-strategy"),qI={provide:BI,deps:[AI],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},zI=new r.r("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let HI=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=u,this._defaultOptions=l,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ct.a,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,l&&(l.position&&(this.position=l.position),l.touchGestures&&(this.touchGestures=l.touchGestures)),i.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=jv(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(qE(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,UI)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new XT(KI,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(qE(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(qE(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(qE(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Zt(1),qE(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",t=>this._wheelListener(t)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,UI)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const e=(this._document||document).elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;e===n||n.contains(e)||this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(AI),r.Ob(r.l),r.Ob($T),r.Ob(r.R),r.Ob(r.A),r.Ob(Fv),r.Ob(Yv),r.Ob(r_),r.Ob(BI),r.Ob(h_,8),r.Ob(zI,8),r.Ob(o))},t.\u0275dir=r.Jb({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),KI=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Ct.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.h),r.Ob(LI))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&r.dc("click",function(){return e._handleBodyInteraction()},!1,r.sc)("auxclick",function(){return e._handleBodyInteraction()},!1,r.sc),2&t&&r.wc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(r.Tb(0,"div",0),r.dc("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),r.gc(1,"async"),r.zc(2),r.Sb()),2&t){let t=null;r.Gb("mat-tooltip-handset",null==(t=r.hc(1,5,e._isHandset))?null:t.matches),r.kc("ngClass",e.tooltipClass)("@state",e._visibility),r.Cb(2),r.Ac(e.message)}},directives:[x],pipes:[V],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[VI.tooltipState]},changeDetection:0}),t})(),$I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[qI],imports:[[u_,U,RI,nE],nE,GT]}),t})(),WI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-sidebar"]],decls:51,vars:0,consts:[[1,"sidebar"],[1,"nav","flex-column"],[1,"nav-item"],["href","/home",1,"link-nav"],["mat-icon-button",""],[1,"m-2"],["href","",1,"link-nav"]],template:function(t,e){1&t&&(r.Tb(0,"aside",0),r.Tb(1,"ul",1),r.Tb(2,"li",2),r.Tb(3,"a",3),r.Tb(4,"button",4),r.Tb(5,"mat-icon"),r.zc(6,"home"),r.Sb(),r.Tb(7,"span",5),r.zc(8,"Home"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(9,"li",2),r.Tb(10,"a",6),r.Tb(11,"button",4),r.Tb(12,"mat-icon"),r.zc(13,"videogame_asset"),r.Sb(),r.Tb(14,"span",5),r.zc(15,"Gaming"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(16,"li",2),r.Tb(17,"a",6),r.Tb(18,"button",4),r.Tb(19,"mat-icon"),r.zc(20,"music_note"),r.Sb(),r.Tb(21,"span",5),r.zc(22,"Music"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"li",2),r.Tb(24,"a",6),r.Tb(25,"button",4),r.Tb(26,"mat-icon"),r.zc(27,"import_contacts"),r.Sb(),r.Tb(28,"span",5),r.zc(29,"Manga"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(30,"li",2),r.Tb(31,"a",6),r.Tb(32,"button",4),r.Tb(33,"mat-icon"),r.zc(34,"school"),r.Sb(),r.Tb(35,"span",5),r.zc(36,"Education"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(37,"li",2),r.Tb(38,"a",6),r.Tb(39,"button",4),r.Tb(40,"mat-icon"),r.zc(41,"developer_board"),r.Sb(),r.Tb(42,"span",5),r.zc(43,"Tech"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(44,"li",2),r.Tb(45,"a",6),r.Tb(46,"button",4),r.Tb(47,"mat-icon"),r.zc(48,"favorite"),r.Sb(),r.Tb(49,"span",5),r.zc(50,"Favorites"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb())},directives:[wE,yT],styles:[".sidebar[_ngcontent-%COMP%]{height:100%;width:16.67%;position:fixed;top:0;left:0;z-index:1;background-color:#7b1fa2}.nav-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:20px;padding-left:20px}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;display:block}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#862dac}"]}),t})();function GI(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div"),r.Tb(1,"button",9),r.zc(2),r.Sb(),r.Tb(3,"a",10),r.Tb(4,"mat-icon"),r.zc(5,"add"),r.Sb(),r.Sb(),r.Tb(6,"a",11),r.dc("click",function(){return r.tc(t),r.fc().onSignOut()}),r.Tb(7,"mat-icon"),r.zc(8,"logout"),r.Sb(),r.Sb(),r.Tb(9,"a",12),r.Tb(10,"mat-icon"),r.zc(11,"settings"),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.Cb(2),r.Ac(t.authService.currentUser.username)}}function QI(t,e){1&t&&(r.Tb(0,"a",13),r.Tb(1,"mat-icon"),r.zc(2,"login"),r.Sb(),r.Sb())}let YI=(()=>{class t{constructor(t){this.authService=t,this.username=""}ngOnInit(){this.getCurrentUser()}getCurrentUser(){this.authService.isAuth&&this.authService.getCurrentUser()}onSignOut(){this.authService.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(TE))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-navbar"]],decls:16,vars:2,consts:[["color","primary"],["mat-button","","href","/server",1,"mynav-item"],["mat-button","","href","/friends",1,"mynav-item"],["mat-button","","href","/home",1,"mynav-item"],["mat-button","","href","/david",1,"mynav-item"],["mat-button","","href","/maria",1,"mynav-item"],[1,"example-spacer"],[4,"ngIf","ngIfElse"],["noSignIn",""],["mat-button","",1,"mynav-item"],["mat-icon-button","","matTooltip","Add server",1,"mynav-item"],["mat-icon-button","","matTooltip","Sign Out",1,"mynav-item",3,"click"],["mat-icon-button","","matTooltip","Edit profile",1,"mynav-item"],["mat-icon-button","","matTooltip","Sign In","href","/login",1,"mynav-item"]],template:function(t,e){if(1&t&&(r.Tb(0,"div"),r.Tb(1,"mat-toolbar",0),r.Tb(2,"a",1),r.zc(3,"Servers"),r.Sb(),r.Tb(4,"a",2),r.zc(5,"Friends"),r.Sb(),r.Tb(6,"a",3),r.zc(7,"Home"),r.Sb(),r.Tb(8,"a",4),r.zc(9,"David"),r.Sb(),r.Tb(10,"a",5),r.zc(11,"Maria"),r.Sb(),r.Pb(12,"span",6),r.xc(13,GI,12,1,"div",7),r.xc(14,QI,3,0,"ng-template",null,8,r.yc),r.Sb(),r.Sb()),2&t){const t=r.rc(15);r.Cb(13),r.kc("ngIf",e.authService.currentUser)("ngIfElse",t)}},directives:[BT,SE,R,wE,HI,yT],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mynav-item[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:20px;border-radius:5px}.mynav-item[_ngcontent-%COMP%]:hover{background-color:#862dac}"]}),t})(),XI=(()=>{class t{constructor(){this.title="WhatsUp"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"row","mx-0"],[1,"col-2","px-0"],[1,"col-10","px-0"],[1,"container","pt-5"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Pb(2,"app-sidebar"),r.Sb(),r.Tb(3,"div",2),r.Pb(4,"app-navbar"),r.Tb(5,"div",3),r.Pb(6,"router-outlet"),r.Sb(),r.Sb(),r.Sb())},directives:[WI,YI,ii],styles:[""]}),t})();const ZI={apiKey:"AIzaSyBCqwYOQW8ZaFo2fxRTvv2ggGZfEZASynY",authDomain:"whatsup-80e9a.firebaseapp.com",projectId:"whatsup-80e9a",storageBucket:"whatsup-80e9a.appspot.com",messagingSenderId:"555842357677",appId:"1:555842357677:web:b9e82f0bc89b62e899f924",measurementId:"G-G9T9DVK6PK"};let JI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t,bootstrap:[XI]}),t.\u0275inj=r.Lb({providers:[TE,qO,CT,Iv],imports:[[wt,PT,NT,ZS,YC,qT,bT,EE,Ai.a.initializeApp(ZI),lv,VO,$I]]}),t})();Object(r.U)(),vt().bootstrapModule(JI).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);